function recalculate(e){var t=$(".tax-rate :selected").text(),n=parseFloat(t);e.value=e.value.replace(",",".");var i=1+n/100;switch(e.name){case"price_inc_tax":if(e.value){var r=parseFloat(e.value)/i;r=Math.round(1e3*r)/1e3,$(".price").val(r.toFixed(4))}else $(".price").val(0);break;default:case"price":if(e.value){var r=parseFloat(e.value)*i;r=Math.round(100*r)/100,$(".price_inc_tax").val(r.toFixed(2))}else $(".price_inc_tax").val(0)}}if(!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"!==n&&!Z.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return V.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=pe[e]={};return Z.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function a(){J.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Z.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+s.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(_e,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:be.test(n)?Z.parseJSON(n):n)}catch(r){}ye.set(e,t,n)}else n=void 0;return n}function c(){return!0}function d(){return!1}function u(){try{return J.activeElement}catch(e){}}function h(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,i=e.length;i>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function m(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)Z.event.add(t,r,c[r][n])}ye.hasData(e)&&(s=ye.access(e),l=Z.extend({},s),ye.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var i,r=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:Z.css(r[0],"display");return r.detach(),o}function _(e){var t=J,n=Re[e];return n||(n=b(e,t),"none"!==n&&n||(He=(He||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=He[0].contentDocument,t.write(),t.close(),n=b(e,t),He.detach()),Re[e]=n),n}function w(e,t,n){var i,r,o,a,s=e.style;return n=n||Be(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Z.contains(e.ownerDocument,e)||(a=Z.style(e,t)),We.test(a)&&Ue.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function x(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Xe.length;r--;)if(t=Xe[r]+n,t in e)return t;return i}function k(e,t,n){var i=qe.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Z.css(e,n+xe[o],!0,r)),i?("content"===n&&(a-=Z.css(e,"padding"+xe[o],!0,r)),"margin"!==n&&(a-=Z.css(e,"border"+xe[o]+"Width",!0,r))):(a+=Z.css(e,"padding"+xe[o],!0,r),"padding"!==n&&(a+=Z.css(e,"border"+xe[o]+"Width",!0,r)));return a}function T(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Be(e),a="border-box"===Z.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=w(e,t,o),(0>r||null==r)&&(r=e.style[t]),We.test(r))return r;i=a&&(G.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+S(e,t,n||(a?"border":"content"),i,o)+"px"}function D(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=ve.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Ce(i)&&(o[a]=ve.access(i,"olddisplay",_(i.nodeName)))):(r=Ce(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:Z.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function A(e,t,n,i,r){return new A.prototype.init(e,t,n,i,r)}function j(){return setTimeout(function(){Ge=void 0}),Ge=Z.now()}function L(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=xe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function N(e,t,n){for(var i,r=(nt[t]||[]).concat(nt["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function E(e,t,n){var i,r,o,a,s,l,c,d,u=this,h={},f=e.style,p=e.nodeType&&Ce(e),g=ve.get(e,"fxshow");n.queue||(s=Z._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,Z.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=Z.css(e,"display"),d="none"===c?ve.get(e,"olddisplay")||_(e.nodeName):c,"inline"===d&&"none"===Z.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Qe.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||Z.style(e,i)}else c=void 0;if(Z.isEmptyObject(h))"inline"===("none"===c?_(e.nodeName):c)&&(f.display=c);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(e,"fxshow",{}),o&&(g.hidden=!p),p?Z(e).show():u.done(function(){Z(e).hide()}),u.done(function(){var t;ve.remove(e,"fxshow");for(t in h)Z.style(e,t,h[t])});for(i in h)a=N(p?g[i]:0,i,u),i in g||(g[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function M(e,t){var n,i,r,o,a;for(n in e)if(i=Z.camelCase(n),r=t[i],o=e[n],Z.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=Z.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function I(e,t,n){var i,r,o=0,a=tt.length,s=Z.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Ge||j(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ge||j(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(M(d,c.opts.specialEasing);a>o;o++)if(i=tt[o].call(c,e,d,c.opts))return i;return Z.map(d,N,c),Z.isFunction(c.opts.start)&&c.opts.start.call(e,c),Z.fx.timer(Z.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function O(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(fe)||[];if(Z.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function P(e,t,n,i){function r(s){var l;return o[s]=!0,Z.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===bt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function $(e,t){var n,i,r=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&Z.extend(!0,e,i),e}function F(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function H(e,t,n,i){var r,o,a,s,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],d.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function R(e,t,n,i){var r;if(Z.isArray(t))Z.each(t,function(t,r){n||kt.test(e)?i(e,r):R(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(r in t)R(e+"["+r+"]",t[r],n,i)}function U(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var W=[],B=W.slice,z=W.concat,q=W.push,V=W.indexOf,K={},Y=K.toString,X=K.hasOwnProperty,G={},J=e.document,Q="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return B.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:B.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:q,sort:W.sort,splice:W.splice},Z.extend=Z.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||Z.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(c&&i&&(Z.isPlainObject(i)||(r=Z.isArray(i)))?(r?(r=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},a[t]=Z.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===Z.type(e)&&!e.nodeType&&!Z.isWindow(e)&&!(e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Z.merge(i,"string"==typeof e?[e]:e):q.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return z.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(i=B.call(arguments,2),r=function(){return e.apply(t||this,i.concat(B.call(arguments)))},r.guid=e.guid=e.guid||Z.guid++,r):void 0},now:Date.now,support:G}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()});var re=function(e){function t(e,t,n,i){var r,o,a,s,l,c,u,f,p,g;if((t?t.ownerDocument||t:R)!==E&&N(t),t=t||E,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&I){if(11!==s&&(r=ye.exec(e)))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&w.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!O||!O.test(e))){if(f=u=H,p=t,g=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(u=t.getAttribute("id"))?f=u.replace(_e,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);p=be.test(e)&&d(t.parentNode)||t,g=c.join(",")}if(g)try{return Q.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{u||t.removeAttribute("id")}}}return D(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[H]=!0,e}function r(e){var t=E.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=W++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c=[U,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[H]||(t[H]={}),(s=l[i])&&s[0]===U&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[H]&&(r=v(r)),o&&!o[H]&&(o=v(o,a)),i(function(i,a,s,l){var c,d,u,h=[],f=[],p=a.length,v=i||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:m(v,h,e,s,l),b=n?o||(i?e:p||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(c=m(b,f),r(c,[],s,l),d=c.length;d--;)(u=c[d])&&(b[f[d]]=!(y[f[d]]=u));if(i){if(o||e){if(o){for(c=[],d=b.length;d--;)(u=b[d])&&c.push(y[d]=u);o(null,b=[],c,l)}for(d=b.length;d--;)(u=b[d])&&(c=o?ee(i,u):h[d])>-1&&(i[c]=!(a[c]=u))}}else b=m(b===a?b.splice(p,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(e){for(var t,n,i,r=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return ee(t,e)>-1},a,!0),d=[function(e,n,i){var r=!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>s;s++)if(n=x.relative[e[s].type])d=[f(p(d),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[H]){for(i=++s;r>i&&!x.relative[e[i].type];i++);return v(s>1&&p(d),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&h(e))}d.push(n)}return p(d)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,c){var d,u,h,f=0,p="0",g=i&&[],v=[],y=A,b=i||o&&x.find.TAG("*",c),_=U+=null==y?1:Math.random()||.1,w=b.length;for(c&&(A=a!==E&&a);p!==w&&null!=(d=b[p]);p++){if(o&&d){for(u=0;h=e[u++];)if(h(d,a,s)){l.push(d);break}c&&(U=_)}r&&((d=!h&&d)&&f--,i&&g.push(d))}if(f+=p,r&&p!==f){for(u=0;h=n[u++];)h(g,v,a,s);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=G.call(l));v=m(v)}Q.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(U=_,A=y),g};return r?i(a):a}var _,w,x,C,k,S,T,D,A,j,L,N,E,M,I,O,P,$,F,H="sizzle"+1*new Date,R=e.document,U=0,W=0,B=n(),z=n(),q=n(),V=function(e,t){return e===t&&(L=!0),0},K=1<<31,Y={}.hasOwnProperty,X=[],G=X.pop,J=X.push,Q=X.push,Z=X.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),de=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),fe=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){N()};try{Q.apply(X=Z.call(R.childNodes),R.childNodes),X[R.childNodes.length].nodeType}catch(ke){Q={apply:X.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:R;return i!==E&&9===i.nodeType&&i.documentElement?(E=i,M=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),I=!k(i),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(i.getElementsByClassName),w.getById=r(function(e){return M.appendChild(e).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),w.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=w.getElementsByClassName&&function(e,t){return I?t.getElementsByClassName(e):void 0},P=[],O=[],(w.qsa=ve.test(i.querySelectorAll))&&(r(function(e){M.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||O.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=ve.test($=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(e){w.disconnectedMatch=$.call(e,"div"),$.call(e,"[s!='']:x"),P.push("!=",ae)}),O=O.length&&new RegExp(O.join("|")),P=P.length&&new RegExp(P.join("|")),t=ve.test(M.compareDocumentPosition),F=t||ve.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return L=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===R&&F(R,e)?-1:t===i||t.ownerDocument===R&&F(R,t)?1:j?ee(j,e)-ee(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return L=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:j?ee(j,e)-ee(j,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===R?-1:c[r]===R?1:0},i):E},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==E&&N(e),n=n.replace(ue,"='$1']"),!(!w.matchesSelector||!I||P&&P.test(n)||O&&O.test(n)))try{var i=$.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,E,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==E&&N(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==E&&N(e);var n=x.attrHandle[t.toLowerCase()],i=n&&Y.call(x.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==i?i:w.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(L=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(V),L){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return j=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,f,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(u=t;u=u[g];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(d=m[H]||(m[H]={}),c=d[e]||[],f=c[0]===U&&c[1],h=c[0]===U&&c[2],u=f&&m.childNodes[f];u=++f&&u&&u[g]||(h=f=0)||p.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[U,f,h];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===U)h=c[1];else for(;(u=++f&&u&&u[g]||(h=f=0)||p.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(y&&((u[H]||(u[H]={}))[e]=[U,h]),u!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(n):o.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(le,"$1"));return r[H]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,xe),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var n;do if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,S=t.tokenize=function(e,n){var i,r,o,a,s,l,c,d=z[e+" "];if(d)return n?0:d.slice(0);for(s=e,l=[],c=x.preFilter;s;){(!i||(r=ce.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=de.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(le," ")}),s=s.slice(i.length));for(a in x.filter)!(r=pe[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):z(e,l).slice(0)},T=t.compile=function(e,t){var n,i=[],r=[],o=q[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=y(t[n]),o[H]?i.push(o):r.push(o);o=q(e,b(r,i)),o.selector=e}return o},D=t.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,u=!i&&S(e=c.selector||e);if(n=n||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&I&&x.relative[o[1].type]){if(t=(x.find.ID(a.matches[0].replace(we,xe),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(we,xe),be.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return Q.apply(n,i),n;break}}return(c||T(e,u))(i,t,!I,n,be.test(e)&&d(t.parentNode)||t),n},w.sortStable=H.split("").sort(V).join("")===H,w.detectDuplicates=!!L,N(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(E.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Z.find=re,Z.expr=re.selectors,Z.expr[":"]=Z.expr.pseudos,
Z.unique=re.uniqueSort,Z.text=re.getText,Z.isXMLDoc=re.isXML,Z.contains=re.contains;var oe=Z.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Z.find.matchesSelector(i,e)?[i]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(r[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,r[t],i);return i=this.pushStack(n>1?Z.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&oe.test(e)?Z(e):e||[],!1).length}});var le,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,de=Z.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),ae.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=J.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};de.prototype=Z.fn,le=Z(J);var ue=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Z(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?V.call(Z(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var r=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),this.length>1&&(he[e]||Z.unique(r),ue.test(e)&&r.reverse()),this.pushStack(r)}});var fe=/\S+/g,pe={};Z.Callbacks=function(e){e="string"==typeof e?pe[e]||o(e):Z.extend({},e);var t,n,i,r,a,s,l=[],c=!e.once&&[],d=function(o){for(t=e.memory&&o,n=!0,s=r||0,r=0,a=l.length,i=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(c?c.length&&d(c.shift()):t?l=[]:u.disable())},u={add:function(){if(l){var n=l.length;!function o(t){Z.each(t,function(t,n){var i=Z.type(n);"function"===i?e.unique&&u.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?a=l.length:t&&(r=n,d(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,l,n))>-1;)l.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||u.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):d(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var a=Z.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},r={};return i.pipe=i.then,Z.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=B.call(arguments),a=o.length,s=1!==a||e&&Z.isFunction(e.promise)?a:0,l=1===s?e:Z.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?B.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}});var ge;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ge.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return ge||(ge=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),ge.promise(t)},Z.ready.promise();var me=Z.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===Z.type(n)){r=!0;for(s in n)Z.access(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,Z.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Z(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Z.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?i=t.concat(t.map(Z.camelCase)):(r=Z.camelCase(t),t in a?i=[t,r]:(i=r,i=i in a?[i]:i.match(fe)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;Z.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=Z.camelCase(i.slice(5)),l(o,i,r[i])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ye.set(this,e)}):me(this,function(t){var n,i=Z.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,i);ye.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ve.get(e,t),n&&(!i||Z.isArray(n)?i=ve.access(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,r=n.shift(),o=Z._queueHooks(e,t),a=function(){Z.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=Z.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ve.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},ke=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),G.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";G.focusinBubbles="onfocusin"in e;var Te=/^key/,De=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,je=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,d,u,h,f,p,g,m=ve.get(e);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=Z.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return typeof Z!==Se&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],c=t.length;c--;)s=je.exec(t[c])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(u=Z.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=Z.event.special[f]||{},d=Z.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||(h=l[f]=[],h.delegateCount=0,u.setup&&u.setup.call(e,i,p,a)!==!1||e.addEventListener&&e.addEventListener(f,a,!1)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),Z.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,d,u,h,f,p,g,m=ve.hasData(e)&&ve.get(e);if(m&&(l=m.events)){for(t=(t||"").match(fe)||[""],c=t.length;c--;)if(s=je.exec(t[c])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(u=Z.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,h=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)d=h[o],!r&&g!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(h.splice(o,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));a&&!h.length&&(u.teardown&&u.teardown.call(e,p,m.handle)!==!1||Z.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)Z.event.remove(e,f+t[c],n,i,!0);Z.isEmptyObject(l)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,l,c,d,u,h=[i||J],f=X.call(t,"type")?t.type:t,p=X.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!Ae.test(f+Z.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),c=f.indexOf(":")<0&&"on"+f,t=t[Z.expando]?t:new Z.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Z.makeArray(n,[t]),u=Z.event.special[f]||{},r||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!r&&!u.noBubble&&!Z.isWindow(i)){for(l=u.delegateType||f,Ae.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(i.ownerDocument||J)&&h.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=h[o++])&&!t.isPropagationStopped();)t.type=o>1?l:u.bindType||f,d=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),d&&d.apply(a,n),d=c&&a[c],d&&d.apply&&Z.acceptData(a)&&(t.result=d.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||u._default&&u._default.apply(h.pop(),n)!==!1||!Z.acceptData(i)||c&&Z.isFunction(i[f])&&!Z.isWindow(i)&&(s=i[c],s&&(i[c]=null),Z.event.triggered=f,i[f](),Z.event.triggered=void 0,s&&(i[c]=s)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,i,r,o,a=[],s=B.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],c=Z.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=Z.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((Z.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?Z(r,this).index(l)>=0:Z.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=De.test(r)?this.mouseHooks:Te.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new Z.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:d):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!Z.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),G.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,t);r||i.addEventListener(e,n,!0),ve.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,t)-1;r?ve.access(i,t,r):(i.removeEventListener(e,n,!0),ve.remove(i,t))}}}),Z.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=d;else if(!i)return this;return 1===r&&(o=i,i=function(e){return Z().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Z(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=d),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var Le=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ne=/<([\w:]+)/,Ee=/<|&#?\w+;/,Me=/<(?:script|style|link)/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^$|\/(?:java|ecma)script/i,Pe=/^true\/(.*)/,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,Z.extend({clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(G.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(a=v(s),o=v(e),i=0,r=o.length;r>i;i++)y(o[i],a[i]);if(t)if(n)for(o=o||v(e),a=a||v(s),i=0,r=o.length;r>i;i++)m(o[i],a[i]);else m(e,s);return a=v(s,"script"),a.length>0&&g(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,d=t.createDocumentFragment(),u=[],h=0,f=e.length;f>h;h++)if(r=e[h],r||0===r)if("object"===Z.type(r))Z.merge(u,r.nodeType?[r]:r);else if(Ee.test(r)){for(o=o||d.appendChild(t.createElement("div")),a=(Ne.exec(r)||["",""])[1].toLowerCase(),s=Fe[a]||Fe._default,o.innerHTML=s[1]+r.replace(Le,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;Z.merge(u,o.childNodes),o=d.firstChild,o.textContent=""}else u.push(t.createTextNode(r));for(d.textContent="",h=0;r=u[h++];)if((!i||-1===Z.inArray(r,i))&&(l=Z.contains(r.ownerDocument,r),o=v(d.appendChild(r),"script"),l&&g(o),n))for(c=0;r=o[c++];)Oe.test(r.type||"")&&n.push(r);return d},cleanData:function(e){for(var t,n,i,r,o=Z.event.special,a=0;void 0!==(n=e[a]);a++){if(Z.acceptData(n)&&(r=n[ve.expando],r&&(t=ve.cache[r]))){if(t.events)for(i in t.events)o[i]?Z.event.remove(n,i):Z.removeEvent(n,i,t.handle);ve.cache[r]&&delete ve.cache[r]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Z.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!Fe[(Ne.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Le,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,i,r,o,a,s,l=0,c=this.length,d=this,u=c-1,h=e[0],g=Z.isFunction(h);if(g||c>1&&"string"==typeof h&&!G.checkClone&&Ie.test(h))return this.each(function(n){var i=d.eq(n);g&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Z.map(v(n,"script"),f),o=r.length;c>l;l++)a=n,l!==u&&(a=Z.clone(a,!0,!0),o&&Z.merge(r,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,Z.map(r,p),l=0;o>l;l++)a=r[l],Oe.test(a.type||"")&&!ve.access(a,"globalEval")&&Z.contains(s,a)&&(a.src?Z._evalUrl&&Z._evalUrl(a.src):Z.globalEval(a.textContent.replace($e,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,i=[],r=Z(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Z(r[a])[t](n),q.apply(i,n.get());return this.pushStack(i)}});var He,Re={},Ue=/^margin/,We=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),Be=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(o)}var n,i,r=J.documentElement,o=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&Z.extend(G,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",r.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(o),a.removeChild(n),t}}))}(),Z.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r};var ze=/^(none|table(?!-c[ea]).+)/,qe=new RegExp("^("+we+")(.*)$","i"),Ve=new RegExp("^([+-])=("+we+")","i"),Ke={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=Z.camelCase(t),l=e.style;return t=Z.cssProps[s]||(Z.cssProps[s]=C(l,s)),a=Z.cssHooks[t]||Z.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=Ve.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Z.css(e,t)),o="number"),void(null!=n&&n===n&&("number"!==o||Z.cssNumber[s]||(n+="px"),G.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=Z.camelCase(t);return t=Z.cssProps[s]||(Z.cssProps[s]=C(e.style,s)),a=Z.cssHooks[t]||Z.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=w(e,t,i)),"normal"===r&&t in Ye&&(r=Ye[t]),""===n||n?(o=parseFloat(r),n===!0||Z.isNumeric(o)?o||0:r):r}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?ze.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ke,function(){return T(e,t,i)}):T(e,t,i):void 0},set:function(e,n,i){var r=i&&Be(e);return k(e,n,i?S(e,t,i,"border-box"===Z.css(e,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=x(G.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+xe[i]+t]=o[i]||o[i-2]||o[0];return r}},Ue.test(e)||(Z.cssHooks[e+t].set=k)}),Z.fn.extend({css:function(e,t){return me(this,function(e,t,n){var i,r,o={},a=0;if(Z.isArray(t)){for(i=Be(e),r=t.length;r>a;a++)o[t[a]]=Z.css(e,t[a],!1,i);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=A,A.prototype={constructor:A,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=A.prototype.init,Z.fx.step={};var Ge,Je,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[E],nt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Ze.exec(t),o=r&&r[3]||(Z.cssNumber[e]?"":"px"),a=(Z.cssNumber[e]||"px"!==o&&+i)&&Ze.exec(Z.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,Z.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};Z.Animation=Z.extend(I,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Z.isEmptyObject(e),o=Z.speed(t,n,i),a=function(){var t=I(this,Z.extend({},e),o);(r||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=Z.timers,a=ve.get(this);
if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&et.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=Z.timers,a=i?i.length:0;for(n.finish=!0,Z.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(L(t,!0),e,i,r)}}),Z.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Ge=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Ge=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Je||(Je=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Je),Je=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",G.checkOn=""!==e.value,G.optSelected=n.selected,t.disabled=!0,G.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",G.radioValue="t"===e.value}();var it,rt,ot=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return me(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Se?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),i=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?rt:it)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Z.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(fe);if(o&&1===e.nodeType)for(;n=o[r++];)i=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!G.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),rt={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Z.find.attr;ot[t]=function(e,t,i){var r,o;return i||(o=ot[t],ot[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ot[t]=o),r}});var at=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return me(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,r=Z.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),G.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,i,r,o,a,s="string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=Z.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?Z.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=Z(this),o=e.match(fe)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Se||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Z.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=Z.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,Z(this).val()):e,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)):void 0}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(G.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=Z.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=Z.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},G.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ct=Z.now(),dt=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var ut=/#.*$/,ht=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},bt={},_t="*/".concat("*"),wt=e.location.href,xt=vt.exec(wt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:pt.test(xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$($(e,Z.ajaxSettings),t):$(Z.ajaxSettings,e)},ajaxPrefilter:O(yt),ajaxTransport:O(bt),ajax:function(e,t){function n(e,t,n,a){var l,d,v,y,_,x=t;2!==b&&(b=2,s&&clearTimeout(s),i=void 0,o=a||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(y=F(u,w,n)),y=H(u,y,w,l),l?(u.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(Z.lastModified[r]=_),_=w.getResponseHeader("etag"),_&&(Z.etag[r]=_)),204===e||"HEAD"===u.type?x="nocontent":304===e?x="notmodified":(x=y.state,d=y.data,v=y.error,l=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),w.status=e,w.statusText=(t||x)+"",l?p.resolveWith(h,[d,x,w]):p.rejectWith(h,[w,x,v]),w.statusCode(m),m=void 0,c&&f.trigger(l?"ajaxSuccess":"ajaxError",[w,u,l?d:v]),g.fireWith(h,[w,x]),c&&(f.trigger("ajaxComplete",[w,u]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,s,l,c,d,u=Z.ajaxSetup({},t),h=u.context||u,f=u.context&&(h.nodeType||h.jquery)?Z(h):Z.event,p=Z.Deferred(),g=Z.Callbacks("once memory"),m=u.statusCode||{},v={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=ft.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return i&&i.abort(t),n(0,t),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,u.url=((e||u.url||wt)+"").replace(ut,"").replace(mt,xt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=Z.trim(u.dataType||"*").toLowerCase().match(fe)||[""],null==u.crossDomain&&(l=vt.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]===xt[1]&&l[2]===xt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(xt[3]||("http:"===xt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=Z.param(u.data,u.traditional)),P(yt,u,t,w),2===b)return w;c=Z.event&&u.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!gt.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(dt.test(r)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=ht.test(r)?r.replace(ht,"$1_="+ct++):r+(dt.test(r)?"&":"?")+"_="+ct++)),u.ifModified&&(Z.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&w.setRequestHeader("If-None-Match",Z.etag[r])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+_t+"; q=0.01":""):u.accepts["*"]);for(d in u.headers)w.setRequestHeader(d,u.headers[d]);if(u.beforeSend&&(u.beforeSend.call(h,w,u)===!1||2===b))return w.abort();_="abort";for(d in{success:1,error:1,complete:1})w[d](u[d]);if(i=P(bt,u,t,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},u.timeout));try{b=1,i.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,i,r){return Z.isFunction(n)&&(r=r||i,i=n,n=void 0),Z.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Ct=/%20/g,kt=/\[\]$/,St=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,i=[],r=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){r(this.name,this.value)});else for(n in e)R(n,e[n],t,r);return i.join("&").replace(Ct,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Dt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var At=0,jt={},Lt={0:200,1223:204},Nt=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in jt)jt[e]()}),G.cors=!!Nt&&"withCredentials"in Nt,G.ajax=Nt=!!Nt,Z.ajaxTransport(function(e){var t;return G.cors||Nt&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr(),a=++At;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete jt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(Lt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=jt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Et=[],Mt=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Et.pop()||Z.expando+"_"+ct++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Mt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Mt,"$1"+r):t.jsonp!==!1&&(t.url+=(dt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||Z.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Et.push(r)),a&&Z.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var i=ae.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,r),r&&r.length&&Z(r).remove(),Z.merge([],i.childNodes))};var It=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&It)return It.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>=0&&(i=Z.trim(e.slice(s)),e=e.slice(0,s)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&Z.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?Z("<div>").append(Z.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Ot=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c,d=Z.css(e,"position"),u=Z(e),h={};"static"===d&&(e.style.position="relative"),s=u.offset(),o=Z.css(e,"top"),l=Z.css(e,"left"),c=("absolute"===d||"fixed"===d)&&(o+l).indexOf("auto")>-1,c?(i=u.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):u.css(h)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,Z.contains(t,i)?(typeof i.getBoundingClientRect!==Se&&(r=i.getBoundingClientRect()),n=U(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(i=e.offset()),i.top+=Z.css(e[0],"borderTopWidth",!0),i.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Z.css(n,"marginTop",!0),left:t.left-i.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ot;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Ot})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Z.fn[t]=function(r){return me(this,function(t,r,o){var a=U(t);return void 0===o?a?a[n]:t[r]:void(a?a.scrollTo(i?e.pageXOffset:o,i?o:e.pageYOffset):t[r]=o)},t,r,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=x(G.pixelPosition,function(e,n){return n?(n=w(e,t),We.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Z.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return me(this,function(t,n,i){var r;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?Z.css(t,n,a):Z.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Pt=e.jQuery,$t=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=$t),t&&e.jQuery===Z&&(e.jQuery=Pt),Z},typeof t===Se&&(e.jQuery=e.$=Z),Z}),+function(e){"use strict";function t(t){return t.is('[type="checkbox"]')?t.prop("checked"):t.is('[type="radio"]')?!!e('[name="'+t.attr("name")+'"]:checked').length:t.is("select[multiple]")?(t.val()||[]).length:t.val()}function n(t){return this.each(function(){var n=e(this),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),o=n.data("bs.validator");(o||"destroy"!=t)&&(o||n.data("bs.validator",o=new i(this,r)),"string"==typeof t&&o[t]())})}var i=function(n,r){this.options=r,this.validators=e.extend({},i.VALIDATORS,r.custom),this.$element=e(n),this.$btn=e('button[type="submit"], input[type="submit"]').filter('[form="'+this.$element.attr("id")+'"]').add(this.$element.find('input[type="submit"], button[type="submit"]')),this.update(),this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",e.proxy(this.onInput,this)),this.$element.on("submit.bs.validator",e.proxy(this.onSubmit,this)),this.$element.on("reset.bs.validator",e.proxy(this.reset,this)),this.$element.find("[data-match]").each(function(){var n=e(this),i=n.attr("data-match");e(i).on("input.bs.validator",function(e){t(n)&&n.trigger("input.bs.validator")})}),this.$inputs.filter(function(){return t(e(this))&&!e(this).closest(".has-error").length}).trigger("focusout"),this.$element.attr("novalidate",!0)};i.VERSION="0.11.9",i.INPUT_SELECTOR=':input:not([type="hidden"], [type="submit"], [type="reset"], button)',i.FOCUS_OFFSET=20,i.DEFAULTS={delay:500,html:!1,disable:!0,focus:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-remove"}},i.VALIDATORS={"native":function(e){var t=e[0];if(t.checkValidity)return!t.checkValidity()&&!t.validity.valid&&(t.validationMessage||"error!")},match:function(t){var n=t.attr("data-match");return t.val()!==e(n).val()&&i.DEFAULTS.errors.match},minlength:function(e){var t=e.attr("data-minlength");return e.val().length<t&&i.DEFAULTS.errors.minlength}},i.prototype.update=function(){var t=this;return this.$inputs=this.$element.find(i.INPUT_SELECTOR).add(this.$element.find('[data-validate="true"]')).not(this.$element.find('[data-validate="false"]').each(function(){t.clearErrors(e(this))})),this.toggleSubmit(),this},i.prototype.onInput=function(t){var n=this,i=e(t.target),r="focusout"!==t.type;this.$inputs.is(i)&&this.validateInput(i,r).done(function(){n.toggleSubmit()})},i.prototype.validateInput=function(n,i){var r=(t(n),n.data("bs.validator.errors"));n.is('[type="radio"]')&&(n=this.$element.find('input[name="'+n.attr("name")+'"]'));var o=e.Event("validate.bs.validator",{relatedTarget:n[0]});if(this.$element.trigger(o),!o.isDefaultPrevented()){var a=this;return this.runValidators(n).done(function(t){n.data("bs.validator.errors",t),t.length?i?a.defer(n,a.showErrors):a.showErrors(n):a.clearErrors(n),r&&t.toString()===r.toString()||(o=t.length?e.Event("invalid.bs.validator",{relatedTarget:n[0],detail:t}):e.Event("valid.bs.validator",{relatedTarget:n[0],detail:r}),a.$element.trigger(o)),a.toggleSubmit(),a.$element.trigger(e.Event("validated.bs.validator",{relatedTarget:n[0]}))})}},i.prototype.runValidators=function(n){function i(e){return n.attr("data-"+e+"-error")}function r(){var e=n[0].validity;return e.typeMismatch?n.attr("data-type-error"):e.patternMismatch?n.attr("data-pattern-error"):e.stepMismatch?n.attr("data-step-error"):e.rangeOverflow?n.attr("data-max-error"):e.rangeUnderflow?n.attr("data-min-error"):e.valueMissing?n.attr("data-required-error"):null}function o(){return n.attr("data-error")}function a(e){return i(e)||r()||o()}var s=[],l=e.Deferred();return n.data("bs.validator.deferred")&&n.data("bs.validator.deferred").reject(),n.data("bs.validator.deferred",l),e.each(this.validators,e.proxy(function(e,i){var r=null;!t(n)&&!n.attr("required")||void 0===n.attr("data-"+e)&&"native"!=e||!(r=i.call(this,n))||(r=a(e)||r,!~s.indexOf(r)&&s.push(r))},this)),!s.length&&t(n)&&n.attr("data-remote")?this.defer(n,function(){var i={};i[n.attr("name")]=t(n),e.get(n.attr("data-remote"),i).fail(function(e,t,n){s.push(a("remote")||n)}).always(function(){l.resolve(s)})}):l.resolve(s),l.promise()},i.prototype.validate=function(){var t=this;return e.when(this.$inputs.map(function(n){return t.validateInput(e(this),!1)})).then(function(){t.toggleSubmit(),t.focusError()}),this},i.prototype.focusError=function(){if(this.options.focus){var t=this.$element.find(".has-error:first :input");0!==t.length&&(e("html, body").animate({scrollTop:t.offset().top-i.FOCUS_OFFSET},250),t.focus())}},i.prototype.showErrors=function(t){var n=this.options.html?"html":"text",i=t.data("bs.validator.errors"),r=t.closest(".form-group"),o=r.find(".help-block.with-errors"),a=r.find(".form-control-feedback");i.length&&(i=e("<ul/>").addClass("list-unstyled").append(e.map(i,function(t){return e("<li/>")[n](t)})),void 0===o.data("bs.validator.originalContent")&&o.data("bs.validator.originalContent",o.html()),o.empty().append(i),r.addClass("has-error has-danger"),r.hasClass("has-feedback")&&a.removeClass(this.options.feedback.success)&&a.addClass(this.options.feedback.error)&&r.removeClass("has-success"))},i.prototype.clearErrors=function(e){var n=e.closest(".form-group"),i=n.find(".help-block.with-errors"),r=n.find(".form-control-feedback");i.html(i.data("bs.validator.originalContent")),n.removeClass("has-error has-danger has-success"),n.hasClass("has-feedback")&&r.removeClass(this.options.feedback.error)&&r.removeClass(this.options.feedback.success)&&t(e)&&r.addClass(this.options.feedback.success)&&n.addClass("has-success")},i.prototype.hasErrors=function(){function t(){return!!(e(this).data("bs.validator.errors")||[]).length}return!!this.$inputs.filter(t).length},i.prototype.isIncomplete=function(){function n(){var n=t(e(this));return!("string"==typeof n?e.trim(n):n)}return!!this.$inputs.filter("[required]").filter(n).length},i.prototype.onSubmit=function(e){this.validate(),(this.isIncomplete()||this.hasErrors())&&e.preventDefault()},i.prototype.toggleSubmit=function(){this.options.disable&&this.$btn.toggleClass("disabled",this.isIncomplete()||this.hasErrors())},i.prototype.defer=function(t,n){return n=e.proxy(n,this,t),this.options.delay?(window.clearTimeout(t.data("bs.validator.timeout")),void t.data("bs.validator.timeout",window.setTimeout(n,this.options.delay))):n()},i.prototype.reset=function(){return this.$element.find(".form-control-feedback").removeClass(this.options.feedback.error).removeClass(this.options.feedback.success),this.$inputs.removeData(["bs.validator.errors","bs.validator.deferred"]).each(function(){var t=e(this),n=t.data("bs.validator.timeout");window.clearTimeout(n)&&t.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var t=e(this),n=t.data("bs.validator.originalContent");t.removeData("bs.validator.originalContent").html(n)}),this.$btn.removeClass("disabled"),this.$element.find(".has-error, .has-danger, .has-success").removeClass("has-error has-danger has-success"),this},i.prototype.destroy=function(){return this.reset(),this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator"),this.$inputs.off(".bs.validator"),this.options=null,this.validators=null,this.$element=null,this.$btn=null,this.$inputs=null,this};var r=e.fn.validator;e.fn.validator=n,e.fn.validator.Constructor=i,e.fn.validator.noConflict=function(){return e.fn.validator=r,this},e(window).on("load",function(){e('form[data-toggle="validator"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?n=t:t={};var e,n,i;!function(t){function r(e,t){return _.call(e,t)}function o(e,t){var n,i,r,o,a,s,l,c,d,u,h,f=t&&t.split("/"),p=y.map,g=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),a=e.length-1,y.nodeIdCompat&&x.test(e[a])&&(e[a]=e[a].replace(x,"")),e=f.slice(0,f.length-1).concat(e),d=0;d<e.length;d+=1)if(h=e[d],"."===h)e.splice(d,1),d-=1;else if(".."===h){if(1===d&&(".."===e[2]||".."===e[0]))break;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||g)&&p){for(n=e.split("/"),d=n.length;d>0;d-=1){if(i=n.slice(0,d).join("/"),f)for(u=f.length;u>0;u-=1)if(r=p[f.slice(0,u).join("/")],r&&(r=r[i])){o=r,s=d;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=d)}!o&&l&&(o=l,s=c),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function a(e,n){return function(){var i=w.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),f.apply(t,i.concat([e,n]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){m[e]=t}}function c(e){if(r(v,e)){var n=v[e];delete v[e],b[e]=!0,h.apply(t,n)}if(!r(m,e)&&!r(b,e))throw new Error("No "+e);return m[e]}function d(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e){return function(){return y&&y.config&&y.config[e]||{}}}var h,f,p,g,m={},v={},y={},b={},_=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;p=function(e,t){var n,i=d(e),r=i[0];return e=i[1],r&&(r=o(r,t),n=c(r)),r?e=n&&n.normalize?n.normalize(e,s(t)):o(e,t):(e=o(e,t),i=d(e),r=i[0],e=i[1],r&&(n=c(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},g={require:function(e){return a(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:u(e)}}},h=function(e,n,i,o){var s,d,u,h,f,y,_=[],w=typeof i;if(o=o||e,"undefined"===w||"function"===w){for(n=!n.length&&i.length?["require","exports","module"]:n,f=0;f<n.length;f+=1)if(h=p(n[f],o),d=h.f,"require"===d)_[f]=g.require(e);else if("exports"===d)_[f]=g.exports(e),y=!0;else if("module"===d)s=_[f]=g.module(e);else if(r(m,d)||r(v,d)||r(b,d))_[f]=c(d);else{if(!h.p)throw new Error(e+" missing "+d);h.p.load(h.n,a(o,!0),l(d),{}),_[f]=m[d]}u=i?i.apply(m[e],_):void 0,e&&(s&&s.exports!==t&&s.exports!==m[e]?m[e]=s.exports:u===t&&y||(m[e]=u))}else e&&(m[e]=i)},e=n=f=function(e,n,i,r,o){if("string"==typeof e)return g[e]?g[e](n):c(p(e,n).f);if(!e.splice){if(y=e,y.deps&&f(y.deps,y.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?h(t,e,n,i):setTimeout(function(){h(t,e,n,i)},4),f},f.config=function(e){return f(e)},e._defined=m,i=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),r(m,e)||r(v,e)||(v[e]=[e,t,n])},i.amd={jQuery:!0}}(),t.requirejs=e,t.require=n,t.define=i}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var i in t){var r=t[i];"function"==typeof r&&"constructor"!==i&&n.push(i)}return n}var n={};n.Extend=function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},n.Decorate=function(e,n){function i(){var t=Array.prototype.unshift,i=n.prototype.constructor.length,r=e.prototype.constructor;
i>0&&(t.call(arguments,e.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=i}var o=t(n),a=t(e);n.displayName=e.displayName,i.prototype=new r;for(var s=0;s<a.length;s++){var l=a[s];i.prototype[l]=e.prototype[l]}for(var c=(function(e){var t=function(){};e in i.prototype&&(t=i.prototype[e]);var r=n.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,t),r.apply(this,arguments)}}),d=0;d<o.length;d++){var u=o[d];i.prototype[u]=c(u)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},i.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},n.Observable=i,n.generateChars=function(e){for(var t="",n=0;n<e;n++){var i=Math.floor(36*Math.random());t+=i.toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];o=o.substring(0,1).toLowerCase()+o.substring(1),o in i||(i[o]={}),r==n.length-1&&(i[o]=e[t]),i=i[o]}delete e[t]}}return e},n.hasScroll=function(t,n){var i=e(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,function(e){i=i.add(e)}),n=i}t.append(n)},n}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);i.append(n(r(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],r=this.option(i);t.push(r)}this.$results.append(t)},n.prototype.position=function(e,t){var n=t.find(".select2-results");n.append(e)},n.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var i=e.map(n,function(e){return e.id.toString()}),r=t.$results.find(".select2-results__option[aria-selected]");r.each(function(){var t=e(this),n=e.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(r,i)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(var r in i){var o=i[r];n.setAttribute(r,o)}if(t.children){var a=e(n),s=document.createElement("strong");s.className="select2-results__group";e(s);this.template(t,s);for(var l=[],c=0;c<t.children.length;c++){var d=t.children[c],u=this.option(d);l.push(u)}var h=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(l),a.append(s),a.append(h)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t,n){var i=this,r=t.id+"-results";this.$results.attr("id",r),t.on("results:all",function(e){i.clear(),i.append(e.data),t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("results:append",function(e){i.append(e.data),t.isOpen()&&i.setClasses()}),t.on("query",function(e){i.hideMessages(),i.showLoading(e)}),t.on("select",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),t.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=i.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=i.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var r=n-1;0===e.length&&(r=0);var o=t.eq(r);o.trigger("mouseenter");var a=i.$results.offset().top,s=o.offset().top,l=i.$results.scrollTop()+(s-a);0===r?i.$results.scrollTop(0):s-a<0&&i.$results.scrollTop(l)}}),t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e),r=n+1;if(!(r>=t.length)){var o=t.eq(r);o.trigger("mouseenter");var a=i.$results.offset().top+i.$results.outerHeight(!1),s=o.offset().top+o.outerHeight(!1),l=i.$results.scrollTop()+s-a;0===r?i.$results.scrollTop(0):s>a&&i.$results.scrollTop(l)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){i.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-t+e.deltaY,r=e.deltaY>0&&t-e.deltaY<=0,o=e.deltaY<0&&n<=i.$results.height();r?(i.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var n=e(this),r=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:t,data:r}):i.trigger("close",{})):void i.trigger("select",{originalEvent:t,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var n=e(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),n=t.index(e),i=this.$results.offset().top,r=e.offset().top,o=this.$results.scrollTop()+(r-i),a=r-i;o-=2*e.outerHeight(!1),n<=2?this.$results.scrollTop(0):(a>this.$results.outerHeight()||a<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(t,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):e(n).append(o)},n}),t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},i.prototype.bind=function(e,t){var i=this,r=(e.id+"-container",e.id+"-results");this.container=e,this.$selection.on("focus",function(e){i.trigger("focus",e)}),this.$selection.on("blur",function(e){i._handleBlur(e)}),this.$selection.on("keydown",function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){i.update(e.data)}),e.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(e)}),e.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(e)}),e.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),e.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target),i=n.closest(".select2"),r=e(".select2.select2-container--open");r.each(function(){var t=e(this);if(this!=i[0]){var n=t.data("element");n.select2("close")}})})},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){var n=t.find(".selection");n.append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var n=this;r.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(e){n.update(e.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e,t){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.prop("title",t.title||t.text)},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,n){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){r.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!r.options.get("disabled")){var n=e(this),i=n.parent(),o=i.data("data");r.trigger("unselect",{originalEvent:t,data:o})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(e,t))},i.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return t},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var r=e[i],o=this.selectionContainer(),a=this.display(r,o);o.append(a),o.prop("title",r.title||r.text),o.data("data",r),t.push(o)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,t)}},i}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id,i=t.length>1;if(i||n)return e.call(this,t);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var i=n.data("data"),r=0;r<i.length;r++){var o={data:i[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=e('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,t,i){var r=this;e.call(this,t,i),t.on("open",function(){r.$search.trigger("focus")}),t.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),t.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),t.on("disable",function(){r.$search.prop("disabled",!0)}),t.on("focus",function(e){r.$search.trigger("focus")}),t.on("results:focus",function(e){r.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){r.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){r._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented();var t=e.which;if(t===n.BACKSPACE&&""===r.$search.val()){var i=r.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var o=i.data("data");r.searchRemoveChoice(o),e.preventDefault()}}});var o=document.documentMode,a=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){return a?void r.$selection.off("input.search input.searchcheck"):void r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(a&&"input"===e.type)return void r.$selection.off("input.search input.searchcheck");var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&r.handleSearch(e)})},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{var t=this.$search.val().length+1;e=.75*t+"em"}this.$search.css("width",e)},i}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];t.call(this,n,i),n.on("*",function(t,n){if(e.inArray(t,o)!==-1){n=n||{};var i=e.Event("select2:"+t,{params:n});r.$element.trigger(i),e.inArray(t,a)!==-1&&(n.prevented=i.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){var e={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return e}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return i+=e.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4)},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each(function(){var e=n(this),r=i.item(e);t.push(r)}),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];e=[e],e.push.apply(e,i);for(var o=0;o<e.length;o++){var a=e[o].id;n.inArray(a,r)===-1&&r.push(a)}t.$element.val(r),t.$element.trigger("change")});else{var i=e.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,n(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var r=[],o=0;o<i.length;o++){var a=i[o].id;a!==e.id&&n.inArray(a,r)===-1&&r.push(a)}t.$element.val(r),t.$element.trigger("change")})},i.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(e,t){var i=[],r=this,o=this.$element.children();o.each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var o=r.item(t),a=r.matches(e,o);null!==a&&i.push(a)}}),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=e.text:t.innerText=e.text),e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var i=n(t),r=this._normalizeItem(e);return r.element=t,n.data(t,"data",r),i},i.prototype.item=function(e){var t={};if(t=n.data(e[0],"data"),null!=t)return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var i=e.children("option"),r=[],o=0;o<i.length;o++){var a=n(i[o]),s=this.item(a);r.push(s)}t.children=r}return t=this._normalizeItem(t),t.element=e[0],n.data(e[0],"data",t),t},i.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},i.prototype.matches=function(e,t){var n=this.options.get("matcher");return n(e,t)},i}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(i,e),i.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){function i(e){return function(){return n(this).val()==e.id}}for(var r=this,o=this.$element.find("option"),a=o.map(function(){return r.item(n(this)).id}).get(),s=[],l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(n.inArray(c.id,a)>=0){var d=o.filter(i(c)),u=this.item(d),h=n.extend(!0,{},c,u),f=this.option(h);d.replaceWith(f)}else{var p=this.option(c);if(c.children){var g=this.convertToOptions(c.children);t.appendMany(p,g)}s.push(p)}}return s},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var r=n.ajax(e);return r.then(t),r.fail(i),r}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){
function i(){var i=o.transport(o,function(i){var o=r.processResults(i,e);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(o)},function(){i.status&&"0"===i.status||r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var a=i.get("insertTag");if(void 0!==a&&(this.insertTag=a),t.call(this,n,i),e.isArray(r))for(var s=0;s<r.length;s++){var l=r[s],c=this._normalizeItem(l),d=this.option(c);this.$element.append(d)}}return t.prototype.query=function(e,t,n){function i(e,o){for(var a=e.results,s=0;s<a.length;s++){var l=a[s],c=null!=l.children&&!i({results:l.children},!0),d=l.text===t.term;if(d||c)return!o&&(e.data=a,void n(e))}if(o)return!0;var u=r.createTag(t);if(null!=u){var h=r.option(u);h.attr("data-select2-tag",!0),r.addOptions([h]),r.insertTag(a,u)}e.results=a,n(e)}var r=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,n):void e.call(this,t,i)},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){var n=(this._lastTag,this.$element.find("option[data-select2-tag]"));n.each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,i){function r(t){var n=a._normalizeItem(t),i=a.$element.find("option").filter(function(){return e(this).val()===n.id});if(!i.length){var r=a.option(n);r.attr("data-select2-tag",!0),a._removeOldTags(),a.addOptions([r])}o(n)}function o(e){a.trigger("select",{data:e})}var a=this;n.term=n.term||"";var s=this.tokenizer(n,this.options,r);s.term!==n.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),n.term=s.term),t.call(this,n,i)},t.prototype.tokenizer=function(t,n,i,r){for(var o=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<a.length;){var c=a[s];if(e.inArray(c,o)!==-1){var d=a.substr(0,s),u=e.extend({},n,{term:d}),h=l(u);null!=h?(r(h),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var i=this;this.current(function(r){var o=null!=r?r.length:0;return i.maximumSelectionLength>0&&o>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void e.call(i,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(t,n,i){var r=this;t.call(this,n,i),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("focus",function(){n.isOpen()&&r.$search.focus()}),n.on("results:all",function(e){if(null==e.query.term||""===e.query.term){var t=r.showSearch(e);t?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide")}})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;i>=0;i--){var r=t[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,i){var r=this;t.call(this,n,i),n.on("query",function(e){r.lastParams=e,r.loading=!0}),n.on("query:append",function(e){r.lastParams=e,r.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,r.$loadingMore[0]);if(!r.loading&&t){var n=r.$results.offset().top+r.$results.outerHeight(!1),i=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1);n+50>=i&&r.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,i){this.$dropdownParent=i.get("dropdownParent")||e(document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this,r=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),r||(r=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(o,function(t){var n=e(this).data("select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(o+" "+a+" "+s,function(e){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,a="orientationchange.select2."+i.id,s=this.$container.parents().filter(t.hasScroll);s.off(r),e(window).off(r+" "+o+" "+a)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},c=l.top<o.top-s.height,d=l.bottom>o.bottom+s.height,u={left:o.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f=h.offset();u.top-=f.top,u.left-=f.left,n||i||(r="below"),d||!c||n?!c&&d&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(u.top=a.top-f.top-s.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(u)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var n=0,i=0;i<t.length;i++){var r=t[i];r.children?n+=e(r.children):n++}return n}function t(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return t.prototype.showSearch=function(t,n){return!(e(n.data.results)<this.minimumResultsForSearch)&&t.call(this,n)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){var t=e.minimum-e.input.length,n="Please enter "+t+" or more characters";return n},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,i,r,o,a,s,l,c,d,u,h,f,p,g,m,v,y,b,_,w,x,C,k,S,T,D,A){function j(){this.reset()}j.prototype.apply=function(u){if(u=e.extend(!0,{},this.defaults,u),null==u.dataAdapter){if(null!=u.ajax?u.dataAdapter=p:null!=u.data?u.dataAdapter=f:u.dataAdapter=h,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,b)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=c.Decorate(u.dataAdapter,m)),null!=u.query){var A=t(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,A)}if(null!=u.initSelection){var j=t(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,j)}}if(null==u.resultsAdapter&&(u.resultsAdapter=n,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,C)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,x)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,T))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=_;else{var L=c.Decorate(_,w);u.dropdownAdapter=L}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,S)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,D)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var N=t(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,N)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,k)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=r:u.selectionAdapter=i,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,o)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var E=t(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,E)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}if("string"==typeof u.language)if(u.language.indexOf("-")>0){var M=u.language.split("-"),I=M[0];u.language=[u.language,I]}else u.language=[u.language];if(e.isArray(u.language)){var O=new d;u.language.push("en");for(var P=u.language,$=0;$<P.length;$++){var F=P[$],H={};try{H=d.loadPath(F)}catch(R){try{F=this.defaults.amdLanguageBase+F,H=d.loadPath(F)}catch(U){u.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+F+'" could not be automatically loaded. A fallback will be used instead.');continue}}O.extend(H)}u.translations=O}else{var W=d.loadPath(this.defaults.amdLanguageBase+"en"),B=new d(u.language);B.extend(W),u.translations=B}return u},j.prototype.reset=function(){function t(e){function t(e){return u[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(i,r){if(""===e.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=e.extend(!0,{},r),a=r.children.length-1;a>=0;a--){var s=r.children[a],l=n(i,s);null==l&&o.children.splice(a,1)}return o.children.length>0?o:n(i,o)}var c=t(r.text).toUpperCase(),d=t(i.term).toUpperCase();return c.indexOf(d)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:A,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},j.prototype.set=function(t,n){var i=e.camelCase(t),r={};r[i]=n;var o=c._convertData(r);e.extend(this.defaults,o)};var L=new j;return L}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,i){function r(t,r){if(this.options=t,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var r={};r=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var o=t.extend(!0,{},r);o=i._convertData(o);for(var a in o)t.inArray(a,n)>-1||(t.isPlainObject(this.options[a])?t.extend(this.options[a],o[a]):this.options[a]=o[a]);return this},r.prototype.get=function(e){return this.options[e]},r.prototype.set=function(e,t){this.options[e]=t},r}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,i){var r=function(e,n){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),r.__super__.constructor.call(this);var i=e.attr("tabindex")||0;e.data("old-tabindex",i),e.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(e,this.options);var a=this.render();this._placeContainer(a);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==t){var o=e.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,l=a.length;s<l;s+=1){var c=a[s].replace(/\s/g,""),d=c.match(n);if(null!==d&&d.length>=1)return d[1]}return null}return t},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){e.each(n,t._syncA),e.each(n,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(i,r){e.inArray(i,n)===-1&&t.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var r=0;r<t.addedNodes.length;r++){var o=t.addedNodes[r];o.selected&&(n=!0)}else t.removedNodes&&t.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},r.prototype.trigger=function(e,t){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in i){var o=i[e],a={prevented:!1,name:e,args:t};if(n.call(this,o,a),a.prevented)return void(t.prevented=!0)}n.call(this,e,t)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},r}),t.define("jquery-mousewheel",["jquery"],function(e){return e}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,i){if(null==e.fn.select2){var r=["open","close","destroy"];e.fn.select2=function(t){if(t=t||{},"object"==typeof t)return this.each(function(){var i=e.extend(!0,{},t);new n(e(this),i)}),this;if("string"==typeof t){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=n[t].apply(n,o)}),e.inArray(t,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),function(e){"use strict";e.event.special.destroyed||(e.event.special.destroyed={remove:function(e){e.handler&&e.handler()}}),e.fn.extend({maxlength:function(t,n){function i(e){var n=e.val();n=t.twoCharLinebreak?n.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n"):n.replace(new RegExp("\r?\n","g"),"\n");var i=0;return i=t.utf8?o(n):n.length}function r(e,n){var i=e.val(),r=0;t.twoCharLinebreak&&(i=i.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n"),"\n"===i.substr(i.length-1)&&i.length%2===1&&(r=1)),e.val(i.substr(0,n-r))}function o(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t++:t+=i>127&&i<2048?2:3}return t}function a(e,n,r){var o=!0;return!t.alwaysShow&&r-i(e)>n&&(o=!1),o}function s(e,t){var n=t-i(e);return n}function l(e,t){t.css({display:"block"}),e.trigger("maxlength.shown")}function c(e,n){t.alwaysShow||(n.css({display:"none"}),e.trigger("maxlength.hidden"))}function d(e,n,i){var r="";return t.message?r="function"==typeof t.message?t.message(e,n):t.message.replace("%charsTyped%",i).replace("%charsRemaining%",n-i).replace("%charsTotal%",n):(t.preText&&(r+=t.preText),r+=t.showCharsTyped?i:n-i,t.showMaxLength&&(r+=t.separator+n),t.postText&&(r+=t.postText)),r}function u(e,n,i,r){r&&(r.html(d(n.val(),i,i-e)),e>0?a(n,t.threshold,i)?l(n,r.removeClass(t.limitReachedClass).addClass(t.warningClass)):c(n,r):l(n,r.removeClass(t.warningClass).addClass(t.limitReachedClass))),t.customMaxAttribute&&(e<0?n.addClass("overmax"):n.removeClass("overmax"))}function h(t){var n=t[0];return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():{width:n.offsetWidth,height:n.offsetHeight},t.offset())}function f(n,i){var r=h(n);if("function"===e.type(t.placement))return void t.placement(n,i,r);if(e.isPlainObject(t.placement))return void p(t.placement,i);var o=n.outerWidth(),a=i.outerWidth(),s=i.width(),l=i.height();switch(t.appendToParent&&(r.top-=n.parent().offset().top,r.left-=n.parent().offset().left),t.placement){case"bottom":i.css({top:r.top+r.height,left:r.left+r.width/2-s/2});break;case"top":i.css({top:r.top-l,left:r.left+r.width/2-s/2});break;case"left":i.css({top:r.top+r.height/2-l/2,left:r.left-s});break;case"right":i.css({top:r.top+r.height/2-l/2,left:r.left+r.width});break;case"bottom-right":i.css({top:r.top+r.height,left:r.left+r.width});break;case"top-right":i.css({top:r.top-l,left:r.left+o});break;case"top-left":i.css({top:r.top-l,left:r.left-a});break;case"bottom-left":i.css({top:r.top+n.outerHeight(),left:r.left-a});break;case"centered-right":i.css({top:r.top+l/2,left:r.left+o-a-3});break;case"bottom-right-inside":i.css({top:r.top+r.height,left:r.left+r.width-a});break;case"top-right-inside":i.css({top:r.top-l,left:r.left+o-a});break;case"top-left-inside":
i.css({top:r.top-l,left:r.left});break;case"bottom-left-inside":i.css({top:r.top+n.outerHeight(),left:r.left})}}function p(n,i){if(n&&i){var r=["top","bottom","left","right","position"],o={};e.each(r,function(e,n){var i=t.placement[n];"undefined"!=typeof i&&(o[n]=i)}),i.css(o)}}function g(){return"bottom-right-inside"===t.placement||"top-right-inside"===t.placement||"function"==typeof t.placement||t.message&&"function"==typeof t.message}function m(e){var n=e.attr("maxlength")||t.customMaxAttribute;if(t.customMaxAttribute&&!t.allowOverMax){var i=e.attr(t.customMaxAttribute);(!n||i<n)&&(n=i)}return n||(n=e.attr("size")),n}var v=e("body"),y={showOnReady:!1,alwaysShow:!1,threshold:10,warningClass:"label label-success",limitReachedClass:"label label-important label-danger",separator:" / ",preText:"",postText:"",showMaxLength:!0,placement:"bottom",message:null,showCharsTyped:!0,validate:!1,utf8:!1,appendToParent:!1,twoCharLinebreak:!0,customMaxAttribute:null,allowOverMax:!1};return e.isFunction(t)&&!n&&(n=t,t={}),t=e.extend(y,t),this.each(function(){function n(){var n=d(a.val(),i,"0");i=m(a),o||(o=e('<span class="bootstrap-maxlength"></span>').css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:1099}).html(n)),a.is("textarea")&&(a.data("maxlenghtsizex",a.outerWidth()),a.data("maxlenghtsizey",a.outerHeight()),a.mouseup(function(){a.outerWidth()===a.data("maxlenghtsizex")&&a.outerHeight()===a.data("maxlenghtsizey")||f(a,o),a.data("maxlenghtsizex",a.outerWidth()),a.data("maxlenghtsizey",a.outerHeight())})),t.appendToParent?(a.parent().append(o),a.parent().css("position","relative")):v.append(o);var r=s(a,m(a));u(r,a,i,o),f(a,o)}var i,o,a=e(this);e(window).resize(function(){o&&f(a,o)}),t.showOnReady?a.ready(function(){n()}):a.focus(function(){n()}),a.on("maxlength.reposition",function(){f(a,o)}),a.on("destroyed",function(){o&&o.remove()}),a.on("blur",function(){!o||t.showOnReady||t.alwaysShow||o.remove()}),a.on("input",function(){var e=m(a),n=s(a,e),l=!0;return t.validate&&n<0?(r(a,e),l=!1):u(n,a,i,o),g()&&f(a,o),l})})}})}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e("#"===o?[]:o);t&&t.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target).closest(".btn");t.call(i,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof t?r.to(t):a?r[a]():o.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var r="prev"==e?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(t,r),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(n){var i,r=e(this),o=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),r=n.data("bs.collapse"),o=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!r&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),t||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var r=e(i);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=e(this);r.attr("data-target")||i.preventDefault();var o=t(r),a=o.data("bs.collapse"),s=a?"toggle":r.data();n.call(o,s)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(r).remove(),e(o).each(function(){var i=e(this),r=t(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(r[0],n.target)||(r.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var o=t(r),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=t(i),a=r.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+s);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](i):a.show&&o.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),o=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=o[0].offsetWidth,h=o[0].offsetHeight;if(c){var f=s,p=this.getPosition(this.$viewport);s="bottom"==s&&d.bottom+h>p.bottom?"top":"top"==s&&d.top-h<p.top?"bottom":"right"==s&&d.right+u>p.width?"left":"left"==s&&d.left-u<p.left?"right":s,o.removeClass(f).addClass(s)}var g=this.getCalculatedOffset(s,d,u,h);this.applyPlacement(g,s);var m=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var d=this.getViewportAdjustedDelta(n,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(n),h=u?2*d.left-r+l:2*d.top-o+c,f=u?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][f],u)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=r.hoverState&&o.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:o?null:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,l,a)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,d=t.left+o+n;c<a.left?r.left=a.left-c:d>a.right&&(r.left=a.left+a.width-d)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;
return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(t,i,r){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=i.find("> .active"),s=r&&e.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top,c=s?a:t;return null!=n&&r<=n?"top":null!=i&&l+c>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(a,t,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function r(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function o(e){return function(){return this[e].apply(this,arguments)}}function a(t,n){function i(e,t){return t.toLowerCase()}var r,o=e(t).data(),a={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in o)n.test(l)&&(r=l.replace(s,i),a[r]=o[l]);return a}function s(t){var n={};if(g[t]||(t=t.split("-")[0],g[t])){var i=g[t];return e.each(p,function(e,t){t in i&&(n[t]=i[t])}),n}}var l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;n<i;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),c=function(t,n){this._process_options(n),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(r){this._o=e.extend({},this._o,r);var o=this.o=e.extend({},this._o),a=o.language;switch(g[a]||(a=a.split("-")[0],g[a]||(a=f.language)),o.language=a,o.startView){case 2:case"decade":o.startView=2;break;case 1:case"year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case"months":o.minViewMode=1;break;case 2:case"years":o.minViewMode=2;break;default:o.minViewMode=0}o.startView=Math.max(o.startView,o.minViewMode),o.multidate!==!0&&(o.multidate=Number(o.multidate)||!1,o.multidate!==!1&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var s=m.parseFormat(o.format);if(o.startDate!==-(1/0)&&(o.startDate?o.startDate instanceof Date?o.startDate=this._local_to_utc(this._zero_time(o.startDate)):o.startDate=m.parseDate(o.startDate,s,o.language):o.startDate=-(1/0)),o.endDate!==1/0&&(o.endDate?o.endDate instanceof Date?o.endDate=this._local_to_utc(this._zero_time(o.endDate)):o.endDate=m.parseDate(o.endDate,s,o.language):o.endDate=1/0),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],e.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=e.map(o.daysOfWeekDisabled,function(e){return parseInt(e,10)}),o.datesDisabled=o.datesDisabled||[],!e.isArray(o.datesDisabled)){var l=[];l.push(m.parseDate(o.datesDisabled,s,o.language)),o.datesDisabled=l}o.datesDisabled=e.map(o.datesDisabled,function(e){return m.parseDate(e,s,o.language)});var c=String(o.orientation).toLowerCase().split(/\s+/g),d=o.orientation.toLowerCase();if(c=e.grep(c,function(e){return/^auto|left|right|top|bottom$/.test(e)}),o.orientation={x:"auto",y:"auto"},d&&"auto"!==d)if(1===c.length)switch(c[0]){case"top":case"bottom":o.orientation.y=c[0];break;case"left":case"right":o.orientation.x=c[0]}else d=e.grep(c,function(e){return/^left|right$/.test(e)}),o.orientation.x=d[0]||"auto",d=e.grep(c,function(e){return/^top|bottom$/.test(e)}),o.orientation.y=d[0]||"auto";else;if(o.defaultViewDate){var u=o.defaultViewDate.year||(new Date).getFullYear(),h=o.defaultViewDate.month||0,p=o.defaultViewDate.day||1;o.defaultViewDate=n(u,h,p)}else o.defaultViewDate=i();o.showOnFocus=o.showOnFocus===t||o.showOnFocus},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n,i,r,o=0;o<e.length;o++)n=e[o][0],2===e[o].length?(i=t,r=e[o][1]):3===e[o].length&&(i=e[o][1],r=e[o][2]),n.on(r,i)},_unapplyEvents:function(e){for(var n,i,r,o=0;o<e.length;o++)n=e[o][0],2===e[o].length?(r=t,i=e[o][1]):3===e[o].length&&(r=e[o][1],i=e[o][2]),n.off(i,r)},_buildEvents:function(){var t={keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:t,date:r,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return m.formatDate(n,t,this.o.language)},this)})},show:function(){if(!this.element.attr("readonly")||this.o.enableOnReadonly!==!1)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change(),this},getFormattedDate:function(n){n===t&&(n=this.o.format);var i=this.o.language;return e.map(this.dates,function(e){return m.formatDate(e,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,r=e(this.o.container).width(),o=e(this.o.container).height(),a=e(this.o.container).scrollTop(),s=e(this.o.container).offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var c=Math.max.apply(Math,l)+10,d=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),f=d.left-s.left,p=d.top-s.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(f-=t-h)):d.left<0?(this.picker.addClass("datepicker-orient-left"),f-=d.left-i):f+t>r?(this.picker.addClass("datepicker-orient-right"),f=d.left+h-t):this.picker.addClass("datepicker-orient-left");var g,m,v=this.o.orientation.y;if("auto"===v&&(g=-a+p-n,m=a+o-(p+u+n),v=Math.max(g,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?p+=u:p-=n+parseInt(this.picker.css("padding-top")),this.o.rtl){var y=r-(f+h);this.picker.css({top:p,right:y,zIndex:c})}else this.picker.css({top:p,left:f,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],i=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return m.parseDate(e,this.o.format,this.o.language)},this)),n=e.grep(n,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1});var n='<th class="cw">&#160;</th>';t+=n}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+g[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+g[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),a=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<o?n.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>o)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===a.getFullYear()&&t.getUTCMonth()===a.getMonth()&&t.getUTCDate()===a.getDate()&&n.push("today"),this.dates.contains(t)!==-1&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&n.push("disabled"),this.o.datesDisabled.length>0&&e.grep(this.o.datesDisabled,function(e){return r(t,e)}).length>0&&n.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&n.push("selected")),n},fill:function(){var i,r=new Date(this.viewDate),o=r.getUTCFullYear(),a=r.getUTCMonth(),s=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=g[this.o.language].today||g.en.today||"",h=g[this.o.language].clear||g.en.clear||"";if(!isNaN(o)&&!isNaN(a)){this.picker.find(".datepicker-days thead .datepicker-switch").text(g[this.o.language].months[a]+" "+o),this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(h).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var f=n(o,a-1,28),p=m.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(p),f.setUTCDate(p-(f.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(f);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,b=[];f.valueOf()<v;){if(f.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var _=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),w=new Date(Number(_)+(11-_.getUTCDay())%7*864e5),x=new Date(Number(x=n(w.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),C=(w-x)/864e5/7+1;b.push('<td class="cw">'+C+"</td>")}if(y=this.getClassNames(f),y.push("day"),this.o.beforeShowDay!==e.noop){var k=this.o.beforeShowDay(this._utc_to_local(f));k===t?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&y.push("disabled"),k.classes&&(y=y.concat(k.classes.split(/\s+/))),k.tooltip&&(i=k.tooltip)}y=e.unique(y),b.push('<td class="'+y.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+f.getUTCDate()+"</td>"),i=null,f.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var S=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===o&&S.eq(t.getUTCMonth()).addClass("active")}),(o<s||o>c)&&S.addClass("disabled"),o===s&&S.slice(0,l).addClass("disabled"),o===c&&S.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var T=this;e.each(S,function(t,n){if(!e(n).hasClass("disabled")){var i=new Date(o,t,1),r=T.o.beforeShowMonth(i);r===!1&&e(n).addClass("disabled")}})}b="",o=10*parseInt(o/10,10);var D=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var A,j=e.map(this.dates,function(e){return e.getUTCFullYear()}),L=-1;L<11;L++)A=["year"],L===-1?A.push("old"):10===L&&A.push("new"),e.inArray(o,j)!==-1&&A.push("active"),(o<s||o>c)&&A.push("disabled"),b+='<span class="'+A.join(" ")+'">'+o+"</span>",o+=1;D.html(b)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var i,r,o,a=e(t.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=m.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":this.clearDates()}break;case"span":a.hasClass("disabled")||(this.viewDate.setUTCDate(1),a.hasClass("month")?(o=1,r=a.parent().find("span").index(a),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,r,o))):(o=1,r=0,i=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,r,o))),this.showMode(-1),this.fill());break;case"td":a.hasClass("day")&&!a.hasClass("disabled")&&(o=parseInt(a.text(),10)||1,i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),a.hasClass("old")?0===r?(r=11,i-=1):r-=1:a.hasClass("new")&&(11===r?(r=0,i+=1):r+=1),this._setDate(n(i,r,o)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,n){if(!e)return t;if(!n)return e;var i,r,o=new Date(e.valueOf()),a=o.getUTCDate(),s=o.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)r=n===-1?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==i},i=s+n,o.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var c=0;c<l;c++)o=this.moveMonth(o,n);i=o.getUTCMonth(),o.setUTCDate(a),r=function(){return i!==o.getUTCMonth()}}for(;r();)o.setUTCDate(--a),o.setUTCMonth(i);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(27===e.keyCode&&this.show());var t,n,r,o=!1,a=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),r=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),r=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+t),r=new Date(a),r.setUTCDate(a.getUTCDate()+t)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),r=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),r=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*t),r=new Date(a),r.setUTCDate(a.getUTCDate()+7*t)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=r,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),o=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(o){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var d=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,h.call(e(this.inputs),n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=e(t.target).data("datepicker"),i=n.getUTCDate(),r=e.inArray(t.target,this.inputs),o=r-1,a=r+1,s=this.inputs.length;if(r!==-1){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[a])for(;a<s&&i>this.dates[a];)this.pickers[a++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var u=e.fn.datepicker,h=function(n){var i=Array.apply(null,arguments);i.shift();var r;return this.each(function(){var o=e(this),l=o.data("datepicker"),u="object"==typeof n&&n;if(!l){var h=a(this,"date"),p=e.extend({},f,h,u),g=s(p.language),m=e.extend({},f,g,h,u);if(o.hasClass("input-daterange")||m.inputs){var v={inputs:m.inputs||o.find("input").toArray()};o.data("datepicker",l=new d(this,e.extend(m,v)))}else o.data("datepicker",l=new c(this,m))}if("string"==typeof n&&"function"==typeof l[n]&&(r=l[n].apply(l,i),r!==t))return!1}),r!==t?r:this};e.fn.datepicker=h;var f=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},p=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],
monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,m.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(i,r,o){function a(){var e=this.slice(0,h[d].length),t=h[d].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!i)return t;if(i instanceof Date)return i;"string"==typeof r&&(r=m.parseFormat(r));var s,l,d,u=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,d=0;d<h.length;d++)switch(s=u.exec(h[d]),l=parseInt(s[1]),s[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}h=i&&i.match(this.nonpunctuation)||[],i=new Date;var f,p,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var _=r.parts.slice();if(h.length!==_.length&&(_=e(_).filter(function(t,n){return e.inArray(n,y)!==-1}).toArray()),h.length===_.length){var w;for(d=0,w=_.length;d<w;d++){if(f=parseInt(h[d],10),s=_[d],isNaN(f))switch(s){case"MM":p=e(g[o].months).filter(a),f=e.inArray(p[0],g[o].months)+1;break;case"M":p=e(g[o].monthsShort).filter(a),f=e.inArray(p[0],g[o].monthsShort)+1}v[s]=f}var x,C;for(d=0;d<y.length;d++)C=y[d],C in v&&!isNaN(v[C])&&(x=new Date(i),b[C](x,v[C]),isNaN(x)||(i=x))}return i},formatDate:function(t,n,i){if(!t)return"";"string"==typeof n&&(n=m.parseFormat(n));var r={d:t.getUTCDate(),D:g[i].daysShort[t.getUTCDay()],DD:g[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[i].monthsShort[t.getUTCMonth()],MM:g[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,t=[];for(var o=e.extend([],n.separators),a=0,s=n.parts.length;a<=s;a++)o.length&&t.push(o.shift()),t.push(r[n.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=m,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=u,this},e.fn.datepicker.version="1.4.1",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),h.call(n,"show"))}),e(function(){h.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";function r(t){var n,i,o="a aa ai ao as b fn i m o s ",a={};e.each(t,function(e,s){n=e.match(/^([^A-Z]+?)([A-Z])/),n&&o.indexOf(n[1]+" ")!==-1&&(i=e.replace(n[0],n[2].toLowerCase()),a[i]=e,"o"===n[1]&&r(t[e]))}),t._hungarianMap=a}function o(t,n,a){t._hungarianMap||r(t);var s;e.each(n,function(r,l){s=t._hungarianMap[r],s===i||!a&&n[s]!==i||("o"===s.charAt(0)?(n[s]||(n[s]={}),e.extend(!0,n[s],n[r]),o(t[s],n[s],a)):n[s]=n[r])})}function a(e){var t=Ye.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&Me(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&Me(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var i=e.sDecimal;i&&We(i)}function s(e){ft(e,"ordering","bSort"),ft(e,"orderMulti","bSortMulti"),ft(e,"orderClasses","bSortClasses"),ft(e,"orderCellsTop","bSortCellsTop"),ft(e,"order","aaSorting"),ft(e,"orderFixed","aaSortingFixed"),ft(e,"paging","bPaginate"),ft(e,"pagingType","sPaginationType"),ft(e,"pageLength","iDisplayLength"),ft(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var n=0,i=t.length;n<i;n++)t[n]&&o(Ye.models.oSearch,t[n])}function l(t){ft(t,"orderable","bSortable"),ft(t,"orderData","aDataSort"),ft(t,"orderSequence","asSorting"),ft(t,"orderDataType","sortDataType");var n=t.aDataSort;n&&!e.isArray(n)&&(t.aDataSort=[n])}function c(n){if(!Ye.__browser){var i={};Ye.__browser=i;var r=e("<div/>").css({position:"fixed",top:0,left:e(t).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),a=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth,i.bScrollOversize=100===a[0].offsetWidth&&100!==o[0].clientWidth,i.bScrollbarLeft=1!==Math.round(a.offset().left),i.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}e.extend(n.oBrowser,Ye.__browser),n.oScroll.iBarWidth=Ye.__browser.barWidth}function d(e,t,n,r,o,a){var s,l=r,c=!1;for(n!==i&&(s=n,c=!0);l!==o;)e.hasOwnProperty(l)&&(s=c?t(s,e[l],l,e):e[l],c=!0,l+=a);return s}function u(t,i){var r=Ye.defaults.column,o=t.aoColumns.length,a=e.extend({},Ye.models.oColumn,r,{nTh:i?i:n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});t.aoColumns.push(a);var s=t.aoPreSearchCols;s[o]=e.extend({},Ye.models.oSearch,s[o]),h(t,o,e(i).data())}function h(t,n,r){var a=t.aoColumns[n],s=t.oClasses,c=e(a.nTh);if(!a.sWidthOrig){a.sWidthOrig=c.attr("width")||null;var d=(c.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);d&&(a.sWidthOrig=d[1])}r!==i&&null!==r&&(l(r),o(Ye.defaults.column,r),r.mDataProp===i||r.mData||(r.mData=r.mDataProp),r.sType&&(a._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),e.extend(a,r),Me(a,r,"sWidth","sWidthOrig"),r.iDataSort!==i&&(a.aDataSort=[r.iDataSort]),Me(a,r,"aDataSort"));var u=a.mData,h=D(u),f=a.mRender?D(a.mRender):null,p=function(e){return"string"==typeof e&&e.indexOf("@")!==-1};a._bAttrSrc=e.isPlainObject(u)&&(p(u.sort)||p(u.type)||p(u.filter)),a._setter=null,a.fnGetData=function(e,t,n){var r=h(e,t,i,n);return f&&t?f(r,t,e,n):r},a.fnSetData=function(e,t,n){return A(u)(e,t,n)},"number"!=typeof u&&(t._rowReadObject=!0),t.oFeatures.bSort||(a.bSortable=!1,c.addClass(s.sSortableNone));var g=e.inArray("asc",a.asSorting)!==-1,m=e.inArray("desc",a.asSorting)!==-1;a.bSortable&&(g||m)?g&&!m?(a.sSortingClass=s.sSortableAsc,a.sSortingClassJUI=s.sSortJUIAscAllowed):!g&&m?(a.sSortingClass=s.sSortableDesc,a.sSortingClassJUI=s.sSortJUIDescAllowed):(a.sSortingClass=s.sSortable,a.sSortingClassJUI=s.sSortJUI):(a.sSortingClass=s.sSortableNone,a.sSortingClassJUI="")}function f(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;ve(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}var r=e.oScroll;""===r.sY&&""===r.sX||ge(e),$e(e,null,"column-sizing",[e])}function p(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function g(t,n){var i=v(t,"bVisible"),r=e.inArray(n,i);return r!==-1?r:null}function m(t){var n=0;return e.each(t.aoColumns,function(t,i){i.bVisible&&"none"!==e(i.nTh).css("display")&&n++}),n}function v(t,n){var i=[];return e.map(t.aoColumns,function(e,t){e[n]&&i.push(t)}),i}function y(e){var t,n,r,o,a,s,l,c,d,u=e.aoColumns,h=e.aoData,f=Ye.ext.type.detect;for(t=0,n=u.length;t<n;t++)if(l=u[t],d=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=f.length;r<o;r++){for(a=0,s=h.length;a<s&&(d[a]===i&&(d[a]=k(e,a,t,"type")),c=f[r](d[a],e),c||r===f.length-1)&&"html"!==c;a++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(t,n,r,o){var a,s,l,c,d,h,f,p=t.aoColumns;if(n)for(a=n.length-1;a>=0;a--){f=n[a];var g=f.targets!==i?f.targets:f.aTargets;for(e.isArray(g)||(g=[g]),l=0,c=g.length;l<c;l++)if("number"==typeof g[l]&&g[l]>=0){for(;p.length<=g[l];)u(t);o(g[l],f)}else if("number"==typeof g[l]&&g[l]<0)o(p.length+g[l],f);else if("string"==typeof g[l])for(d=0,h=p.length;d<h;d++)("_all"==g[l]||e(p[d].nTh).hasClass(g[l]))&&o(d,f)}if(r)for(a=0,s=r.length;a<s;a++)o(a,r[a])}function _(t,n,r,o){var a=t.aoData.length,s=e.extend(!0,{},Ye.models.oRow,{src:r?"dom":"data",idx:a});s._aData=n,t.aoData.push(s);for(var l=t.aoColumns,c=0,d=l.length;c<d;c++)l[c].sType=null;t.aiDisplayMaster.push(a);var u=t.rowIdFn(n);return u!==i&&(t.aIds[u]=s),!r&&t.oFeatures.bDeferRender||I(t,a,r,o),a}function w(t,n){var i;return n instanceof e||(n=e(n)),n.map(function(e,n){return i=M(t,n),_(t,i.data,n,i.cells)})}function x(e,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null}function C(t,n,i){return e.inArray(i,t.aoData[n].anCells)}function k(e,t,n,r){var o=e.iDraw,a=e.aoColumns[n],s=e.aoData[t]._aData,l=a.sDefaultContent,c=a.fnGetData(s,r,{settings:e,row:t,col:n});if(c===i)return e.iDrawError!=o&&null===l&&(Ee(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=o),l;if(c!==s&&null!==c||null===l||r===i){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==r?"":c}function S(e,t,n,i){var r=e.aoColumns[n],o=e.aoData[t]._aData;r.fnSetData(o,i,{settings:e,row:t,col:n})}function T(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function D(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=D(t))}),function(e,t,r,o){var a=n[t]||n._;return a!==i?a(e,t,r,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,i,r){return t(e,n,i,r)};if("string"!=typeof t||t.indexOf(".")===-1&&t.indexOf("[")===-1&&t.indexOf("(")===-1)return function(e,n){return e[t]};var r=function(t,n,o){var a,s,l,c;if(""!==o)for(var d=T(o),u=0,h=d.length;u<h;u++){if(a=d[u].match(pt),s=d[u].match(gt),a){if(d[u]=d[u].replace(pt,""),""!==d[u]&&(t=t[d[u]]),l=[],d.splice(0,u+1),c=d.join("."),e.isArray(t))for(var f=0,p=t.length;f<p;f++)l.push(r(t[f],n,c));var g=a[0].substring(1,a[0].length-1);t=""===g?l:l.join(g);break}if(s)d[u]=d[u].replace(gt,""),t=t[d[u]]();else{if(null===t||t[d[u]]===i)return i;t=t[d[u]]}}return t};return function(e,n){return r(e,n,t)}}function A(t){if(e.isPlainObject(t))return A(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"!=typeof t||t.indexOf(".")===-1&&t.indexOf("[")===-1&&t.indexOf("(")===-1)return function(e,n){e[t]=n};var n=function(t,r,o){for(var a,s,l,c,d,u=T(o),h=u[u.length-1],f=0,p=u.length-1;f<p;f++){if(s=u[f].match(pt),l=u[f].match(gt),s){if(u[f]=u[f].replace(pt,""),t[u[f]]=[],a=u.slice(),a.splice(0,f+1),d=a.join("."),e.isArray(r))for(var g=0,m=r.length;g<m;g++)c={},n(c,r[g],d),t[u[f]].push(c);else t[u[f]]=r;return}l&&(u[f]=u[f].replace(gt,""),t=t[u[f]](r)),null!==t[u[f]]&&t[u[f]]!==i||(t[u[f]]={}),t=t[u[f]]}h.match(gt)?t=t[h.replace(gt,"")](r):t[h.replace(pt,"")]=r};return function(e,i){return n(e,i,t)}}function j(e){return st(e.aoData,"_aData")}function L(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function N(e,t,n){for(var r=-1,o=0,a=e.length;o<a;o++)e[o]==t?r=o:e[o]>t&&e[o]--;r!=-1&&n===i&&e.splice(r,1)}function E(e,t,n,r){var o,a,s=e.aoData[t],l=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=k(e,t,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var c=s.anCells;if(c)if(r!==i)l(c[r],r);else for(o=0,a=c.length;o<a;o++)l(c[o],o)}else s._aData=M(e,s,r,r===i?i:s._aData).data;s._aSortData=null,s._aFilterData=null;var d=e.aoColumns;if(r!==i)d[r].sType=null;else{for(o=0,a=d.length;o<a;o++)d[o].sType=null;O(e,s)}}function M(t,n,r,o){var a,s,l,c=[],d=n.firstChild,u=0,h=t.aoColumns,f=t._rowReadObject;o=o!==i?o:f?{}:[];var p=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(n!==-1){var i=e.substring(n+1),r=A(e);r(o,t.getAttribute(i))}}},g=function(t){if(r===i||r===u)if(s=h[u],l=e.trim(t.innerHTML),s&&s._bAttrSrc){var n=A(s.mData._);n(o,l),p(s.mData.sort,t),p(s.mData.type,t),p(s.mData.filter,t)}else f?(s._setter||(s._setter=A(s.mData)),s._setter(o,l)):o[u]=l;u++};if(d)for(;d;)a=d.nodeName.toUpperCase(),"TD"!=a&&"TH"!=a||(g(d),c.push(d)),d=d.nextSibling;else{c=n.anCells;for(var m=0,v=c.length;m<v;m++)g(c[m])}var y=n.firstChild?n:n.nTr;if(y){var b=y.getAttribute("id");b&&A(t.rowId)(o,b)}return{data:o,cells:c}}function I(t,i,r,o){var a,s,l,c,d,u=t.aoData[i],h=u._aData,f=[];if(null===u.nTr){for(a=r||n.createElement("tr"),u.nTr=a,u.anCells=f,a._DT_RowIndex=i,O(t,u),c=0,d=t.aoColumns.length;c<d;c++)l=t.aoColumns[c],s=r?o[c]:n.createElement(l.sCellType),s._DT_CellIndex={row:i,column:c},f.push(s),r&&!l.mRender&&l.mData===c||e.isPlainObject(l.mData)&&l.mData._===c+".display"||(s.innerHTML=k(t,i,c,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!r?a.appendChild(s):!l.bVisible&&r&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,s,k(t,i,c),h,i,c);$e(t,"aoRowCreatedCallback",null,[a,h,i])}u.nTr.setAttribute("role","row")}function O(t,n){var i=n.nTr,r=n._aData;if(i){var o=t.rowIdFn(r);if(o&&(i.id=o),r.DT_RowClass){var a=r.DT_RowClass.split(" ");n.__rowc=n.__rowc?ht(n.__rowc.concat(a)):a,e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&e(i).attr(r.DT_RowAttr),r.DT_RowData&&e(i).data(r.DT_RowData)}}function P(t){var n,i,r,o,a,s=t.nTHead,l=t.nTFoot,c=0===e("th, td",s).length,d=t.oClasses,u=t.aoColumns;for(c&&(o=e("<tr/>").appendTo(s)),n=0,i=u.length;n<i;n++)a=u[n],r=e(a.nTh).addClass(a.sClass),c&&r.appendTo(o),t.oFeatures.bSort&&(r.addClass(a.sSortingClass),a.bSortable!==!1&&(r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Te(t,a.nTh,n))),a.sTitle!=r[0].innerHTML&&r.html(a.sTitle),He(t,"header")(t,r,a,d);if(c&&U(t.aoHeader,s),e(s).find(">tr").attr("role","row"),e(s).find(">tr>th, >tr>td").addClass(d.sHeaderTH),e(l).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==l){var h=t.aoFooter[0];for(n=0,i=h.length;n<i;n++)a=u[n],a.nTf=h[n].cell,a.sClass&&e(a.nTf).addClass(a.sClass)}}function $(t,n,r){var o,a,s,l,c,d,u,h,f,p=[],g=[],m=t.aoColumns.length;if(n){for(r===i&&(r=!1),o=0,a=n.length;o<a;o++){for(p[o]=n[o].slice(),p[o].nTr=n[o].nTr,s=m-1;s>=0;s--)t.aoColumns[s].bVisible||r||p[o].splice(s,1);g.push([])}for(o=0,a=p.length;o<a;o++){if(u=p[o].nTr)for(;d=u.firstChild;)u.removeChild(d);for(s=0,l=p[o].length;s<l;s++)if(h=1,f=1,g[o][s]===i){for(u.appendChild(p[o][s].cell),g[o][s]=1;p[o+h]!==i&&p[o][s].cell==p[o+h][s].cell;)g[o+h][s]=1,h++;for(;p[o][s+f]!==i&&p[o][s].cell==p[o][s+f].cell;){for(c=0;c<h;c++)g[o+c][s+f]=1;f++}e(p[o][s].cell).attr("rowspan",h).attr("colspan",f)}}}}function F(t){var n=$e(t,"aoPreDrawCallback","preDraw",[t]);if(e.inArray(!1,n)!==-1)return void fe(t,!1);var r=[],o=0,a=t.asStripeClasses,s=a.length,l=(t.aoOpenRows.length,t.oLanguage),c=t.iInitDisplayStart,d="ssp"==Re(t),u=t.aiDisplay;t.bDrawing=!0,c!==i&&c!==-1&&(t._iDisplayStart=d?c:c>=t.fnRecordsDisplay()?0:c,t.iInitDisplayStart=-1);var h=t._iDisplayStart,f=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,fe(t,!1);else if(d){if(!t.bDestroying&&!z(t))return}else t.iDraw++;if(0!==u.length)for(var p=d?0:h,g=d?t.aoData.length:f,v=p;v<g;v++){var y=u[v],b=t.aoData[y];null===b.nTr&&I(t,y);var _=b.nTr;if(0!==s){var w=a[o%s];b._sRowStripe!=w&&(e(_).removeClass(b._sRowStripe).addClass(w),b._sRowStripe=w)}$e(t,"aoRowCallback",null,[_,b._aData,o,v]),r.push(_),o++}else{var x=l.sZeroRecords;1==t.iDraw&&"ajax"==Re(t)?x=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(x=l.sEmptyTable),r[0]=e("<tr/>",{"class":s?a[0]:""}).append(e("<td />",{valign:"top",colSpan:m(t),"class":t.oClasses.sRowEmpty}).html(x))[0]}$e(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],j(t),h,f,u]),$e(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],j(t),h,f,u]);var C=e(t.nTBody);C.children().detach(),C.append(e(r)),$e(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}function H(e,t){var n=e.oFeatures,i=n.bSort,r=n.bFilter;i&&Ce(e),r?X(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,F(e),e._drawHold=!1}function R(t){var n=t.oClasses,i=e(t.nTable),r=e("<div/>").insertBefore(i),o=t.oFeatures,a=e("<div/>",{id:t.sTableId+"_wrapper","class":n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=r[0],t.nTableWrapper=a[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var s,l,c,d,u,h,f=t.sDom.split(""),p=0;p<f.length;p++){if(s=null,l=f[p],"<"==l){if(c=e("<div/>")[0],d=f[p+1],"'"==d||'"'==d){for(u="",h=2;f[p+h]!=d;)u+=f[p+h],h++;if("H"==u?u=n.sJUIHeader:"F"==u&&(u=n.sJUIFooter),u.indexOf(".")!=-1){var g=u.split(".");c.id=g[0].substr(1,g[0].length-1),c.className=g[1]}else"#"==u.charAt(0)?c.id=u.substr(1,u.length-1):c.className=u;p+=h}a.append(c),a=e(c)}else if(">"==l)a=a.parent();else if("l"==l&&o.bPaginate&&o.bLengthChange)s=ce(t);else if("f"==l&&o.bFilter)s=Y(t);else if("r"==l&&o.bProcessing)s=he(t);else if("t"==l)s=pe(t);else if("i"==l&&o.bInfo)s=ie(t);else if("p"==l&&o.bPaginate)s=de(t);else if(0!==Ye.ext.feature.length)for(var m=Ye.ext.feature,v=0,y=m.length;v<y;v++)if(l==m[v].cFeature){s=m[v].fnInit(t);break}if(s){var b=t.aanFeatures;b[l]||(b[l]=[]),b[l].push(s),a.append(s)}}r.replaceWith(a),t.nHolding=null}function U(t,n){var i,r,o,a,s,l,c,d,u,h,f,p=e(n).children("tr"),g=function(e,t,n){for(var i=e[t];i[n];)n++;return n};for(t.splice(0,t.length),o=0,l=p.length;o<l;o++)t.push([]);for(o=0,l=p.length;o<l;o++)for(i=p[o],d=0,r=i.firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(u=1*r.getAttribute("colspan"),h=1*r.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,h=h&&0!==h&&1!==h?h:1,c=g(t,o,d),f=1===u,s=0;s<u;s++)for(a=0;a<h;a++)t[o+a][c+s]={cell:r,unique:f},t[o+a].nTr=i;r=r.nextSibling}}function W(e,t,n){var i=[];n||(n=e.aoHeader,t&&(n=[],U(n,t)));for(var r=0,o=n.length;r<o;r++)for(var a=0,s=n[r].length;a<s;a++)!n[r][a].unique||i[a]&&e.bSortCellsTop||(i[a]=n[r][a].cell);return i}function B(t,n,i){if($e(t,"aoServerParams","serverParams",[n]),n&&e.isArray(n)){var r={},o=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(o);if(n){var i=n[0];r[i]||(r[i]=[]),r[i].push(t.value)}else r[t.name]=t.value}),n=r}var a,s=t.ajax,l=t.oInstance,c=function(e){$e(t,null,"xhr",[t,e,t.jqXHR]),i(e)};if(e.isPlainObject(s)&&s.data){a=s.data;var d=e.isFunction(a)?a(n,t):a;n=e.isFunction(a)&&d?d:e.extend(!0,n,d),delete s.data}var u={data:n,success:function(e){var n=e.error||e.sError;n&&Ee(t,0,n),t.json=e,c(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,i,r){var o=$e(t,null,"xhr",[t,null,t.jqXHR]);e.inArray(!0,o)===-1&&("parsererror"==i?Ee(t,0,"Invalid JSON response",1):4===n.readyState&&Ee(t,0,"Ajax error",7)),fe(t,!1)}};t.oAjaxData=n,$e(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),c,t):t.sAjaxSource||"string"==typeof s?t.jqXHR=e.ajax(e.extend(u,{url:s||t.sAjaxSource})):e.isFunction(s)?t.jqXHR=s.call(l,n,c,t):(t.jqXHR=e.ajax(e.extend(u,s)),s.data=a)}function z(e){return!e.bAjaxDataGet||(e.iDraw++,fe(e,!0),B(e,q(e),function(t){V(e,t)}),!1)}function q(t){var n,i,r,o,a=t.aoColumns,s=a.length,l=t.oFeatures,c=t.oPreviousSearch,d=t.aoPreSearchCols,u=[],h=xe(t),f=t._iDisplayStart,p=l.bPaginate!==!1?t._iDisplayLength:-1,g=function(e,t){u.push({name:e,value:t})};g("sEcho",t.iDraw),g("iColumns",s),g("sColumns",st(a,"sName").join(",")),g("iDisplayStart",f),g("iDisplayLength",p);var m={draw:t.iDraw,columns:[],order:[],start:f,length:p,search:{value:c.sSearch,regex:c.bRegex}};for(n=0;n<s;n++)r=a[n],o=d[n],i="function"==typeof r.mData?"function":r.mData,m.columns.push({data:i,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),g("mDataProp_"+n,i),l.bFilter&&(g("sSearch_"+n,o.sSearch),g("bRegex_"+n,o.bRegex),g("bSearchable_"+n,r.bSearchable)),l.bSort&&g("bSortable_"+n,r.bSortable);l.bFilter&&(g("sSearch",c.sSearch),g("bRegex",c.bRegex)),l.bSort&&(e.each(h,function(e,t){m.order.push({column:t.col,dir:t.dir}),g("iSortCol_"+e,t.col),g("sSortDir_"+e,t.dir)}),g("iSortingCols",h.length));var v=Ye.ext.legacy.ajax;return null===v?t.sAjaxSource?u:m:v?u:m}function V(e,t){var n=function(e,n){return t[e]!==i?t[e]:t[n]},r=K(e,t),o=n("sEcho","draw"),a=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(o){if(1*o<e.iDraw)return;e.iDraw=1*o}L(e),e._iRecordsTotal=parseInt(a,10),e._iRecordsDisplay=parseInt(s,10);for(var l=0,c=r.length;l<c;l++)_(e,r[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,F(e),e._bInitComplete||se(e,t),e.bAjaxDataGet=!0,fe(e,!1)}function K(t,n){var r=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==i?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===r?n.aaData||n[r]:""!==r?D(r)(n):n}function Y(t){var i=t.oClasses,r=t.sTableId,o=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',c=o.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var d=e("<div/>",{id:s.f?null:r+"_filter","class":i.sFilter}).append(e("<label/>").append(c)),u=function(){var e=(s.f,this.value?this.value:"");e!=a.sSearch&&(X(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,F(t))},h=null!==t.searchDelay?t.searchDelay:"ssp"===Re(t)?400:0,f=e("input",d).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",h?_t(u,h):u).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",r);return e(t.nTable).on("search.dt.DT",function(e,i){if(t===i)try{f[0]!==n.activeElement&&f.val(a.sSearch)}catch(r){}}),d[0]}function X(e,t,n){var r=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive},s=function(e){return e.bEscapeRegex!==i?!e.bEscapeRegex:e.bRegex};if(y(e),"ssp"!=Re(e)){Q(e,t.sSearch,n,s(t),t.bSmart,t.bCaseInsensitive),a(t);for(var l=0;l<o.length;l++)J(e,o[l].sSearch,l,s(o[l]),o[l].bSmart,o[l].bCaseInsensitive);G(e)}else a(t);e.bFiltered=!0,$e(e,null,"search",[e])}function G(t){for(var n,i,r=Ye.ext.search,o=t.aiDisplay,a=0,s=r.length;a<s;a++){for(var l=[],c=0,d=o.length;c<d;c++)i=o[c],n=t.aoData[i],r[a](t,n._aFilterData,i,n._aData,c)&&l.push(i);o.length=0,e.merge(o,l)}}function J(e,t,n,i,r,o){if(""!==t){for(var a,s=[],l=e.aiDisplay,c=Z(t,i,r,o),d=0;d<l.length;d++)a=e.aoData[l[d]]._aFilterData[n],c.test(a)&&s.push(l[d]);e.aiDisplay=s}}function Q(e,t,n,i,r,o){var a,s,l,c=Z(t,i,r,o),d=e.oPreviousSearch.sSearch,u=e.aiDisplayMaster,h=[];if(0!==Ye.ext.search.length&&(n=!0),s=ee(e),t.length<=0)e.aiDisplay=u.slice();else{for((s||n||d.length>t.length||0!==t.indexOf(d)||e.bSorted)&&(e.aiDisplay=u.slice()),a=e.aiDisplay,l=0;l<a.length;l++)c.test(e.aoData[a[l]]._sFilterRow)&&h.push(a[l]);e.aiDisplay=h}}function Z(t,n,i,r){if(t=n?t:mt(t),i){var o=e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});t="^(?=.*?"+o.join(")(?=.*?")+").*$"}return new RegExp(t,r?"i":"")}function ee(e){var t,n,i,r,o,a,s,l,c=e.aoColumns,d=Ye.ext.type.search,u=!1;for(n=0,r=e.aoData.length;n<r;n++)if(l=e.aoData[n],!l._aFilterData){for(a=[],i=0,o=c.length;i<o;i++)t=c[i],t.bSearchable?(s=k(e,n,i,"filter"),d[t.sType]&&(s=d[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&s.indexOf("&")!==-1&&(vt.innerHTML=s,s=yt?vt.textContent:vt.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),u=!0}return u}function te(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ne(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function ie(t){var n=t.sTableId,i=t.aanFeatures.i,r=e("<div/>",{"class":t.oClasses.sInfo,id:i?null:n+"_info"});return i||(t.aoDrawCallback.push({fn:re,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),r[0]}function re(t){var n=t.aanFeatures.i;if(0!==n.length){var i=t.oLanguage,r=t._iDisplayStart+1,o=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==a&&(l+=" "+i.sInfoFiltered),l+=i.sInfoPostFix,l=oe(t,l);var c=i.fnInfoCallback;null!==c&&(l=c.call(t.oInstance,t,r,o,a,s,l)),e(n).html(l)}}function oe(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),a=r===-1;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(o/r)))}function ae(e){var t,n,i,r=e.iInitDisplayStart,o=e.aoColumns,a=e.oFeatures,s=e.bDeferLoading;if(!e.bInitialised)return void setTimeout(function(){ae(e)},200);for(R(e),P(e),$(e,e.aoHeader),$(e,e.aoFooter),fe(e,!0),a.bAutoWidth&&ve(e),t=0,n=o.length;t<n;t++)i=o[t],i.sWidth&&(i.nTh.style.width=we(i.sWidth));$e(e,null,"preInit",[e]),H(e);var l=Re(e);("ssp"!=l||s)&&("ajax"==l?B(e,[],function(n){var i=K(e,n);for(t=0;t<i.length;t++)_(e,i[t]);e.iInitDisplayStart=r,H(e),fe(e,!1),se(e,n)},e):(fe(e,!1),se(e)))}function se(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&f(e),$e(e,null,"plugin-init",[e,t]),$e(e,"aoInitComplete","init",[e,t])}function le(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Fe(e),$e(e,null,"length",[e,n])}function ce(t){for(var n=t.oClasses,i=t.sTableId,r=t.aLengthMenu,o=e.isArray(r[0]),a=o?r[0]:r,s=o?r[1]:r,l=e("<select/>",{name:i+"_length","aria-controls":i,"class":n.sLengthSelect}),c=0,d=a.length;c<d;c++)l[0][c]=new Option(s[c],a[c]);var u=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(u[0].id=i+"_length"),u.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),e("select",u).val(t._iDisplayLength).on("change.DT",function(n){le(t,e(this).val()),F(t)}),e(t.nTable).on("length.dt.DT",function(n,i,r){t===i&&e("select",u).val(r)}),u[0]}function de(t){var n=t.sPaginationType,i=Ye.ext.pager[n],r="function"==typeof i,o=function(e){F(e)},a=e("<div/>").addClass(t.oClasses.sPaging+n)[0],s=t.aanFeatures;return r||i.fnInit(t,a,o),s.p||(a.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(r){var t,n,a=e._iDisplayStart,l=e._iDisplayLength,c=e.fnRecordsDisplay(),d=l===-1,u=d?0:Math.ceil(a/l),h=d?1:Math.ceil(c/l),f=i(u,h);for(t=0,n=s.p.length;t<n;t++)He(e,"pageButton")(e,s.p[t],t,f,u,h)}else i.fnUpdate(e,o)},sName:"pagination"})),a}function ue(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay();0===o||r===-1?i=0:"number"==typeof t?(i=t*r,i>o&&(i=0)):"first"==t?i=0:"previous"==t?(i=r>=0?i-r:0,i<0&&(i=0)):"next"==t?i+r<o&&(i+=r):"last"==t?i=Math.floor((o-1)/r)*r:Ee(e,0,"Unknown paging action: "+t,5);var a=e._iDisplayStart!==i;return e._iDisplayStart=i,a&&($e(e,null,"page",[e]),n&&F(e)),a}function he(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function fe(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),$e(t,null,"processing",[t,n])}function pe(t){var n=e(t.nTable);n.attr("role","grid");var i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var r=i.sX,o=i.sY,a=t.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,c=e(n[0].cloneNode(!1)),d=e(n[0].cloneNode(!1)),u=n.children("tfoot"),h="<div/>",f=function(e){return e?we(e):null};u.length||(u=null);var p=e(h,{"class":a.sScrollWrapper}).append(e(h,{"class":a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?f(r):"100%"}).append(e(h,{"class":a.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(e(h,{"class":a.sScrollBody}).css({position:"relative",overflow:"auto",width:f(r)}).append(n));u&&p.append(e(h,{"class":a.sScrollFoot}).css({overflow:"hidden",border:0,width:r?f(r):"100%"}).append(e(h,{"class":a.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var g=p.children(),m=g[0],v=g[1],y=u?g[2]:null;return r&&e(v).on("scroll.DT",function(e){var t=this.scrollLeft;m.scrollLeft=t,u&&(y.scrollLeft=t)}),e(v).css(o&&i.bCollapse?"max-height":"height",o),t.nScrollHead=m,t.nScrollBody=v,t.nScrollFoot=y,t.aoDrawCallback.push({fn:ge,sName:"scrolling"}),p[0]}function ge(t){var n,r,o,a,s,l,c,d,u,h=t.oScroll,g=h.sX,m=h.sXInner,v=h.sY,y=h.iBarWidth,b=e(t.nScrollHead),_=b[0].style,w=b.children("div"),x=w[0].style,C=w.children("table"),k=t.nScrollBody,S=e(k),T=k.style,D=e(t.nScrollFoot),A=D.children("div"),j=A.children("table"),L=e(t.nTHead),N=e(t.nTable),E=N[0],M=E.style,I=t.nTFoot?e(t.nTFoot):null,O=t.oBrowser,P=O.bScrollOversize,$=st(t.aoColumns,"nTh"),F=[],H=[],R=[],U=[],B=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0},z=k.scrollHeight>k.clientHeight;if(t.scrollBarVis!==z&&t.scrollBarVis!==i)return t.scrollBarVis=z,void f(t);t.scrollBarVis=z,N.children("thead, tfoot").remove(),I&&(l=I.clone().prependTo(N),r=I.find("tr"),a=l.find("tr")),s=L.clone().prependTo(N),n=L.find("tr"),o=s.find("tr"),s.find("th, td").removeAttr("tabindex"),g||(T.width="100%",b[0].style.width="100%"),e.each(W(t,s),function(e,n){c=p(t,e),n.style.width=t.aoColumns[c].sWidth}),I&&me(function(e){e.style.width=""},a),u=N.outerWidth(),""===g?(M.width="100%",P&&(N.find("tbody").height()>k.offsetHeight||"scroll"==S.css("overflow-y"))&&(M.width=we(N.outerWidth()-y)),u=N.outerWidth()):""!==m&&(M.width=we(m),u=N.outerWidth()),me(B,o),me(function(t){R.push(t.innerHTML),F.push(we(e(t).css("width")))},o),me(function(t,n){e.inArray(t,$)!==-1&&(t.style.width=F[n])},n),e(o).height(0),I&&(me(B,a),me(function(t){U.push(t.innerHTML),H.push(we(e(t).css("width")))},a),me(function(e,t){e.style.width=H[t]},r),e(a).height(0)),me(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+R[t]+"</div>",e.style.width=F[t]},o),I&&me(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+U[t]+"</div>",e.style.width=H[t]},a),N.outerWidth()<u?(d=k.scrollHeight>k.offsetHeight||"scroll"==S.css("overflow-y")?u+y:u,
P&&(k.scrollHeight>k.offsetHeight||"scroll"==S.css("overflow-y"))&&(M.width=we(d-y)),""!==g&&""===m||Ee(t,1,"Possible column misalignment",6)):d="100%",T.width=we(d),_.width=we(d),I&&(t.nScrollFoot.style.width=we(d)),v||P&&(T.height=we(E.offsetHeight+y));var q=N.outerWidth();C[0].style.width=we(q),x.width=we(q);var V=N.height()>k.clientHeight||"scroll"==S.css("overflow-y"),K="padding"+(O.bScrollbarLeft?"Left":"Right");x[K]=V?y+"px":"0px",I&&(j[0].style.width=we(q),A[0].style.width=we(q),A[0].style[K]=V?y+"px":"0px"),N.children("colgroup").insertBefore(N.children("thead")),S.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(k.scrollTop=0)}function me(e,t,n){for(var i,r,o=0,a=0,s=t.length;a<s;){for(i=t[a].firstChild,r=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,o):e(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;a++}}function ve(n){var i,r,o,a=n.nTable,s=n.aoColumns,l=n.oScroll,c=l.sY,d=l.sX,u=l.sXInner,h=s.length,g=v(n,"bVisible"),y=e("th",n.nTHead),b=a.getAttribute("width"),_=a.parentNode,w=!1,x=n.oBrowser,C=x.bScrollOversize,k=a.style.width;for(k&&k.indexOf("%")!==-1&&(b=k),i=0;i<g.length;i++)r=s[g[i]],null!==r.sWidth&&(r.sWidth=ye(r.sWidthOrig,_),w=!0);if(C||!w&&!d&&!c&&h==m(n)&&h==y.length)for(i=0;i<h;i++){var S=p(n,i);null!==S&&(s[S].sWidth=we(y.eq(i).width()))}else{var T=e(a).clone().css("visibility","hidden").removeAttr("id");T.find("tbody tr").remove();var D=e("<tr/>").appendTo(T.find("tbody"));for(T.find("thead, tfoot").remove(),T.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),T.find("tfoot th, tfoot td").css("width",""),y=W(n,T.find("thead")[0]),i=0;i<g.length;i++)r=s[g[i]],y[i].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?we(r.sWidthOrig):"",r.sWidthOrig&&d&&e(y[i]).append(e("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<g.length;i++)o=g[i],r=s[o],e(be(n,o)).clone(!1).append(r.sContentPadding).appendTo(D);e("[name]",T).removeAttr("name");var A=e("<div/>").css(d||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(T).appendTo(_);d&&u?T.width(u):d?(T.css("width","auto"),T.removeAttr("width"),T.width()<_.clientWidth&&b&&T.width(_.clientWidth)):c?T.width(_.clientWidth):b&&T.width(b);var j=0;for(i=0;i<g.length;i++){var L=e(y[i]),N=L.outerWidth()-L.width(),E=x.bBounding?Math.ceil(y[i].getBoundingClientRect().width):L.outerWidth();j+=E,s[g[i]].sWidth=we(E-N)}a.style.width=we(j),A.remove()}if(b&&(a.style.width=we(b)),(b||d)&&!n._reszEvt){var M=function(){e(t).on("resize.DT-"+n.sInstance,_t(function(){f(n)}))};C?setTimeout(M,1e3):M(),n._reszEvt=!0}}function ye(t,i){if(!t)return 0;var r=e("<div/>").css("width",we(t)).appendTo(i||n.body),o=r[0].offsetWidth;return r.remove(),o}function be(t,n){var i=_e(t,n);if(i<0)return null;var r=t.aoData[i];return r.nTr?r.anCells[n]:e("<td/>").html(k(t,i,n,"display"))[0]}function _e(e,t){for(var n,i=-1,r=-1,o=0,a=e.aoData.length;o<a;o++)n=k(e,o,t,"display")+"",n=n.replace(bt,""),n=n.replace(/&nbsp;/g," "),n.length>i&&(i=n.length,r=o);return r}function we(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function xe(t){var n,r,o,a,s,l,c,d=[],u=t.aoColumns,h=t.aaSortingFixed,f=e.isPlainObject(h),p=[],g=function(t){t.length&&!e.isArray(t[0])?p.push(t):e.merge(p,t)};for(e.isArray(h)&&g(h),f&&h.pre&&g(h.pre),g(t.aaSorting),f&&h.post&&g(h.post),n=0;n<p.length;n++)for(c=p[n][0],a=u[c].aDataSort,r=0,o=a.length;r<o;r++)s=a[r],l=u[s].sType||"string",p[n]._idx===i&&(p[n]._idx=e.inArray(p[n][1],u[s].asSorting)),d.push({src:c,col:s,dir:p[n][1],index:p[n]._idx,type:l,formatter:Ye.ext.type.order[l+"-pre"]});return d}function Ce(e){var t,n,i,r,o,a=[],s=Ye.ext.type.order,l=e.aoData,c=(e.aoColumns,0),d=e.aiDisplayMaster;for(y(e),o=xe(e),t=0,n=o.length;t<n;t++)r=o[t],r.formatter&&c++,Ae(e,r.col);if("ssp"!=Re(e)&&0!==o.length){for(t=0,i=d.length;t<i;t++)a[d[t]]=t;c===o.length?d.sort(function(e,t){var n,i,r,s,c,d=o.length,u=l[e]._aSortData,h=l[t]._aSortData;for(r=0;r<d;r++)if(c=o[r],n=u[c.col],i=h[c.col],s=n<i?-1:n>i?1:0,0!==s)return"asc"===c.dir?s:-s;return n=a[e],i=a[t],n<i?-1:n>i?1:0}):d.sort(function(e,t){var n,i,r,c,d,u,h=o.length,f=l[e]._aSortData,p=l[t]._aSortData;for(r=0;r<h;r++)if(d=o[r],n=f[d.col],i=p[d.col],u=s[d.type+"-"+d.dir]||s["string-"+d.dir],c=u(n,i),0!==c)return c;return n=a[e],i=a[t],n<i?-1:n>i?1:0})}e.bSorted=!0}function ke(e){for(var t,n,i=e.aoColumns,r=xe(e),o=e.oLanguage.oAria,a=0,s=i.length;a<s;a++){var l=i[a],c=l.asSorting,d=l.sTitle.replace(/<.*?>/g,""),u=l.nTh;u.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==a?(u.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=c[r[0].index+1]||c[0]):n=c[0],t=d+("asc"===n?o.sSortAscending:o.sSortDescending)):t=d,u.setAttribute("aria-label",t)}}function Se(t,n,r,o){var a,s=t.aoColumns[n],l=t.aaSorting,c=s.asSorting,d=function(t,n){var r=t._idx;return r===i&&(r=e.inArray(t[1],c)),r+1<c.length?r+1:n?null:0};if("number"==typeof l[0]&&(l=t.aaSorting=[l]),r&&t.oFeatures.bSortMulti){var u=e.inArray(n,st(l,"0"));u!==-1?(a=d(l[u],!0),null===a&&1===l.length&&(a=0),null===a?l.splice(u,1):(l[u][1]=c[a],l[u]._idx=a)):(l.push([n,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==n?(a=d(l[0]),l.length=1,l[0][1]=c[a],l[0]._idx=a):(l.length=0,l.push([n,c[0]]),l[0]._idx=0);H(t),"function"==typeof o&&o(t)}function Te(e,t,n,i){var r=e.aoColumns[n];Oe(t,{},function(t){r.bSortable!==!1&&(e.oFeatures.bProcessing?(fe(e,!0),setTimeout(function(){Se(e,n,t.shiftKey,i),"ssp"!==Re(e)&&fe(e,!1)},0)):Se(e,n,t.shiftKey,i))})}function De(t){var n,i,r,o=t.aLastSort,a=t.oClasses.sSortColumn,s=xe(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,i=o.length;n<i;n++)r=o[n].src,e(st(t.aoData,"anCells",r)).removeClass(a+(n<2?n+1:3));for(n=0,i=s.length;n<i;n++)r=s[n].src,e(st(t.aoData,"anCells",r)).addClass(a+(n<2?n+1:3))}t.aLastSort=s}function Ae(e,t){var n,i=e.aoColumns[t],r=Ye.ext.order[i.sSortDataType];r&&(n=r.call(e.oInstance,e,t,g(e,t)));for(var o,a,s=Ye.ext.type.order[i.sType+"-pre"],l=0,c=e.aoData.length;l<c;l++)o=e.aoData[l],o._aSortData||(o._aSortData=[]),o._aSortData[t]&&!r||(a=r?n[l]:k(e,l,t,"sort"),o._aSortData[t]=s?s(a):a)}function je(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:te(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:te(t.aoPreSearchCols[n])}})};$e(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function Le(t,n,r){var o,a,s=t.aoColumns,l=function(n){if(!n||!n.time)return void r();var l=$e(t,"aoStateLoadParams","stateLoadParams",[t,c]);if(e.inArray(!1,l)!==-1)return void r();var d=t.iStateDuration;if(d>0&&n.time<+new Date-1e3*d)return void r();if(n.columns&&s.length!==n.columns.length)return void r();if(t.oLoadedState=e.extend(!0,{},c),n.start!==i&&(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start),n.length!==i&&(t._iDisplayLength=n.length),n.order!==i&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),n.search!==i&&e.extend(t.oPreviousSearch,ne(n.search)),n.columns)for(o=0,a=n.columns.length;o<a;o++){var u=n.columns[o];u.visible!==i&&(s[o].bVisible=u.visible),u.search!==i&&e.extend(t.aoPreSearchCols[o],ne(u.search))}$e(t,"aoStateLoaded","stateLoaded",[t,c]),r()};if(!t.oFeatures.bStateSave)return void r();var c=t.fnStateLoadCallback.call(t.oInstance,t,l);c!==i&&l(c)}function Ne(t){var n=Ye.settings,i=e.inArray(t,st(n,"nTable"));return i!==-1?n[i]:null}function Ee(e,n,i,r){if(i="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)t.console&&console.log&&console.log(i);else{var o=Ye.ext,a=o.sErrMode||o.errMode;if(e&&$e(e,null,"error",[e,r,i]),"alert"==a)alert(i);else{if("throw"==a)throw new Error(i);"function"==typeof a&&a(e,r,i)}}}function Me(t,n,r,o){return e.isArray(r)?void e.each(r,function(i,r){e.isArray(r)?Me(t,n,r[0],r[1]):Me(t,n,r)}):(o===i&&(o=r),void(n[r]!==i&&(t[o]=n[r])))}function Ie(t,n,i){var r;for(var o in n)n.hasOwnProperty(o)&&(r=n[o],e.isPlainObject(r)?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],r)):i&&"data"!==o&&"aaData"!==o&&e.isArray(r)?t[o]=r.slice():t[o]=r);return t}function Oe(t,n,i){e(t).on("click.DT",n,function(e){t.blur(),i(e)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),i(e))}).on("selectstart.DT",function(){return!1})}function Pe(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function $e(t,n,i,r){var o=[];if(n&&(o=e.map(t[n].slice().reverse(),function(e,n){return e.fn.apply(t.oInstance,r)})),null!==i){var a=e.Event(i+".dt");e(t.nTable).trigger(a,r),o.push(a.result)}return o}function Fe(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(i===-1||t<0)&&(t=0),e._iDisplayStart=t}function He(t,n){var i=t.renderer,r=Ye.ext.renderer[n];return e.isPlainObject(i)&&i[n]?r[i[n]]||r._:"string"==typeof i?r[i]||r._:r._}function Re(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Ue(e,t){var n=[],i=Bt.numbers_length,r=Math.floor(i/2);return t<=i?n=ct(0,t):e<=r?(n=ct(0,i-2),n.push("ellipsis"),n.push(t-1)):e>=t-1-r?(n=ct(t-(i-2),t),n.splice(0,0,"ellipsis"),n.splice(0,0,0)):(n=ct(e-r+2,e+r-1),n.push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function We(t){e.each({num:function(e){return zt(e,t)},"num-fmt":function(e){return zt(e,t,et)},"html-num":function(e){return zt(e,t,Je)},"html-num-fmt":function(e){return zt(e,t,Je,et)}},function(e,n){ze.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(ze.type.search[e+t]=ze.type.search.html)})}function Be(e){return function(){var t=[Ne(this[Ye.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ye.ext.internal[e].apply(this,t)}}var ze,qe,Ve,Ke,Ye=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new qe(e?Ne(this[ze.iApiIndex]):this)},this.fnAddData=function(t,n){var r=this.api(!0),o=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t);return(n===i||n)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===i||e?t.draw(!1):""===r.sX&&""===r.sY||ge(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===i||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),o=r.rows(e),a=o.settings()[0],s=a.aoData[o[0][0]];return o.remove(),t&&t.call(this,a,s),(n===i||n)&&r.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,r,o,a){var s=this.api(!0);null===t||t===i?s.search(e,n,r,a):s.column(t).search(e,n,r,a),s.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==i){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==i||"td"==r||"th"==r?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==i?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var i=t.cell(e).index();return[i.row,i.columnVisible,i.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===i||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var r=this.api(!0).column(e).visible(t);(n===i||n)&&r.columns.adjust().draw()},this.fnSettings=function(){return Ne(this[ze.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,r,o){var a=this.api(!0);return n===i||null===n?a.row(t).data(e):a.cell(t,n).data(e),(o===i||o)&&a.columns.adjust(),(r===i||r)&&a.draw(),0},this.fnVersionCheck=ze.fnVersionCheck;var n=this,r=t===i,d=this.length;r&&(t={}),this.oApi=this.internal=ze.internal;for(var f in Ye.ext.internal)f&&(this[f]=Be(f));return this.each(function(){var f,p={},g=d>1?Ie(p,t,!0):t,m=0,v=this.getAttribute("id"),y=!1,x=Ye.defaults,C=e(this);if("table"!=this.nodeName.toLowerCase())return void Ee(null,0,"Non-table node initialisation ("+this.nodeName+")",2);s(x),l(x.column),o(x,x,!0),o(x.column,x.column,!0),o(x,e.extend(g,C.data()));var k=Ye.settings;for(m=0,f=k.length;m<f;m++){var S=k[m];if(S.nTable==this||S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){var T=g.bRetrieve!==i?g.bRetrieve:x.bRetrieve,A=g.bDestroy!==i?g.bDestroy:x.bDestroy;if(r||T)return S.oInstance;if(A){S.oInstance.fnDestroy();break}return void Ee(S,0,"Cannot reinitialise DataTable",3)}if(S.sTableId==this.id){k.splice(m,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+Ye.ext._unique++,this.id=v);var j=e.extend(!0,{},Ye.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:v,sTableId:v});j.nTable=this,j.oApi=n.internal,j.oInit=g,k.push(j),j.oInstance=1===n.length?n:C.dataTable(),s(g),g.oLanguage&&a(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=e.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=Ie(e.extend(!0,{},x),g),Me(j.oFeatures,g,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Me(j,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Me(j.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Me(j.oLanguage,g,"fnInfoCallback"),Pe(j,"aoDrawCallback",g.fnDrawCallback,"user"),Pe(j,"aoServerParams",g.fnServerParams,"user"),Pe(j,"aoStateSaveParams",g.fnStateSaveParams,"user"),Pe(j,"aoStateLoadParams",g.fnStateLoadParams,"user"),Pe(j,"aoStateLoaded",g.fnStateLoaded,"user"),Pe(j,"aoRowCallback",g.fnRowCallback,"user"),Pe(j,"aoRowCreatedCallback",g.fnCreatedRow,"user"),Pe(j,"aoHeaderCallback",g.fnHeaderCallback,"user"),Pe(j,"aoFooterCallback",g.fnFooterCallback,"user"),Pe(j,"aoInitComplete",g.fnInitComplete,"user"),Pe(j,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),j.rowIdFn=D(g.rowId),c(j);var L=j.oClasses;if(g.bJQueryUI?(e.extend(L,Ye.ext.oJUIClasses,g.oClasses),g.sDom===x.sDom&&"lfrtip"===x.sDom&&(j.sDom='<"H"lfr>t<"F"ip>'),j.renderer?e.isPlainObject(j.renderer)&&!j.renderer.header&&(j.renderer.header="jqueryui"):j.renderer="jqueryui"):e.extend(L,Ye.ext.classes,g.oClasses),C.addClass(L.sTable),j.iInitDisplayStart===i&&(j.iInitDisplayStart=g.iDisplayStart,j._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading){j.bDeferLoading=!0;var N=e.isArray(g.iDeferLoading);j._iRecordsDisplay=N?g.iDeferLoading[0]:g.iDeferLoading,j._iRecordsTotal=N?g.iDeferLoading[1]:g.iDeferLoading}var E=j.oLanguage;e.extend(!0,E,g.oLanguage),E.sUrl&&(e.ajax({dataType:"json",url:E.sUrl,success:function(t){a(t),o(x.oLanguage,t),e.extend(!0,E,t),ae(j)},error:function(){ae(j)}}),y=!0),null===g.asStripeClasses&&(j.asStripeClasses=[L.sStripeOdd,L.sStripeEven]);var M=j.asStripeClasses,I=C.children("tbody").find("tr").eq(0);e.inArray(!0,e.map(M,function(e,t){return I.hasClass(e)}))!==-1&&(e("tbody tr",this).removeClass(M.join(" ")),j.asDestroyStripes=M.slice());var O,P=[],$=this.getElementsByTagName("thead");if(0!==$.length&&(U(j.aoHeader,$[0]),P=W(j)),null===g.aoColumns)for(O=[],m=0,f=P.length;m<f;m++)O.push(null);else O=g.aoColumns;for(m=0,f=O.length;m<f;m++)u(j,P?P[m]:null);if(b(j,g.aoColumnDefs,O,function(e,t){h(j,e,t)}),I.length){var F=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(I[0]).children("th, td").each(function(e,t){var n=j.aoColumns[e];if(n.mData===e){var r=F(t,"sort")||F(t,"order"),o=F(t,"filter")||F(t,"search");null===r&&null===o||(n.mData={_:e+".display",sort:null!==r?e+".@data-"+r:i,type:null!==r?e+".@data-"+r:i,filter:null!==o?e+".@data-"+o:i},h(j,e))}})}var H=j.oFeatures,R=function(){if(g.aaSorting===i){var t=j.aaSorting;for(m=0,f=t.length;m<f;m++)t[m][1]=j.aoColumns[m].asSorting[0]}De(j),H.bSort&&Pe(j,"aoDrawCallback",function(){if(j.bSorted){var t=xe(j),n={};e.each(t,function(e,t){n[t.src]=t.dir}),$e(j,null,"order",[j,t,n]),ke(j)}}),Pe(j,"aoDrawCallback",function(){(j.bSorted||"ssp"===Re(j)||H.bDeferRender)&&De(j)},"sc");var n=C.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),r=C.children("thead");0===r.length&&(r=e("<thead/>").appendTo(C)),j.nTHead=r[0];var o=C.children("tbody");0===o.length&&(o=e("<tbody/>").appendTo(C)),j.nTBody=o[0];var a=C.children("tfoot");if(0===a.length&&n.length>0&&(""!==j.oScroll.sX||""!==j.oScroll.sY)&&(a=e("<tfoot/>").appendTo(C)),0===a.length||0===a.children().length?C.addClass(L.sNoFooter):a.length>0&&(j.nTFoot=a[0],U(j.aoFooter,j.nTFoot)),g.aaData)for(m=0;m<g.aaData.length;m++)_(j,g.aaData[m]);else(j.bDeferLoading||"dom"==Re(j))&&w(j,e(j.nTBody).children("tr"));j.aiDisplay=j.aiDisplayMaster.slice(),j.bInitialised=!0,y===!1&&ae(j)};g.bStateSave?(H.bStateSave=!0,Pe(j,"aoDrawCallback",je,"state_save"),Le(j,g,R)):R()}),n=null,this},Xe={},Ge=/[\r\n]/g,Je=/<.*?>/g,Qe=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Ze=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),et=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,tt=function(e){return!e||e===!0||"-"===e},nt=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},it=function(e,t){return Xe[t]||(Xe[t]=new RegExp(mt(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Xe[t],"."):e},rt=function(e,t,n){var i="string"==typeof e;return!!tt(e)||(t&&i&&(e=it(e,t)),n&&i&&(e=e.replace(et,"")),!isNaN(parseFloat(e))&&isFinite(e))},ot=function(e){return tt(e)||"string"==typeof e},at=function(e,t,n){if(tt(e))return!0;var i=ot(e);return i?!!rt(ut(e),t,n)||null:null},st=function(e,t,n){var r=[],o=0,a=e.length;if(n!==i)for(;o<a;o++)e[o]&&e[o][t]&&r.push(e[o][t][n]);else for(;o<a;o++)e[o]&&r.push(e[o][t]);return r},lt=function(e,t,n,r){var o=[],a=0,s=t.length;if(r!==i)for(;a<s;a++)e[t[a]][n]&&o.push(e[t[a]][n][r]);else for(;a<s;a++)o.push(e[t[a]][n]);return o},ct=function(e,t){var n,r=[];t===i?(t=0,n=e):(n=t,t=e);for(var o=t;o<n;o++)r.push(o);return r},dt=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},ut=function(e){return e.replace(Je,"")},ht=function(e){var t,n,i,r=[],o=e.length,a=0;e:for(n=0;n<o;n++){for(t=e[n],i=0;i<a;i++)if(r[i]===t)continue e;r.push(t),a++}return r};Ye.util={throttle:function(e,t){var n,r,o=t!==i?t:200;return function(){var t=this,a=+new Date,s=arguments;n&&a<n+o?(clearTimeout(r),r=setTimeout(function(){n=i,e.apply(t,s)},o)):(n=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(Ze,"\\$1")}};var ft=function(e,t,n){e[t]!==i&&(e[n]=e[t])},pt=/\[.*?\]$/,gt=/\(\)$/,mt=Ye.util.escapeRegex,vt=e("<div>")[0],yt=vt.textContent!==i,bt=/<.*?>/g,_t=Ye.util.throttle,wt=[],xt=Array.prototype,Ct=function(t){var n,i,r=Ye.settings,o=e.map(r,function(e,t){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(n=e.inArray(t,o),n!==-1?[r[n]]:null):t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=e(t):t instanceof e&&(i=t),i?i.map(function(t){return n=e.inArray(this,o),n!==-1?r[n]:null}).toArray():void 0):[]};qe=function(t,n){if(!(this instanceof qe))return new qe(t,n);var i=[],r=function(e){var t=Ct(e);t&&(i=i.concat(t))};if(e.isArray(t))for(var o=0,a=t.length;o<a;o++)r(t[o]);else r(t);this.context=ht(i),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},qe.extend(this,this,wt)},Ye.Api=qe,e.extend(qe.prototype,{any:function(){return 0!==this.count()},concat:xt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new qe(t[e],this[e]):null},filter:function(e){var t=[];if(xt.filter)t=xt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new qe(this.context,t)},flatten:function(){var e=[];return new qe(this.context,e.concat.apply(e,this.toArray()))},join:xt.join,indexOf:xt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,r){var o,a,s,l,c,d,u,h,f=[],p=this.context,g=this.selector;for("string"==typeof e&&(r=n,n=t,t=e,e=!1),a=0,s=p.length;a<s;a++){var m=new qe(p[a]);if("table"===t)o=n.call(m,p[a],a),o!==i&&f.push(o);else if("columns"===t||"rows"===t)o=n.call(m,p[a],this[a],a),o!==i&&f.push(o);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(u=this[a],"column-rows"===t&&(d=jt(p[a],g.opts)),l=0,c=u.length;l<c;l++)h=u[l],o="cell"===t?n.call(m,p[a],h.row,h.column,a,l):n.call(m,p[a],h,a,l,d),o!==i&&f.push(o)}if(f.length||r){var v=new qe(p,e?f.concat.apply([],f):f),y=v.selector;return y.rows=g.rows,y.cols=g.cols,y.opts=g.opts,v}return this},lastIndexOf:xt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(xt.map)t=xt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new qe(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:xt.pop,push:xt.push,reduce:xt.reduce||function(e,t){return d(this,e,t,0,this.length,1)},reduceRight:xt.reduceRight||function(e,t){return d(this,e,t,this.length-1,-1,-1)},reverse:xt.reverse,selector:null,shift:xt.shift,sort:xt.sort,splice:xt.splice,toArray:function(){return xt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new qe(this.context,ht(this))},unshift:xt.unshift}),qe.extend=function(t,n,i){if(i.length&&n&&(n instanceof qe||n.__dt_wrapper)){var r,o,a,s=function(e,t,n){return function(){var i=t.apply(e,arguments);return qe.extend(i,i,n.methodExt),i}};for(r=0,o=i.length;r<o;r++)a=i[r],n[a.name]="function"==typeof a.val?s(t,a.val,a):e.isPlainObject(a.val)?{}:a.val,n[a.name].__dt_wrapper=!0,qe.extend(t,n[a.name],a.propExt)}},qe.register=Ve=function(t,n){if(e.isArray(t))for(var i=0,r=t.length;i<r;i++)qe.register(t[i],n);else{var o,a,s,l,c=t.split("."),d=wt,u=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n].name===t)return e[n];return null};for(o=0,a=c.length;o<a;o++){l=c[o].indexOf("()")!==-1,s=l?c[o].replace("()",""):c[o];var h=u(d,s);h||(h={name:s,val:{},methodExt:[],propExt:[]},d.push(h)),o===a-1?h.val=n:d=l?h.methodExt:h.propExt}}},qe.registerPlural=Ke=function(t,n,r){qe.register(t,r),qe.register(n,function(){var t=r.apply(this,arguments);return t===this?this:t instanceof qe?t.length?e.isArray(t[0])?new qe(t.context,t[0]):t[0]:i:t})};var kt=function(t,n){if("number"==typeof t)return[n[t]];var i=e.map(n,function(e,t){return e.nTable});return e(i).filter(t).map(function(t){var r=e.inArray(this,i);return n[r]}).toArray()};Ve("tables()",function(e){return e?new qe(kt(e,this.context)):this}),Ve("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new qe(n[0]):t}),Ke("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Ke("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Ke("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Ke("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Ke("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),Ve("draw()",function(e){return this.iterator("table",function(t){"page"===e?F(t):("string"==typeof e&&(e="full-hold"!==e),H(t,e===!1))})}),Ve("page()",function(e){return e===i?this.page.info().page:this.iterator("table",function(t){ue(t,e)})}),Ve("page.info()",function(e){if(0===this.context.length)return i;var t=this.context[0],n=t._iDisplayStart,r=t.oFeatures.bPaginate?t._iDisplayLength:-1,o=t.fnRecordsDisplay(),a=r===-1;return{page:a?0:Math.floor(n/r),pages:a?1:Math.ceil(o/r),start:n,end:t.fnDisplayEnd(),length:r,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===Re(t)}}),Ve("page.len()",function(e){return e===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){le(t,e)})});var St=function(e,t,n){if(n){var i=new qe(e);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==Re(e))H(e,t);else{fe(e,!0);var r=e.jqXHR;r&&4!==r.readyState&&r.abort(),B(e,[],function(n){L(e);for(var i=K(e,n),r=0,o=i.length;r<o;r++)_(e,i[r]);H(e,t),fe(e,!1)})}};Ve("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),Ve("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),Ve("ajax.reload()",function(e,t){return this.iterator("table",function(n){St(n,t===!1,e)})}),Ve("ajax.url()",function(t){var n=this.context;return t===i?0===n.length?i:(n=n[0],n.ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource):this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),Ve("ajax.url().load()",function(e,t){return this.iterator("table",function(n){St(n,t===!1,e)})});var Tt=function(t,n,r,o,a){var s,l,c,d,u,h,f=[],p=typeof n;for(n&&"string"!==p&&"function"!==p&&n.length!==i||(n=[n]),c=0,d=n.length;c<d;c++)for(l=n[c]&&n[c].split&&!n[c].match(/[\[\(:]/)?n[c].split(","):[n[c]],u=0,h=l.length;u<h;u++)s=r("string"==typeof l[u]?e.trim(l[u]):l[u]),s&&s.length&&(f=f.concat(s));var g=ze.selector[t];if(g.length)for(c=0,d=g.length;c<d;c++)f=g[c](o,a,f);return ht(f)},Dt=function(t){return t||(t={}),t.filter&&t.search===i&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},At=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},jt=function(t,n){var i,r,o,a=[],s=t.aiDisplay,l=t.aiDisplayMaster,c=n.search,d=n.order,u=n.page;if("ssp"==Re(t))return"removed"===c?[]:ct(0,l.length);if("current"==u)for(i=t._iDisplayStart,r=t.fnDisplayEnd();i<r;i++)a.push(s[i]);else if("current"==d||"applied"==d)a="none"==c?l.slice():"applied"==c?s.slice():e.map(l,function(t,n){return e.inArray(t,s)===-1?t:null});else if("index"==d||"original"==d)for(i=0,r=t.aoData.length;i<r;i++)"none"==c?a.push(i):(o=e.inArray(i,s),(o===-1&&"removed"==c||o>=0&&"applied"==c)&&a.push(i));return a},Lt=function(t,n,r){var o,a=function(n){var a=nt(n);if(null!==a&&!r)return[a];if(o||(o=jt(t,r)),null!==a&&e.inArray(a,o)!==-1)return[a];if(null===n||n===i||""===n)return o;if("function"==typeof n)return e.map(o,function(e){var i=t.aoData[e];return n(e,i._aData,i.nTr)?e:null});var s=dt(lt(t.aoData,o,"nTr"));if(n.nodeName){if(n._DT_RowIndex!==i)return[n._DT_RowIndex];if(n._DT_CellIndex)return[n._DT_CellIndex.row];var l=e(n).closest("*[data-dt-row]");return l.length?[l.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var c=t.aIds[n.replace(/^#/,"")];if(c!==i)return[c.idx]}return e(s).filter(n).map(function(){return this._DT_RowIndex}).toArray()};return Tt("row",n,a,t,r)};Ve("rows()",function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t=""),n=Dt(n);var r=this.iterator("table",function(e){return Lt(e,t,n)},1);return r.selector.rows=t,r.selector.opts=n,r}),Ve("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||i},1)}),Ve("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return lt(e.aoData,t,"_aData")},1)}),Ke("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData},1)}),Ke("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){E(t,n,e)})}),Ke("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Ke("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,a=this[i].length;o<a;o++){var s=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);t.push((e===!0?"#":"")+s)}return new qe(n,t)}),Ke("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,r){var o,a,s,l,c,d,u=t.aoData,h=u[n];for(u.splice(n,1),o=0,a=u.length;o<a;o++)if(c=u[o],d=c.anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=o),null!==d)for(s=0,l=d.length;s<l;s++)d[s]._DT_CellIndex.row=o;N(t.aiDisplayMaster,n),N(t.aiDisplay,n),N(e[r],n,!1),Fe(t);var f=t.rowIdFn(h._aData);f!==i&&delete t.aIds[f]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),Ve("rows.add()",function(t){var n=this.iterator("table",function(e){var n,i,r,o=[];for(i=0,r=t.length;i<r;i++)n=t[i],n.nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(w(e,n)[0]):o.push(_(e,n));return o},1),i=this.rows(-1);return i.pop(),e.merge(i,n),i}),Ve("row()",function(e,t){return At(this.rows(e,t))}),Ve("row().data()",function(e){var t=this.context;return e===i?t.length&&this.length?t[0].aoData[this[0]]._aData:i:(t[0].aoData[this[0]]._aData=e,E(t[0],this[0],"data"),this)}),Ve("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Ve("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?w(e,t)[0]:_(e,t)});return this.row(n[0])});var Nt=function(t,n,i,r){var o=[],a=function(n,i){if(e.isArray(n)||n instanceof e)for(var r=0,s=n.length;r<s;r++)a(n[r],i);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())o.push(n);else{var l=e("<tr><td/></tr>").addClass(i);e("td",l).addClass(i).html(n)[0].colSpan=m(t),o.push(l[0])}};a(i,r),n._details&&n._details.detach(),n._details=e(o),n._detailsShow&&n._details.insertAfter(n.nTr)},Et=function(e,t){var n=e.context;if(n.length){var r=n[0].aoData[t!==i?t:e[0]];r&&r._details&&(r._details.remove(),r._detailsShow=i,r._details=i)}},Mt=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];i._details&&(i._detailsShow=t,t?i._details.insertAfter(i.nTr):i._details.detach(),It(n[0]))}},It=function(e){var t=new qe(e),n=".dt.DT_details",i="draw"+n,r="column-visibility"+n,o="destroy"+n,a=e.aoData;t.off(i+" "+r+" "+o),st(a,"_details").length>0&&(t.on(i,function(n,i){e===i&&t.rows({page:"current"}).eq(0).each(function(e){var t=a[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(r,function(t,n,i,r){if(e===n)for(var o,s=m(n),l=0,c=a.length;l<c;l++)o=a[l],o._details&&o._details.children("td[colspan]").attr("colspan",s)}),t.on(o,function(n,i){if(e===i)for(var r=0,o=a.length;r<o;r++)a[r]._details&&Et(t,r)}))},Ot="",Pt=Ot+"row().child",$t=Pt+"()";Ve($t,function(e,t){var n=this.context;return e===i?n.length&&this.length?n[0].aoData[this[0]]._details:i:(e===!0?this.child.show():e===!1?Et(this):n.length&&this.length&&Nt(n[0],n[0].aoData[this[0]],e,t),this)}),Ve([Pt+".show()",$t+".show()"],function(e){return Mt(this,!0),this}),Ve([Pt+".hide()",$t+".hide()"],function(){return Mt(this,!1),this}),Ve([Pt+".remove()",$t+".remove()"],function(){return Et(this),this}),Ve(Pt+".isShown()",function(){var e=this.context;return!(!e.length||!this.length)&&(e[0].aoData[this[0]]._detailsShow||!1)});var Ft=/^([^:]+):(name|visIdx|visible)$/,Ht=function(e,t,n,i,r){
for(var o=[],a=0,s=r.length;a<s;a++)o.push(k(e,r[a],t));return o},Rt=function(t,n,i){var r=t.aoColumns,o=st(r,"sName"),a=st(r,"nTh"),s=function(n){var s=nt(n);if(""===n)return ct(r.length);if(null!==s)return[s>=0?s:r.length+s];if("function"==typeof n){var l=jt(t,i);return e.map(r,function(e,i){return n(i,Ht(t,i,0,0,l),a[i])?i:null})}var c="string"==typeof n?n.match(Ft):"";if(c)switch(c[2]){case"visIdx":case"visible":var d=parseInt(c[1],10);if(d<0){var u=e.map(r,function(e,t){return e.bVisible?t:null});return[u[u.length+d]]}return[p(t,d)];case"name":return e.map(o,function(e,t){return e===c[1]?t:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var h=e(a).filter(n).map(function(){return e.inArray(this,a)}).toArray();if(h.length||!n.nodeName)return h;var f=e(n).closest("*[data-dt-column]");return f.length?[f.data("dt-column")]:[]};return Tt("column",n,s,t,i)},Ut=function(t,n,r){var o,a,s,l,c=t.aoColumns,d=c[n],u=t.aoData;if(r===i)return d.bVisible;if(d.bVisible!==r){if(r){var h=e.inArray(!0,st(c,"bVisible"),n+1);for(a=0,s=u.length;a<s;a++)l=u[a].nTr,o=u[a].anCells,l&&l.insertBefore(o[n],o[h]||null)}else e(st(t.aoData,"anCells",n)).detach();d.bVisible=r,$(t,t.aoHeader),$(t,t.aoFooter),je(t)}};Ve("columns()",function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t=""),n=Dt(n);var r=this.iterator("table",function(e){return Rt(e,t,n)},1);return r.selector.cols=t,r.selector.opts=n,r}),Ke("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Ke("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Ke("columns().data()","column().data()",function(){return this.iterator("column-rows",Ht,1)}),Ke("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Ke("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,r,o){return lt(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)},1)}),Ke("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return lt(e.aoData,r,"anCells",t)},1)}),Ke("columns().visible()","column().visible()",function(e,t){var n=this.iterator("column",function(t,n){return e===i?t.aoColumns[n].bVisible:void Ut(t,n,e)});return e!==i&&(this.iterator("column",function(n,i){$e(n,null,"column-visibility",[n,i,e,t])}),(t===i||t)&&this.columns.adjust()),n}),Ke("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?g(t,n):n},1)}),Ve("columns.adjust()",function(){return this.iterator("table",function(e){f(e)},1)}),Ve("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return p(n,t);if("fromData"===e||"toVisible"===e)return g(n,t)}}),Ve("column()",function(e,t){return At(this.columns(e,t))});var Wt=function(t,n,r){var o,a,s,l,c,d,u,h=t.aoData,f=jt(t,r),p=dt(lt(h,f,"anCells")),g=e([].concat.apply([],p)),m=t.aoColumns.length,v=function(n){var r="function"==typeof n;if(null===n||n===i||r){for(a=[],s=0,l=f.length;s<l;s++)for(o=f[s],c=0;c<m;c++)d={row:o,column:c},r?(u=h[o],n(d,k(t,o,c),u.anCells?u.anCells[c]:null)&&a.push(d)):a.push(d);return a}if(e.isPlainObject(n))return[n];var p=g.filter(n).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();return p.length||!n.nodeName?p:(u=e(n).closest("*[data-dt-row]"),u.length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[])};return Tt("cell",n,v,t,r)};Ve("cells()",function(t,n,r){if(e.isPlainObject(t)&&(t.row===i?(r=t,t=null):(r=n,n=null)),e.isPlainObject(n)&&(r=n,n=null),null===n||n===i)return this.iterator("table",function(e){return Wt(e,t,Dt(r))});var o,a,s,l,c,d=this.columns(n,r),u=this.rows(t,r),h=this.iterator("table",function(e,t){for(o=[],a=0,s=u[t].length;a<s;a++)for(l=0,c=d[t].length;l<c;l++)o.push({row:u[t][a],column:d[t][l]});return o},1);return e.extend(h.selector,{cols:n,rows:t,opts:r}),h}),Ke("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var r=e.aoData[t];return r&&r.anCells?r.anCells[n]:i},1)}),Ve("cells().data()",function(){return this.iterator("cell",function(e,t,n){return k(e,t,n)},1)}),Ke("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]},1)}),Ke("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return k(t,n,i,e)},1)}),Ke("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:g(e,n)}},1)}),Ke("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,i){E(t,n,e,i)})}),Ve("cell()",function(e,t,n){return At(this.cells(e,t,n))}),Ve("cell().data()",function(e){var t=this.context,n=this[0];return e===i?t.length&&n.length?k(t[0],n[0].row,n[0].column):i:(S(t[0],n[0].row,n[0].column,e),E(t[0],n[0].row,"data",n[0].column),this)}),Ve("order()",function(t,n){var r=this.context;return t===i?0!==r.length?r[0].aaSorting:i:("number"==typeof t?t=[[t,n]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),Ve("order.listener()",function(e,t,n){return this.iterator("table",function(i){Te(i,e,t,n)})}),Ve("order.fixed()",function(t){if(!t){var n=this.context,r=n.length?n[0].aaSortingFixed:i;return e.isArray(r)?{pre:r}:r}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),Ve(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(i,r){var o=[];e.each(n[r],function(e,n){o.push([n,t])}),i.aaSorting=o})}),Ve("search()",function(t,n,r,o){var a=this.context;return t===i?0!==a.length?a[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&X(i,e.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})}),Ke("columns().search()","column().search()",function(t,n,r,o){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;return t===i?l[s].sSearch:void(a.oFeatures.bFilter&&(e.extend(l[s],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),X(a,a.oPreviousSearch,1)))})}),Ve("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Ve("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Ve("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Ve("state.save()",function(){return this.iterator("table",function(e){je(e)})}),Ye.versionCheck=Ye.fnVersionCheck=function(e){for(var t,n,i=Ye.version.split("."),r=e.split("."),o=0,a=r.length;o<a;o++)if(t=parseInt(i[o],10)||0,n=parseInt(r[o],10)||0,t!==n)return t>n;return!0},Ye.isDataTable=Ye.fnIsDataTable=function(t){var n=e(t).get(0),i=!1;return t instanceof Ye.Api||(e.each(Ye.settings,function(t,r){var o=r.nScrollHead?e("table",r.nScrollHead)[0]:null,a=r.nScrollFoot?e("table",r.nScrollFoot)[0]:null;r.nTable!==n&&o!==n&&a!==n||(i=!0)}),i)},Ye.tables=Ye.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var i=e.map(Ye.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new qe(i):i},Ye.camelToHungarian=o,Ve("$()",function(t,n){var i=this.rows(n).nodes(),r=e(i);return e([].concat(r.filter(t).toArray(),r.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){Ve(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var i=e(this.tables().nodes());return i[n].apply(i,t),this})}),Ve("clear()",function(){return this.iterator("table",function(e){L(e)})}),Ve("settings()",function(){return new qe(this.context,this.context)}),Ve("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),Ve("data()",function(){return this.iterator("table",function(e){return st(e.aoData,"_aData")}).flatten()}),Ve("destroy()",function(n){return n=n||!1,this.iterator("table",function(i){var r,o=i.nTableWrapper.parentNode,a=i.oClasses,s=i.nTable,l=i.nTBody,c=i.nTHead,d=i.nTFoot,u=e(s),h=e(l),f=e(i.nTableWrapper),p=e.map(i.aoData,function(e){return e.nTr});i.bDestroying=!0,$e(i,"aoDestroyCallback","destroy",[i]),n||new qe(i).columns().visible(!0),f.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+i.sInstance),s!=c.parentNode&&(u.children("thead").detach(),u.append(c)),d&&s!=d.parentNode&&(u.children("tfoot").detach(),u.append(d)),i.aaSorting=[],i.aaSortingFixed=[],De(i),e(p).removeClass(i.asStripeClasses.join(" ")),e("th, td",c).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),i.bJUI&&(e("th span."+a.sSortIcon+", td span."+a.sSortIcon,c).detach(),e("th, td",c).each(function(){var t=e("div."+a.sSortJUIWrapper,this);e(this).append(t.contents()),t.detach()})),h.children().detach(),h.append(p);var g=n?"remove":"detach";u[g](),f[g](),!n&&o&&(o.insertBefore(s,i.nTableReinsertBefore),u.css("width",i.sDestroyWidth).removeClass(a.sTable),r=i.asDestroyStripes.length,r&&h.children().each(function(t){e(this).addClass(i.asDestroyStripes[t%r])}));var m=e.inArray(i,Ye.settings);m!==-1&&Ye.settings.splice(m,1)})}),e.each(["column","row","cell"],function(e,t){Ve(t+"s().every()",function(e){var n=this.selector.opts,r=this;return this.iterator(t,function(o,a,s,l,c){e.call(r[t](a,"cell"===t?s:n,"cell"===t?n:i),a,s,l,c)})})}),Ve("i18n()",function(t,n,r){var o=this.context[0],a=D(t)(o.oLanguage);return a===i&&(a=n),r!==i&&e.isPlainObject(a)&&(a=a[r]!==i?a[r]:a._),a.replace("%d",r)}),Ye.version="1.10.13",Ye.settings=[],Ye.models={},Ye.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ye.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ye.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ye.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((e.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(e.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},Ye.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(Ye.defaults),Ye.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Ye.defaults.column),Ye.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Re(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Re(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?o===!1||e===-1?t+i:Math.min(t+e,this._iRecordsDisplay):!o||n>i||e===-1?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ye.ext=ze={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ye.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ye.version},e.extend(ze,{afnFiltering:ze.search,aTypes:ze.type.detect,ofnSearch:ze.type.search,oSort:ze.type.order,afnSortData:ze.order,aoFeatures:ze.feature,oApi:ze.internal,oStdClasses:ze.classes,oPagination:ze.pager}),e.extend(Ye.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var t="";t="";var n=t+"ui-state-default",i=t+"css_right ui-icon ui-icon-",r=t+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";e.extend(Ye.ext.oJUIClasses,Ye.ext.classes,{sPageButton:"fg-button ui-button "+n,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:n+" sorting_asc",sSortDesc:n+" sorting_desc",sSortable:n+" sorting",sSortableAsc:n+" sorting_asc_disabled",sSortableDesc:n+" sorting_desc_disabled",sSortableNone:n+" sorting_disabled",sSortJUIAsc:i+"triangle-1-n",sSortJUIDesc:i+"triangle-1-s",sSortJUI:i+"carat-2-n-s",sSortJUIAscAllowed:i+"carat-1-n",sSortJUIDescAllowed:i+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+n,sScrollFoot:"dataTables_scrollFoot "+n,sHeaderTH:n,sFooterTH:n,sJUIHeader:r+" ui-corner-tl ui-corner-tr",sJUIFooter:r+" ui-corner-bl ui-corner-br"})}();var Bt=Ye.ext.pager;e.extend(Bt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[Ue(e,t)]},simple_numbers:function(e,t){return["previous",Ue(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Ue(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Ue(e,t),"last"]},_numbers:Ue,numbers_length:7}),e.extend(!0,Ye.ext.renderer,{pageButton:{_:function(t,r,o,a,s,l){var c,d,u,h=t.oClasses,f=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},g=0,m=function(n,i){var r,a,u,v,y=function(e){ue(t,e.data.action,!0)};for(r=0,a=i.length;r<a;r++)if(v=i[r],e.isArray(v)){var b=e("<"+(v.DT_el||"div")+"/>").appendTo(n);m(b,v)}else{switch(c=null,d="",v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=f.sFirst,d=v+(s>0?"":" "+h.sPageButtonDisabled);break;case"previous":c=f.sPrevious,d=v+(s>0?"":" "+h.sPageButtonDisabled);break;case"next":c=f.sNext,d=v+(s<l-1?"":" "+h.sPageButtonDisabled);break;case"last":c=f.sLast,d=v+(s<l-1?"":" "+h.sPageButtonDisabled);break;default:c=v+1,d=s===v?h.sPageButtonActive:""}null!==c&&(u=e("<a>",{"class":h.sPageButton+" "+d,"aria-controls":t.sTableId,"aria-label":p[v],"data-dt-idx":g,tabindex:t.iTabIndex,id:0===o&&"string"==typeof v?t.sTableId+"_"+v:null}).html(c).appendTo(n),Oe(u,{action:v},y),g++)}};try{u=e(r).find(n.activeElement).data("dt-idx")}catch(v){}m(e(r).empty(),a),u!==i&&e(r).find("[data-dt-idx="+u+"]").focus()}}}),e.extend(Ye.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return rt(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&!Qe.test(e))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||tt(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return rt(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return at(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return at(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return tt(e)||"string"==typeof e&&e.indexOf("<")!==-1?"html":null}]),e.extend(Ye.ext.type.search,{html:function(e){return tt(e)?e:"string"==typeof e?e.replace(Ge," ").replace(Je,""):""},string:function(e){return tt(e)?e:"string"==typeof e?e.replace(Ge," "):e}});var zt=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=it(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-(1/0)};e.extend(ze.type.order,{"date-pre":function(e){return Date.parse(e)||-(1/0)},"html-pre":function(e){return tt(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return tt(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),We(""),e.extend(!0,Ye.ext.renderer,{header:{_:function(t,n,i,r){e(t.nTable).on("order.dt.DT",function(e,o,a,s){if(t===o){var l=i.idx;n.removeClass(i.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:i.sSortingClass)}})},jqueryui:function(t,n,i,r){e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,o,a,s){if(t===o){var l=i.idx;n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:i.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[l]?r.sSortJUIAsc:"desc"==s[l]?r.sSortJUIDesc:i.sSortingClassJUI)}})}}});var qt=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};return Ye.render={number:function(e,t,n,i,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var a=o<0?"-":"",s=parseFloat(o);if(isNaN(s))return qt(o);s=s.toFixed(n),o=Math.abs(s);var l=parseInt(o,10),c=n?t+(o-l).toFixed(n).substring(2):"";return a+(i||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+c+(r||"")}}},text:function(){return{display:qt}}},e.extend(Ye.ext.internal,{_fnExternApiFunc:Be,_fnBuildAjax:B,_fnAjaxUpdate:z,_fnAjaxParameters:q,_fnAjaxUpdateDraw:V,_fnAjaxDataSrc:K,_fnAddColumn:u,_fnColumnOptions:h,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:a,_fnBrowserDetect:c,_fnAddData:_,_fnAddTr:w,_fnNodeToDataIndex:x,_fnNodeToColumnIndex:C,_fnGetCellData:k,_fnSetCellData:S,_fnSplitObjNotation:T,_fnGetObjectDataFn:D,_fnSetObjectDataFn:A,_fnGetDataMaster:j,_fnClearTable:L,_fnDeleteIndex:N,_fnInvalidate:E,_fnGetRowElements:M,_fnCreateTr:I,_fnBuildHead:P,_fnDrawHead:$,_fnDraw:F,_fnReDraw:H,_fnAddOptionsHtml:R,_fnDetectHeader:U,_fnGetUniqueThs:W,_fnFeatureHtmlFilter:Y,_fnFilterComplete:X,_fnFilterCustom:G,_fnFilterColumn:J,_fnFilter:Q,_fnFilterCreateSearch:Z,_fnEscapeRegex:mt,_fnFilterData:ee,_fnFeatureHtmlInfo:ie,_fnUpdateInfo:re,_fnInfoMacros:oe,_fnInitialise:ae,_fnInitComplete:se,_fnLengthChange:le,_fnFeatureHtmlLength:ce,_fnFeatureHtmlPaginate:de,_fnPageChange:ue,_fnFeatureHtmlProcessing:he,_fnProcessingDisplay:fe,_fnFeatureHtmlTable:pe,_fnScrollDraw:ge,_fnApplyToChildren:me,_fnCalculateColumnWidths:ve,_fnThrottle:_t,_fnConvertToWidth:ye,_fnGetWidestNode:be,_fnGetMaxLenString:_e,_fnStringToCss:we,_fnSortFlatten:xe,_fnSort:Ce,_fnSortAria:ke,_fnSortListener:Se,_fnSortAttachListener:Te,_fnSortingClasses:De,_fnSortData:Ae,_fnSaveState:je,_fnLoadState:Le,_fnSettingsFromNode:Ne,_fnLog:Ee,_fnMap:Me,_fnBindAction:Oe,_fnCallbackReg:Pe,_fnCallbackFire:$e,_fnLengthOverflow:Fe,_fnRenderer:He,_fnDataSource:Re,_fnRowAttributes:O,_fnCalculateEnd:function(){}}),e.fn.dataTable=Ye,Ye.$=e,e.fn.dataTableSettings=Ye.settings,e.fn.dataTableExt=Ye.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(Ye,function(t,n){e.fn.DataTable[t]=n}),e.fn.dataTable}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";function r(e,t,n){var i,r,o,a=function(t,n){if(t>n){var i=n;n=t,t=i}var r=!1;return e.columns(":visible").indexes().filter(function(e){return e===t&&(r=!0),e===n?(r=!1,!0):r})},s=function(t,n){var i=e.rows({search:"applied"}).indexes();if(i.indexOf(t)>i.indexOf(n)){var r=n;n=t,t=r}var o=!1;return i.filter(function(e){return e===t&&(o=!0),e===n?(o=!1,!0):o})};e.cells({selected:!0}).any()||n?(r=a(n.column,t.column),o=s(n.row,t.row)):(r=a(0,t.column),o=s(0,t.row)),i=e.cells(o,r).flatten(),e.cells(t,{selected:!0}).any()?e.cells(i).deselect():e.cells(i).select()}function o(t){var n=t.settings()[0],i=n._select.selector;e(t.table().container()).off("mousedown.dtSelect",i).off("mouseup.dtSelect",i).off("click.dtSelect",i),e("body").off("click.dtSelect")}function a(n){var i=e(n.table().container()),r=n.settings()[0],o=r._select.selector;i.on("mousedown.dtSelect",o,function(e){(e.shiftKey||e.metaKey||e.ctrlKey)&&i.css("-moz-user-select","none").one("selectstart.dtSelect",o,function(){return!1})}).on("mouseup.dtSelect",o,function(){i.css("-moz-user-select","")}).on("click.dtSelect",o,function(i){var r,o=n.select.items();if(!t.getSelection||!t.getSelection().toString()){var a=n.settings()[0];if(e(i.target).closest("div.dataTables_wrapper")[0]==n.table().container()){var l=n.cell(e(i.target).closest("td, th"));if(l.any()){var c=e.Event("user-select.dt");if(s(n,c,[o,l,i]),!c.isDefaultPrevented()){var d=l.index();"row"===o?(r=d.row,h(i,n,a,"row",r)):"column"===o?(r=l.index().column,h(i,n,a,"column",r)):"cell"===o&&(r=l.index(),h(i,n,a,"cell",r)),a._select_lastCell=d}}}}}),e("body").on("click.dtSelect",function(t){if(r._select.blurable){if(e(t.target).parents().filter(n.table().container()).length)return;if(e(t.target).parents("div.DTE").length)return;u(r,!0)}})}function s(t,n,i,r){r&&!t.flatten().length||("string"==typeof n&&(n+=".dt"),i.unshift(t),e(t.table().node()).triggerHandler(n,i))}function l(t){var n=t.settings()[0];if(n._select.info&&n.aanFeatures.i){var i=e('<span class="select-info"/>'),r=function(n,r){i.append(e('<span class="select-item"/>').append(t.i18n("select."+n+"s",{_:"%d "+n+"s selected",0:"",1:"1 "+n+" selected"},r)))};r("row",t.rows({selected:!0}).flatten().length),r("column",t.columns({selected:!0}).flatten().length),r("cell",t.cells({selected:!0}).flatten().length),e.each(n.aanFeatures.i,function(t,n){n=e(n);var r=n.children("span.select-info");r.length&&r.remove(),""!==i.text()&&n.append(i)})}}function c(t){var n=new g.Api(t);t.aoRowCreatedCallback.push({fn:function(n,i,r){var o,a,s=t.aoData[r];for(s._select_selected&&e(n).addClass(t._select.className),o=0,a=t.aoColumns.length;o<a;o++)(t.aoColumns[o]._select_selected||s._selected_cells&&s._selected_cells[o])&&e(s.anCells[o]).addClass(t._select.className)},sName:"select-deferRender"}),n.on("preXhr.dt.dtSelect",function(){var e=n.rows({selected:!0}).ids(!0).filter(function(e){return e!==i}),t=n.cells({selected:!0}).eq(0).map(function(e){var t=n.row(e.row).id(!0);return t?{row:t,column:e.column}:i}).filter(function(e){return e!==i});n.one("draw.dt.dtSelect",function(){n.rows(e).select(),t.any()&&t.each(function(e){n.cells(e.row,e.column).select()})})}),n.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){l(n)}),n.on("destroy.dtSelect",function(){o(n),n.off(".dtSelect")})}function d(t,n,i,r){var o=t[n+"s"]({search:"applied"}).indexes(),a=e.inArray(r,o),s=e.inArray(i,o);if(t[n+"s"]({selected:!0}).any()||a!==-1){if(a>s){var l=s;s=a,a=l}o.splice(s+1,o.length),o.splice(0,a)}else o.splice(e.inArray(i,o)+1,o.length);t[n](i,{selected:!0}).any()?(o.splice(e.inArray(i,o),1),t[n+"s"](o).deselect()):t[n+"s"](o).select()}function u(e,t){if(t||"single"===e._select.style){var n=new g.Api(e);n.rows({selected:!0}).deselect(),n.columns({selected:!0}).deselect(),n.cells({selected:!0}).deselect()}}function h(e,t,n,i,o){var a=t.select.style(),s=t[i](o,{selected:!0}).any();if("os"===a)if(e.ctrlKey||e.metaKey)t[i](o).select(!s);else if(e.shiftKey)"cell"===i?r(t,o,n._select_lastCell||null):d(t,i,o,n._select_lastCell?n._select_lastCell[i]:null);else{var l=t[i+"s"]({selected:!0});s&&1===l.flatten().length?t[i](o).deselect():(l.deselect(),t[i](o).select())}else"multi+shift"==a&&e.shiftKey?"cell"===i?r(t,o,n._select_lastCell||null):d(t,i,o,n._select_lastCell?n._select_lastCell[i]:null):t[i](o).select(!s)}function f(e,t){return function(n){return n.i18n("buttons."+e,t)}}function p(e){var t=e._eventNamespace;return"draw.dt.DT"+t+" select.dt.DT"+t+" deselect.dt.DT"+t}var g=e.fn.dataTable;g.select={},g.select.version="1.2.1",g.select.init=function(t){var n=t.settings()[0],r=n.oInit.select,o=g.defaults.select,a=r===i?o:r,s="row",l="api",c=!1,d=!0,u="td, th",h="selected",f=!1;n._select={},a===!0?(l="os",f=!0):"string"==typeof a?(l=a,f=!0):e.isPlainObject(a)&&(a.blurable!==i&&(c=a.blurable),a.info!==i&&(d=a.info),a.items!==i&&(s=a.items),a.style!==i&&(l=a.style,f=!0),a.selector!==i&&(u=a.selector),a.className!==i&&(h=a.className)),t.select.selector(u),t.select.items(s),t.select.style(l),t.select.blurable(c),t.select.info(d),n._select.className=h,e.fn.dataTable.ext.order["select-checkbox"]=function(t,n){return this.api().column(n,{order:"index"}).nodes().map(function(n){return"row"===t._select.items?e(n).parent().hasClass(t._select.className):"cell"===t._select.items&&e(n).hasClass(t._select.className)})},!f&&e(t.table().node()).hasClass("selectable")&&t.select.style("os")},e.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(e,t){g.ext.selector[t.type].push(function(e,n,r){var o,a=n.selected,s=[];if(a===i)return r;for(var l=0,c=r.length;l<c;l++)o=e[t.prop][r[l]],(a===!0&&o._select_selected===!0||a===!1&&!o._select_selected)&&s.push(r[l]);return s})}),g.ext.selector.cell.push(function(e,t,n){var r,o=t.selected,a=[];if(o===i)return n;for(var s=0,l=n.length;s<l;s++)r=e.aoData[n[s].row],(o===!0&&r._selected_cells&&r._selected_cells[n[s].column]===!0||o===!1&&(!r._selected_cells||!r._selected_cells[n[s].column]))&&a.push(n[s]);return a});var m=g.Api.register,v=g.Api.registerPlural;m("select()",function(){return this.iterator("table",function(e){g.select.init(new g.Api(e))})}),m("select.blurable()",function(e){return e===i?this.context[0]._select.blurable:this.iterator("table",function(t){t._select.blurable=e})}),m("select.info()",function(e){return l===i?this.context[0]._select.info:this.iterator("table",function(t){t._select.info=e})}),m("select.items()",function(e){return e===i?this.context[0]._select.items:this.iterator("table",function(t){t._select.items=e,s(new g.Api(t),"selectItems",[e])})}),m("select.style()",function(e){return e===i?this.context[0]._select.style:this.iterator("table",function(t){t._select.style=e,t._select_init||c(t);var n=new g.Api(t);o(n),"api"!==e&&a(n),s(new g.Api(t),"selectStyle",[e])})}),m("select.selector()",function(e){return e===i?this.context[0]._select.selector:this.iterator("table",function(t){o(new g.Api(t)),t._select.selector=e,"api"!==t._select.style&&a(new g.Api(t))})}),v("rows().select()","row().select()",function(t){var n=this;return t===!1?this.deselect():(this.iterator("row",function(t,n){u(t),t.aoData[n]._select_selected=!0,e(t.aoData[n].nTr).addClass(t._select.className)}),this.iterator("table",function(e,t){s(n,"select",["row",n[t]],!0)}),this)}),v("columns().select()","column().select()",function(t){var n=this;return t===!1?this.deselect():(this.iterator("column",function(t,n){u(t),t.aoColumns[n]._select_selected=!0;var i=new g.Api(t).column(n);e(i.header()).addClass(t._select.className),e(i.footer()).addClass(t._select.className),i.nodes().to$().addClass(t._select.className)}),this.iterator("table",function(e,t){s(n,"select",["column",n[t]],!0)}),this)}),v("cells().select()","cell().select()",function(t){var n=this;return t===!1?this.deselect():(this.iterator("cell",function(t,n,r){u(t);var o=t.aoData[n];o._selected_cells===i&&(o._selected_cells=[]),o._selected_cells[r]=!0,o.anCells&&e(o.anCells[r]).addClass(t._select.className)}),this.iterator("table",function(e,t){s(n,"select",["cell",n[t]],!0);
}),this)}),v("rows().deselect()","row().deselect()",function(){var t=this;return this.iterator("row",function(t,n){t.aoData[n]._select_selected=!1,e(t.aoData[n].nTr).removeClass(t._select.className)}),this.iterator("table",function(e,n){s(t,"deselect",["row",t[n]],!0)}),this}),v("columns().deselect()","column().deselect()",function(){var t=this;return this.iterator("column",function(t,n){t.aoColumns[n]._select_selected=!1;var i=new g.Api(t),r=i.column(n);e(r.header()).removeClass(t._select.className),e(r.footer()).removeClass(t._select.className),i.cells(null,n).indexes().each(function(n){var i=t.aoData[n.row],r=i._selected_cells;!i.anCells||r&&r[n.column]||e(i.anCells[n.column]).removeClass(t._select.className)})}),this.iterator("table",function(e,n){s(t,"deselect",["column",t[n]],!0)}),this}),v("cells().deselect()","cell().deselect()",function(){var t=this;return this.iterator("cell",function(t,n,i){var r=t.aoData[n];r._selected_cells[i]=!1,r.anCells&&!t.aoColumns[i]._select_selected&&e(r.anCells[i]).removeClass(t._select.className)}),this.iterator("table",function(e,n){s(t,"deselect",["cell",t[n]],!0)}),this});var y=0;return e.extend(g.ext.buttons,{selected:{text:f("selected","Selected"),className:"buttons-selected",init:function(e,t,n){var i=this;n._eventNamespace=".select"+y++,e.on(p(n),function(){var e=i.rows({selected:!0}).any()||i.columns({selected:!0}).any()||i.cells({selected:!0}).any();i.enable(e)}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}},selectedSingle:{text:f("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(e,t,n){var i=this;n._eventNamespace=".select"+y++,e.on(p(n),function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;i.enable(1===t)}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}},selectAll:{text:f("selectAll","Select all"),className:"buttons-select-all",action:function(){var e=this.select.items();this[e+"s"]().select()}},selectNone:{text:f("selectNone","Deselect all"),className:"buttons-select-none",action:function(){u(this.settings()[0],!0)},init:function(e,t,n){var i=this;n._eventNamespace=".select"+y++,e.on(p(n),function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;i.enable(t>0)}),this.disable()},destroy:function(e,t,n){e.off(n._eventNamespace)}}}),e.each(["Row","Column","Cell"],function(e,t){var n=t.toLowerCase();g.ext.buttons["select"+t+"s"]={text:f("select"+t+"s","Select "+n+"s"),className:"buttons-select-"+n+"s",action:function(){this.select.items(n)},init:function(e){var t=this;e.on("selectItems.dt.DT",function(e,i,r){t.active(r===n)})}}}),e(n).on("preInit.dt.dtSelect",function(e,t){"dt"===e.namespace&&g.select.init(new g.Api(t))}),g.select}),!function(e){"use strict";"object"==typeof exports?module.exports=e(window.jQuery):"function"==typeof define&&define.amd?define(["jquery"],e):window.jQuery&&!window.jQuery.fn.colorpicker&&e(window.jQuery)}(function(e){"use strict";var t=function(t,n){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,n&&e.extend(this.colors,n),t&&(void 0!==t.toLowerCase?(t+="",this.setColor(t)):void 0!==t.h&&(this.value=t))};t.prototype={constructor:t,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"transparent"},_sanitizeNumber:function(e){return"number"==typeof e?e:isNaN(e)||null===e||""===e||void 0===e?1:""===e?0:void 0!==e.toLowerCase?(e.match(/^\./)&&(e="0"+e),Math.ceil(100*parseFloat(e))/100):1},isTransparent:function(e){return!!e&&(e=e.toLowerCase().trim(),"transparent"===e||e.match(/#?00000000/)||e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(e){return 0===e.r&&0===e.g&&0===e.b&&0===e.a},setColor:function(e){e=e.toLowerCase().trim(),e&&(this.isTransparent(e)?this.value={h:0,s:0,b:0,a:0}:this.value=this.stringToHSB(e)||{h:0,s:0,b:0,a:1})},stringToHSB:function(t){t=t.toLowerCase();var n;"undefined"!=typeof this.colors[t]&&(t=this.colors[t],n="alias");var i=this,r=!1;return e.each(this.stringParsers,function(e,o){var a=o.re.exec(t),s=a&&o.parse.apply(i,[a]),l=n||o.format||"rgba";return!s||(r=l.match(/hsla?/)?i.RGBtoHSB.apply(i,i.HSLtoRGB.apply(i,s)):i.RGBtoHSB.apply(i,s),i.origFormat=l,!1)}),r},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=Math.round(parseInt(100*(1-e),10)/100*100)/100},toRGB:function(e,t,n,i){e||(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var r,o,a,s,l;return e=e%360/60,l=n*t,s=l*(1-Math.abs(e%2-1)),r=o=a=n-l,e=~~e,r+=[l,s,0,0,s,l][e],o+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],{r:Math.round(255*r),g:Math.round(255*o),b:Math.round(255*a),a:i||this.value.a}},toHex:function(e,t,n,i){var r=this.toRGB(e,t,n,i);return this.rgbaIsTransparent(r)?"transparent":"#"+(1<<24|parseInt(r.r)<<16|parseInt(r.g)<<8|parseInt(r.b)).toString(16).substr(1)},toHSL:function(e,t,n,i){e=e||this.value.h,t=t||this.value.s,n=n||this.value.b,i=i||this.value.a;var r=e,o=(2-t)*n,a=t*n;return a/=o>0&&o<=1?o:2-o,o/=2,a>1&&(a=1),{h:isNaN(r)?0:r,s:isNaN(a)?0:a,l:isNaN(o)?0:o,a:isNaN(i)?0:i}},toAlias:function(e,t,n,i){var r=this.toHex(e,t,n,i);for(var o in this.colors)if(this.colors[o]===r)return o;return!1},RGBtoHSB:function(e,t,n,i){e/=255,t/=255,n/=255;var r,o,a,s;return a=Math.max(e,t,n),s=a-Math.min(e,t,n),r=0===s?null:a===e?(t-n)/s:a===t?(n-e)/s+2:(e-t)/s+4,r=(r+360)%6*60/360,o=0===s?0:s/a,{h:this._sanitizeNumber(r),s:o,b:a,a:this._sanitizeNumber(i)}},HueToRGB:function(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e},HSLtoRGB:function(e,t,n,i){t<0&&(t=0);var r;r=n<=.5?n*(1+t):n+t-n*t;var o=2*n-r,a=e+1/3,s=e,l=e-1/3,c=Math.round(255*this.HueToRGB(o,r,a)),d=Math.round(255*this.HueToRGB(o,r,s)),u=Math.round(255*this.HueToRGB(o,r,l));return[c,d,u,this._sanitizeNumber(i)]},toString:function(e){e=e||"rgba";var t=!1;switch(e){case"rgb":return t=this.toRGB(),this.rgbaIsTransparent(t)?"transparent":"rgb("+t.r+","+t.g+","+t.b+")";case"rgba":return t=this.toRGB(),"rgba("+t.r+","+t.g+","+t.b+","+t.a+")";case"hsl":return t=this.toHSL(),"hsl("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%)";case"hsla":return t=this.toHSL(),"hsla("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%,"+t.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return t}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}}],colorNameToHex:function(e){return"undefined"!=typeof this.colors[e.toLowerCase()]&&this.colors[e.toLowerCase()]}};var n={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},i=function(i,r){if(this.element=e(i).addClass("colorpicker-element"),this.options=e.extend(!0,{},n,this.element.data(),r),this.component=this.options.component,this.component=this.component!==!1&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=this.options.container===!0?this.element:this.options.container,this.container=this.container!==!1&&e(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=new t(this.options.color!==!1?this.options.color:this.getValue(),this.options.colorSelectors),this.format=this.options.format!==!1?this.options.format:this.color.origFormat,this.options.color!==!1&&(this.updateInput(this.color),this.updateData(this.color)),this.picker=e(this.options.template),this.options.customClass&&this.picker.addClass(this.options.customClass),this.options.inline?this.picker.addClass("colorpicker-inline colorpicker-visible"):this.picker.addClass("colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),"rgba"!==this.format&&"hsla"!==this.format&&this.options.format!==!1||this.picker.addClass("colorpicker-with-alpha"),"right"===this.options.align&&this.picker.addClass("colorpicker-right"),this.options.inline===!0&&this.picker.addClass("colorpicker-no-arrow"),this.options.colorSelectors){var o=this;e.each(this.options.colorSelectors,function(t,n){var i=e("<i />").css("background-color",n).data("class",t);i.click(function(){o.setValue(e(this).css("background-color"))}),o.picker.find(".colorpicker-selectors").append(i)}),this.picker.find(".colorpicker-selectors").show()}this.picker.on("mousedown.colorpicker touchstart.colorpicker",e.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:e("body")),this.input!==!1&&(this.input.on({"keyup.colorpicker":e.proxy(this.keyup,this)}),this.input.on({"change.colorpicker":e.proxy(this.change,this)}),this.component===!1&&this.element.on({"focus.colorpicker":e.proxy(this.show,this)}),this.options.inline===!1&&this.element.on({"focusout.colorpicker":e.proxy(this.hide,this)})),this.component!==!1&&this.component.on({"click.colorpicker":e.proxy(this.show,this)}),this.input===!1&&this.component===!1&&this.element.on({"click.colorpicker":e.proxy(this.show,this)}),this.input!==!1&&this.component!==!1&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":e.proxy(this.show,this),"focus.colorpicker":e.proxy(this.show,this)}),this.update(),e(e.proxy(function(){this.element.trigger("create")},this))};i.Color=t,i.prototype={constructor:i,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),this.input!==!1&&this.input.off(".colorpicker"),this.component!==!1&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(this.options.inline!==!1||this.options.container)return!1;var e=this.container&&this.container[0]!==document.body?"position":"offset",t=this.component||this.element,n=t[e]();"right"===this.options.align&&(n.left-=this.picker.outerWidth()-t.outerWidth()),this.picker.css({top:n.top+t.outerHeight(),left:n.left})},show:function(t){return!this.isDisabled()&&(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),e(window).on("resize.colorpicker",e.proxy(this.reposition,this)),!t||this.hasInput()&&"color"!==this.input.attr("type")||t.stopPropagation&&t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!this.component&&this.input||this.options.inline!==!1||e(window.document).on({"mousedown.colorpicker":e.proxy(this.hide,this)}),void this.element.trigger({type:"showPicker",color:this.color}))},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),e(window).off("resize.colorpicker",this.reposition),e(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(e){return e=e||this.color.toString(this.format),this.element.data("color",e),e},updateInput:function(e){if(e=e||this.color.toString(this.format),this.input!==!1){if(this.options.colorSelectors){var n=new t(e,this.options.colorSelectors),i=n.toAlias();"undefined"!=typeof this.options.colorSelectors[i]&&(e=i)}this.input.prop("value",e)}return e},updatePicker:function(e){void 0!==e&&(this.color=new t(e,this.options.colorSelectors));var n=this.options.horizontal===!1?this.options.sliders:this.options.slidersHorz,i=this.picker.find("i");if(0!==i.length)return this.options.horizontal===!1?(n=this.options.sliders,i.eq(1).css("top",n.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",n.alpha.maxTop*(1-this.color.value.a))):(n=this.options.slidersHorz,i.eq(1).css("left",n.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",n.alpha.maxLeft*(1-this.color.value.a))),i.eq(0).css({top:n.saturation.maxTop-this.color.value.b*n.saturation.maxTop,left:this.color.value.s*n.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),e},updateComponent:function(e){if(e=e||this.color.toString(this.format),this.component!==!1){var t=this.component.find("i").eq(0);t.length>0?t.css({backgroundColor:e}):this.component.css({backgroundColor:e})}return e},update:function(e){var t;return this.getValue(!1)===!1&&e!==!0||(t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker()),t},setValue:function(e){this.color=new t(e,this.options.colorSelectors),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:e})},getValue:function(e){e=void 0===e?"#000000":e;var t;return t=this.hasInput()?this.input.val():this.element.data("color"),void 0!==t&&""!==t&&null!==t||(t=e),t},hasInput:function(){return this.input!==!1},isDisabled:function(){return!!this.hasInput()&&this.input.prop("disabled")===!0},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(t){!t.pageX&&!t.pageY&&t.originalEvent&&t.originalEvent.touches&&(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var n=e(t.target),i=n.closest("div"),r=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!i.is(".colorpicker")){if(i.is(".colorpicker-saturation"))this.currentSlider=e.extend({},r.saturation);else if(i.is(".colorpicker-hue"))this.currentSlider=e.extend({},r.hue);else{if(!i.is(".colorpicker-alpha"))return!1;this.currentSlider=e.extend({},r.alpha)}var o=i.offset();this.currentSlider.guide=i.find("i")[0].style,this.currentSlider.left=t.pageX-o.left,this.currentSlider.top=t.pageY-o.top,this.mousePointer={left:t.pageX,top:t.pageY},e(document).on({"mousemove.colorpicker":e.proxy(this.mousemove,this),"touchmove.colorpicker":e.proxy(this.mousemove,this),"mouseup.colorpicker":e.proxy(this.mouseup,this),"touchend.colorpicker":e.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),n=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=n+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,n/this.currentSlider.maxTop),"setAlpha"===this.currentSlider.callTop&&this.options.format===!1&&(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),e(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(e){this.keyup(e)},keyup:function(e){38===e.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===e.keyCode?(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(this.color=new t(this.input.val(),this.options.colorSelectors),this.color.origFormat&&this.options.format===!1&&(this.format=this.color.origFormat),this.getValue(!1)!==!1&&(this.updateData(),this.updateComponent(),this.updatePicker())),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},e.colorpicker=i,e.fn.colorpicker=function(t){var n=Array.prototype.slice.call(arguments,1),r=1===this.length,o=null,a=this.each(function(){var r=e(this),a=r.data("colorpicker"),s="object"==typeof t?t:{};a||(a=new i(this,s),r.data("colorpicker",a)),"string"==typeof t?e.isFunction(a[t])?o=a[t].apply(a,n):(n.length&&(a[t]=n[0]),o=a[t]):o=r});return r?o:a},e.fn.colorpicker.constructor=i}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){"use strict";if(!e.jstree){var n,i,r=0,o=!1,a=!1,s=!1,l=[],c=e("script:last").attr("src"),d=window.document,u=d.createElement("LI");u.setAttribute("role","treeitem"),n=d.createElement("I"),n.className="jstree-icon jstree-ocl",n.setAttribute("role","presentation"),u.appendChild(n),n=d.createElement("A"),n.className="jstree-anchor",n.setAttribute("href","#"),n.setAttribute("tabindex","-1"),i=d.createElement("I"),i.className="jstree-icon jstree-themeicon",i.setAttribute("role","presentation"),n.appendChild(i),u.appendChild(n),n=i=null,e.jstree={version:"3.1.1",defaults:{plugins:[]},plugins:{},path:c&&-1!==c.indexOf("/")?c.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g},e.jstree.create=function(t,n){var i=new e.jstree.core((++r)),o=n;return n=e.extend(!0,{},e.jstree.defaults,n),o&&o.plugins&&(n.plugins=o.plugins),e.each(n.plugins,function(e,t){"core"!==e&&(i=i.plugin(t,n[t]))}),e(t).data("jstree",i),i.init(t,n),i},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(d).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,i=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!i||!i.length)try{i=e(t)}catch(r){}if(!i||!i.length)try{i=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(r){}return i&&i.length&&(i=i.closest(".jstree")).length&&(i=i.data("jstree"))?n=i:e(".jstree").each(function(){var i=e(this).data("jstree");return i&&i._model.data[t]?(n=i,!1):void 0}),n},e.fn.jstree=function(n){var i="string"==typeof n,r=Array.prototype.slice.call(arguments,1),o=null;return!(n===!0&&!this.length)&&(this.each(function(){var a=e.jstree.reference(this),s=i&&a?a[n]:null;return o=i&&s?s.apply(a,r):null,a||i||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(a&&!i||n===!0)&&(o=a||!1),(null===o||o===t)&&void 0}),null!==o&&o!==t?o:this)},e.expr[":"].jstree=e.expr.createPseudo(function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},e.jstree.core.prototype={plugin:function(t,n){var i=e.jstree.plugins[t];return i?(this._data[t]={},i.prototype=this,new i(n,this)):this},init:function(t,n){this._model={data:{"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this.trigger("loading"),this.load_node("#")},destroy:function(e){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(t){}e||this.element.empty(),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",n=null,i=0;this.element.on("dblclick.jstree",function(){if(d.selection&&d.selection.empty)d.selection.empty();else if(window.getSelection){var e=window.getSelection();try{e.removeAllRanges(),e.collapse()}catch(t){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),i=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){this.settings.core.dblclick_toggle&&this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==d.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(t){if("INPUT"===t.target.tagName)return!0;if(32!==t.which&&13!==t.which&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey))return!0;var n=null;switch(this._data.core.rtl&&(37===t.which?t.which=39:39===t.which&&(t.which=37)),t.which){case 32:t.ctrlKey&&(t.type="click",e(t.currentTarget).trigger(t));break;case 13:t.type="click",e(t.currentTarget).trigger(t);break;case 37:t.preventDefault(),this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(n=this.get_parent(t.currentTarget),n&&"#"!==n.id&&this.get_node(n,!0).children(".jstree-anchor").focus());break;case 38:t.preventDefault(),n=this.get_prev_dom(t.currentTarget),n&&n.length&&n.children(".jstree-anchor").focus();break;case 39:t.preventDefault(),this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):this.is_open(t.currentTarget)&&(n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0],n&&e(this._firstChild(n)).children(".jstree-anchor").focus());break;case 40:t.preventDefault(),n=this.get_next_dom(t.currentTarget),n&&n.length&&n.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:t.preventDefault(),n=this._firstChild(this.get_container_ul()[0]),n&&e(n).children(".jstree-anchor").filter(":visible").focus();break;case 35:t.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()}},this)).on("load_node.jstree",e.proxy(function(t,n){n.status&&("#"!==n.node.id||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,i=[];for(t=0,n=this._data.core.selected.length;n>t;t++)i=i.concat(this._model.data[this._data.core.selected[t]].parents);for(i=e.vakata.array_unique(i),t=0,n=i.length;n>t;t++)this.open_node(i[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(i){if("INPUT"===i.target.tagName)return!0;n&&clearTimeout(n),n=setTimeout(function(){t=""},500);var r=String.fromCharCode(i.which).toLowerCase(),o=this.element.find(".jstree-anchor").filter(":visible"),a=o.index(d.activeElement)||0,s=!1;if(t+=r,t.length>1){if(o.slice(a).each(e.proxy(function(n,i){return 0===e(i).text().toLowerCase().indexOf(t)?(e(i).focus(),s=!0,!1):void 0},this)),s)return;if(o.slice(0,a).each(e.proxy(function(n,i){return 0===e(i).text().toLowerCase().indexOf(t)?(e(i).focus(),s=!0,!1):void 0},this)),s)return}if(new RegExp("^"+r+"+$").test(t)){if(o.slice(a+1).each(e.proxy(function(t,n){return e(n).text().toLowerCase().charAt(0)===r?(e(n).focus(),s=!0,!1):void 0},this)),s)return;if(o.slice(0,a+1).each(e.proxy(function(t,n){return e(n).text().toLowerCase().charAt(0)===r?(e(n).focus(),s=!0,!1):void 0},this)),s)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-i>500&&!this._data.core.focused){i=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(d).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;
return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){t&&t.id&&(t=t.id);var i;try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(i=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else if((i=e(t,this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else{if(!(i=e(t,this.element)).length||!i.hasClass("jstree"))return!1;t=this._model.data["#"]}return n&&(t="#"===t.id?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(r){return!1}},get_path:function(e,t,n){if(e=e.parents?e:this.get_node(e),!e||"#"===e.id||!e.parents)return!1;var i,r,o=[];for(o.push(n?e.id:e.text),i=0,r=e.parents.length;r>i;i++)o.push(n?e.parents[i]:this.get_text(e.parents[i]));return o=o.reverse().slice(1),t?o.join(t):o},get_next_dom:function(t,n){var i;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(i=this._firstChild(this.get_container_ul()[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);return!!i&&e(i)}if(!t||!t.length)return!1;if(n){i=t[0];do i=this._nextSibling(i);while(i&&0===i.offsetHeight);return!!i&&e(i)}if(t.hasClass("jstree-open")){for(i=this._firstChild(t.children(".jstree-children")[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);if(null!==i)return e(i)}i=t[0];do i=this._nextSibling(i);while(i&&0===i.offsetHeight);return null!==i?e(i):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var i;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(i=this.get_container_ul()[0].lastChild;i&&0===i.offsetHeight;)i=this._previousSibling(i);return!!i&&e(i)}if(!t||!t.length)return!1;if(n){i=t[0];do i=this._previousSibling(i);while(i&&0===i.offsetHeight);return!!i&&e(i)}i=t[0];do i=this._previousSibling(i);while(i&&0===i.offsetHeight);if(null!==i){for(t=e(i);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return i=t[0].parentNode.parentNode,!(!i||!i.className||-1===i.className.indexOf("jstree-node"))&&e(i)},get_parent:function(e){return e=this.get_node(e),!(!e||"#"===e.id)&&e.parent},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return e=this.get_node(e),e&&(e.state.loaded===!1||e.children.length>0)},is_loaded:function(e){return e=this.get_node(e),e&&e.state.loaded},is_loading:function(e){return e=this.get_node(e),e&&e.state&&e.state.loading},is_open:function(e){return e=this.get_node(e),e&&e.state.opened},is_closed:function(e){return e=this.get_node(e),e&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var i,r,o,a,s;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(t=this.get_node(t),!t)return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,i=0,r=t.children_d.length;r>i;i++){for(o=0,a=t.parents.length;a>o;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_remove_item(this._model.data[t.parents[o]].children_d,t.children_d[i]);this._model.data[t.children_d[i]].state.selected&&(s=!0,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.children_d[i])),delete this._model.data[t.children_d[i]]}t.children=[],t.children_d=[],s&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){t=this._model.data[t.id],t.state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var i=this.get_node(t,!0);t.state.loaded&&!t.children.length&&i&&i.length&&!i.hasClass("jstree-leaf")&&i.removeClass("jstree-closed jstree-open").addClass("jstree-leaf"),i.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)},this)),!0},_load_nodes:function(e,t,n){var i,r,o=!0,a=function(){this._load_nodes(e,t,!0)},s=this._model.data,l=[];for(i=0,r=e.length;r>i;i++)!s[e[i]]||(s[e[i]].state.loaded||s[e[i]].state.failed)&&n||(this.is_loading(e[i])||this.load_node(e[i],a),o=!1);if(o){for(i=0,r=e.length;r>i;i++)s[e[i]]&&s[e[i]].state.loaded&&l.push(e[i]);t&&!t.done&&(t.call(this,l),t.done=!0)}},load_all:function(e,t){if(e||(e="#"),e=this.get_node(e),!e)return!1;var n,i,r=[],o=this._model.data,a=o[e.id].children_d;for(e.state&&!e.state.loaded&&r.push(e.id),n=0,i=a.length;i>n;n++)o[a[n]]&&o[a[n]].state&&!o[a[n]].state.loaded&&r.push(a[n]);r.length?this._load_nodes(r,function(){this.load_all(e,t)}):(t&&t.call(this,e),this.trigger("load_all",{node:e}))},_load_node:function(t,n){var i,r=this.settings.core.data;return r?e.isFunction(r)?r.call(this,t,e.proxy(function(i){i===!1&&n.call(this,!1),this["string"==typeof i?"_append_html_data":"_append_json_data"](t,"string"==typeof i?e(e.parseHTML(i)).filter(function(){return 3!==this.nodeType}):i,function(e){n.call(this,e)})},this)):"object"==typeof r?r.url?(r=e.extend(!0,{},r),e.isFunction(r.url)&&(r.url=r.url.call(this,t)),e.isFunction(r.data)&&(r.data=r.data.call(this,t)),e.ajax(r).done(e.proxy(function(i,r,o){var a=o.getResponseHeader("Content-Type");return a&&-1!==a.indexOf("json")||"object"==typeof i?this._append_json_data(t,i,function(e){n.call(this,e)}):a&&-1!==a.indexOf("html")||"string"==typeof i?this._append_html_data(t,e(e.parseHTML(i)).filter(function(){return 3!==this.nodeType}),function(e){n.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:o})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))},this)).fail(e.proxy(function(e){n.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(i=e.isArray(r)||e.isPlainObject(r)?JSON.parse(JSON.stringify(r)):r,"#"===t.id?this._append_json_data(t,i,function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof r?"#"===t.id?this._append_html_data(t,e(e.parseHTML(r)).filter(function(){return 3!==this.nodeType}),function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):"#"===t.id?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){n.call(this,e)}):n.call(this,!1)},_node_changed:function(e){e=this.get_node(e),e&&this._model.changed.push(e.id)},_append_html_data:function(t,n,i){t=this.get_node(t),t.children=[],t.children_d=[];var r,o,a,s=n.is("ul")?n.children():n,l=t.id,c=[],d=[],u=this._model.data,h=u[l],f=this._data.core.selected.length;for(s.each(e.proxy(function(t,n){r=this._parse_model_from_html(e(n),l,h.parents.concat()),r&&(c.push(r),d.push(r),u[r].children_d.length&&(d=d.concat(u[r].children_d)))},this)),h.children=c,h.children_d=d,o=0,a=h.parents.length;a>o;o++)u[h.parents[o]].children_d=u[h.parents[o]].children_d.concat(d);this.trigger("model",{nodes:d,parent:l}),"#"!==l?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)},_append_json_data:function(t,n,i,r){if(null!==this.element){t=this.get_node(t),t.children=[],t.children_d=[],n.d&&(n=n.d,"string"==typeof n&&(n=JSON.parse(n))),e.isArray(n)||(n=[n]);var o=null,a={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},s=function(e,t){e.data&&(e=e.data);var n,i,r,o,a=e.dat,s=e.par,l=[],c=[],d=[],u=e.df,h=e.t_id,f=e.t_cnt,p=e.m,g=p[s],m=e.sel,v=function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in u)u.hasOwnProperty(r)&&(c.state[r]=u[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),(c.icon===t||null===c.icon||""===c.icon)&&(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(c.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(c.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(c.li_attr[r]=e.li_attr[r]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(c.a_attr[r]=e.a_attr[r]);for(e&&e.children&&e.children===!0&&(c.state.loaded=!1,c.children=[],c.children_d=[]),p[c.id]=c,r=0,o=c.children.length;o>r;r++)a=v(p[c.children[r]],c.id,i),s=p[a],c.children_d.push(a),s.children_d.length&&(c.children_d=c.children_d.concat(s.children_d));return delete e.data,delete e.children,p[c.id].original=e,c.state.selected&&d.push(c.id),c.id},y=function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l,c=!1;do c="j"+h+"_"+ ++f;while(p[c]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in u)u.hasOwnProperty(r)&&(l.state[r]=u[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,o=e.children.length;o>r;r++)a=y(e.children[r],l.id,i),s=p[a],l.children.push(a),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,p[l.id]=l,l.state.selected&&d.push(l.id),l.id};if(a.length&&a[0].id!==t&&a[0].parent!==t){for(i=0,r=a.length;r>i;i++)a[i].children||(a[i].children=[]),p[a[i].id.toString()]=a[i];for(i=0,r=a.length;r>i;i++)p[a[i].parent.toString()].children.push(a[i].id.toString()),g.children_d.push(a[i].id.toString());for(i=0,r=g.children.length;r>i;i++)n=v(p[g.children[i]],s,g.parents.concat()),c.push(n),p[n].children_d.length&&(c=c.concat(p[n].children_d));for(i=0,r=g.parents.length;r>i;i++)p[g.parents[i]].children_d=p[g.parents[i]].children_d.concat(c);o={cnt:f,mod:p,sel:m,par:s,dpc:c,add:d}}else{for(i=0,r=a.length;r>i;i++)n=y(a[i],s,g.parents.concat()),n&&(l.push(n),c.push(n),p[n].children_d.length&&(c=c.concat(p[n].children_d)));for(g.children=l,g.children_d=c,i=0,r=g.parents.length;r>i;i++)p[g.parents[i]].children_d=p[g.parents[i]].children_d.concat(c);o={cnt:f,mod:p,sel:m,par:s,dpc:c,add:d}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?o:void postMessage(o)},l=function(t,n){if(null!==this.element){if(this._cnt=t.cnt,this._model.data=t.mod,n){var r,o,a=t.add,s=t.sel,l=this._data.core.selected.slice(),c=this._model.data;if(s.length!==l.length||e.vakata.array_unique(s.concat(l)).length!==s.length){for(r=0,o=s.length;o>r;r++)-1===e.inArray(s[r],a)&&-1===e.inArray(s[r],l)&&(c[s[r]].state.selected=!1);for(r=0,o=l.length;o>r;r++)-1===e.inArray(l[r],s)&&(c[l[r]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),"#"!==t.par?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"}))),!this._data.core.working||r?(this._data.core.working=!0,o=new window.Worker(this._wrk),o.onmessage=e.proxy(function(e){l.call(this,e.data,!0);try{o.terminate(),o=null}catch(t){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),a.par?o.postMessage(a):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,i,!0])}catch(c){l.call(this,s(a),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else l.call(this,s(a),!1)}},_parse_model_from_html:function(n,i,r){r=r?[].concat(r):[],i&&r.unshift(i);var o,a,s,l,c,d=this._model.data,u={id:!1,text:!1,icon:!0,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(u.state[s]=this._model.default_state[s]);if(l=e.vakata.attributes(n,!0),e.each(l,function(t,n){return n=e.trim(n),!n.length||(u.li_attr[t]=n,void("id"===t&&(u.id=n.toString())))}),l=n.children("a").first(),l.length&&(l=e.vakata.attributes(l,!0),e.each(l,function(t,n){n=e.trim(n),n.length&&(u.a_attr[t]=n)})),l=n.children("a").first().length?n.children("a").first().clone():n.clone(),l.children("ins, i, ul").remove(),l=l.html(),l=e("<div />").html(l),u.text=this.settings.core.force_text?l.text():l.html(),l=n.data(),u.data=l?e.extend(!0,{},l):null,u.state.opened=n.hasClass("jstree-open"),u.state.selected=n.children("a").hasClass("jstree-clicked"),u.state.disabled=n.children("a").hasClass("jstree-disabled"),u.data&&u.data.jstree)for(s in u.data.jstree)u.data.jstree.hasOwnProperty(s)&&(u.state[s]=u.data.jstree[s]);l=n.children("a").children(".jstree-themeicon"),l.length&&(u.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),u.state.icon!==t&&(u.icon=u.state.icon),(u.icon===t||null===u.icon||""===u.icon)&&(u.icon=!0),l=n.children("ul").children("li");do c="j"+this._id+"_"+ ++this._cnt;while(d[c]);return u.id=u.li_attr.id?u.li_attr.id.toString():c,l.length?(l.each(e.proxy(function(t,n){o=this._parse_model_from_html(e(n),u.id,r),a=this._model.data[o],u.children.push(o),a.children_d.length&&(u.children_d=u.children_d.concat(a.children_d))},this)),u.children_d=u.children_d.concat(u.children)):n.hasClass("jstree-closed")&&(u.state.loaded=!1),u.li_attr["class"]&&(u.li_attr["class"]=u.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),u.a_attr["class"]&&(u.a_attr["class"]=u.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),d[u.id]=u,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_flat_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l=e.id.toString(),c=this._model.data,d=this._model.default_state,u={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in d)d.hasOwnProperty(r)&&(u.state[r]=d[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(u.icon=e.data.jstree.icon),(u.icon===t||null===u.icon||""===u.icon)&&(u.icon=!0),e&&e.data&&(u.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(u.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(u.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(u.li_attr[r]=e.li_attr[r]);if(u.li_attr.id||(u.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(u.a_attr[r]=e.a_attr[r]);for(e&&e.children&&e.children===!0&&(u.state.loaded=!1,u.children=[],u.children_d=[]),c[u.id]=u,r=0,o=u.children.length;o>r;r++)a=this._parse_model_from_flat_json(c[u.children[r]],u.id,i),s=c[a],u.children_d.push(a),s.children_d.length&&(u.children_d=u.children_d.concat(s.children_d));return delete e.data,delete e.children,c[u.id].original=e,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l,c=!1,d=this._model.data,u=this._model.default_state;do c="j"+this._id+"_"+ ++this._cnt;while(d[c]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in u)u.hasOwnProperty(r)&&(l.state[r]=u[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,o=e.children.length;o>r;r++)a=this._parse_model_from_json(e.children[r],l.id,i),s=d[a],l.children.push(a),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,d[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var e,t,n,i=this._model.force_full_redraw?this._model.data["#"].children.concat([]):this._model.changed.concat([]),r=d.createElement("UL"),o=this._data.core.focused;for(t=0,n=i.length;n>t;t++)e=this.redraw_node(i[t],!0,this._model.force_full_redraw),e&&this._model.force_full_redraw&&r.appendChild(e);this._model.force_full_redraw&&(r.className=this.get_container_ul()[0].className,r.setAttribute("role","group"),this.element.empty().append(r)),null!==o&&(e=this.get_node(o,!0),e&&e.length&&e.children(".jstree-anchor")[0]!==d.activeElement?e.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:i})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(e){var t=this.get_node(e),n=!1,i=!1,r=!1,o=d;if(!t)return!1;if("#"===t.id)return this.redraw(!0);if(e=this.get_node(e,!0),!e||!e.length)return!1;if(e.children(".jstree-children").remove(),e=e[0],t.children.length&&t.state.loaded){for(r=o.createElement("UL"),r.setAttribute("role","group"),r.className="jstree-children",n=0,i=t.children.length;i>n;n++)r.appendChild(this.redraw_node(t.children[n],!0,!0));e.appendChild(r)}},redraw_node:function(t,n,i,r){var o=this.get_node(t),a=!1,s=!1,l=!1,c=!1,h=!1,f=!1,p="",g=d,m=this._model.data,v=!1,y=null,b=0,_=0;if(!o)return!1;if("#"===o.id)return this.redraw(!0);if(n=n||0===o.children.length,t=d.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(o.id[0])?"\\3"+o.id[0]+" "+o.id.substr(1).replace(e.jstree.idregex,"\\$&"):o.id.replace(e.jstree.idregex,"\\$&"))):d.getElementById(o.id))t=e(t),i||(a=t.parent().parent()[0],a===this.element[0]&&(a=null),s=t.index()),n||!o.children.length||t.children(".jstree-children").length||(n=!0),n||(l=t.children(".jstree-children")[0]),v=t.children(".jstree-anchor")[0]===d.activeElement,t.remove();else if(n=!0,!i){if(a="#"!==o.parent?e("#"+o.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===a||a&&m[o.parent].state.opened))return!1;s=e.inArray(o.id,null===a?m["#"].children:m[o.parent].children)}t=u.cloneNode(!0),p="jstree-node ";for(c in o.li_attr)if(o.li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"!==c?t.setAttribute(c,o.li_attr[c]):p+=o.li_attr[c]}o.a_attr.id||(o.a_attr.id=o.id+"_anchor"),t.setAttribute("aria-selected",!!o.state.selected),t.setAttribute("aria-level",o.parents.length),t.setAttribute("aria-labelledby",o.a_attr.id),o.state.disabled&&t.setAttribute("aria-disabled",!0),o.state.loaded&&!o.children.length?p+=" jstree-leaf":(p+=o.state.opened&&o.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",o.state.opened&&o.state.loaded)),null!==o.parent&&m[o.parent].children[m[o.parent].children.length-1]===o.id&&(p+=" jstree-last"),t.id=o.id,t.className=p,p=(o.state.selected?" jstree-clicked":"")+(o.state.disabled?" jstree-disabled":"");for(h in o.a_attr)if(o.a_attr.hasOwnProperty(h)){if("href"===h&&"#"===o.a_attr[h])continue;"class"!==h?t.childNodes[1].setAttribute(h,o.a_attr[h]):p+=" "+o.a_attr[h]}if(p.length&&(t.childNodes[1].className="jstree-anchor "+p),(o.icon&&o.icon!==!0||o.icon===!1)&&(o.icon===!1?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===o.icon.indexOf("/")&&-1===o.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+o.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage="url("+o.icon+")",t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(g.createTextNode(o.text)):t.childNodes[1].innerHTML+=o.text,n&&o.children.length&&(o.state.opened||r)&&o.state.loaded){for(f=g.createElement("UL"),f.setAttribute("role","group"),f.className="jstree-children",c=0,h=o.children.length;h>c;c++)f.appendChild(this.redraw_node(o.children[c],n,!0));t.appendChild(f)}if(l&&t.appendChild(l),!i){for(a||(a=this.element[0]),c=0,h=a.childNodes.length;h>c;c++)if(a.childNodes[c]&&a.childNodes[c].className&&-1!==a.childNodes[c].className.indexOf("jstree-children")){y=a.childNodes[c];break}y||(y=g.createElement("UL"),y.setAttribute("role","group"),y.className="jstree-children",a.appendChild(y)),a=y,s<a.childNodes.length?a.insertBefore(t,a.childNodes[s]):a.appendChild(t),v&&(b=this.element[0].scrollTop,_=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=b,this.element[0].scrollLeft=_)}return o.state.opened&&!o.state.loaded&&(o.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(o.id,!1,0)},this),0)),t},open_node:function(n,i,r){var o,a,s,l;if(e.isArray(n)){for(n=n.slice(),o=0,a=n.length;a>o;o++)this.open_node(n[o],i,r);return!0}if(n=this.get_node(n),!n||"#"===n.id)return!1;if(r=r===t?this.settings.core.animation:r,!this.is_closed(n))return i&&i.call(this,n,!1),!1;if(this.is_loaded(n))s=this.get_node(n,!0),l=this,s.length&&(r&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(n),r?(this.trigger("before_open",{node:n}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",l.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,i&&i.call(this,n,!0),s.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),r&&s.length||this.trigger("after_open",{node:n});else{if(this.is_loading(n))return setTimeout(e.proxy(function(){this.open_node(n,i,r)},this),500);this.load_node(n,function(e,t){return t?this.open_node(e,i,r):!!i&&i.call(this,e,!1)})}},_open_to:function(t){if(t=this.get_node(t),!t||"#"===t.id)return!1;var n,i,r=t.parents;for(n=0,i=r.length;i>n;n+=1)"#"!==n&&this.open_node(r[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,i){var r,o,a,s;if(e.isArray(n)){for(n=n.slice(),r=0,o=n.length;o>r;r++)this.close_node(n[r],i);return!0}return n=this.get_node(n),!(!n||"#"===n.id)&&(!this.is_closed(n)&&(i=i===t?this.settings.core.animation:i,a=this,s=this.get_node(n,!0),s.length&&(i?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(i,function(){this.style.display="",s.children(".jstree-children").remove(),a.trigger("after_close",{node:n})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.attr("aria-expanded",!1).children(".jstree-children").remove())),n.state.opened=!1,this.trigger("close_node",{node:n}),void(i&&s.length||this.trigger("after_close",{node:n}))))},toggle_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(e,t,n){if(e||(e="#"),e=this.get_node(e),!e)return!1;var i,r,o,a="#"===e.id?this.get_container_ul():this.get_node(e,!0);if(!a.length){for(i=0,r=e.children_d.length;r>i;i++)this.is_closed(this._model.data[e.children_d[i]])&&(this._model.data[e.children_d[i]].state.opened=!0);return this.trigger("open_all",{node:e})}n=n||a,o=this,a=this.is_closed(e)?a.find(".jstree-closed").addBack():a.find(".jstree-closed"),a.each(function(){o.open_node(this,function(e,i){i&&this.is_parent(e)&&this.open_all(e,t,n)},t||0)}),0===n.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(n)})},close_all:function(t,n){if(t||(t="#"),t=this.get_node(t),!t)return!1;var i,r,o="#"===t.id?this.get_container_ul():this.get_node(t,!0),a=this;if(!o.length){for(i=0,r=t.children_d.length;r>i;i++)this._model.data[t.children_d[i]].state.opened=!1;return this.trigger("close_all",{node:t})}o=this.is_open(t)?o.find(".jstree-open").addBack():o.find(".jstree-open"),e(o.get().reverse()).each(function(){a.close_node(this,n||0)}),this.trigger("close_all",{node:t})},is_disabled:function(e){return e=this.get_node(e),e&&e.state&&e.state.disabled},enable_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.enable_node(t[n]);return!0}return t=this.get_node(t),!(!t||"#"===t.id)&&(t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:t}))},disable_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.disable_node(t[n]);return!0}return t=this.get_node(t),!(!t||"#"===t.id)&&(t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:t}))},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var i,r,o=this.get_node(e).id,a=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(i=0,r=s.length;r>i;i+=1)s[i]===o&&(l=!l),s[i]===a&&(l=!l),this.is_disabled(s[i])||!l&&s[i]!==o&&s[i]!==a?this.deselect_node(s[i],!0,n):this.select_node(s[i],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e)})},hover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){return e=this.get_node(e,!0),!!(e&&e.length&&e.children(".jstree-hovered").length)&&(e.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(e)}))},select_node:function(t,n,i,r){var o,a,s;if(e.isArray(t)){for(t=t.slice(),a=0,s=t.length;s>a;a++)this.select_node(t[a],n,i,r);return!0}return t=this.get_node(t),!(!t||"#"===t.id)&&(o=this.get_node(t,!0),void(t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),i||(o=this._open_to(t)),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:r}))))},deselect_node:function(t,n,i){var r,o,a;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;o>r;r++)this.deselect_node(t[r],n,i);return!0}return t=this.get_node(t),!(!t||"#"===t.id)&&(a=this.get_node(t,!0),void(t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:i}))))},select_all:function(e){var t,n,i=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data["#"].children_d.concat(),t=0,n=this._data.core.selected.length;n>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:i})},deselect_all:function(e){var t,n,i=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;n>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);
this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:i}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(e){return e=this.get_node(e),!(!e||"#"===e.id)&&e.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,i,r,o,a=this.get_selected(!0),s={};for(n=0,i=a.length;i>n;n++)s[a[n].id]=a[n];for(n=0,i=a.length;i>n;n++)for(r=0,o=a[n].children_d.length;o>r;r++)s[a[n].children_d[r]]&&delete s[a[n].children_d[r]];a=[];for(n in s)s.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_bottom_selected:function(t){var n,i,r=this.get_selected(!0),o=[];for(n=0,i=r.length;i>n;n++)r[n].children.length||o.push(r[n].id);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},get_state:function(){var e,t={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(e in this._model.data)this._model.data.hasOwnProperty(e)&&"#"!==e&&(this._model.data[e].state.opened&&t.core.open.push(e),this._model.data[e].state.selected&&t.core.selected.push(e));return t},set_state:function(n,i){if(n){if(n.core){var r,o;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,i)},!0):(delete n.core.open,this.set_state(n,i)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,i),!1;if(n.core.selected)return r=this,this.deselect_all(),e.each(n.core.selected,function(e,t){r.select_node(t,!1,!0)}),delete n.core.selected,this.set_state(n,i),!1;for(o in n)n.hasOwnProperty(o)&&"core"!==o&&-1===e.inArray(o,this.settings.plugins)&&delete n[o];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,i),!1}return!e.isEmptyObject(n)||(n=null,i&&i.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=n===!0?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}};var i=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+i+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node("#",function(t,n){n&&(this.get_container_ul()[0].className=i,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(t=this.get_node(t),!t||"#"===t.id)return!1;var n=[],i=[];this._data.core.selected.concat([]);i.push(t.id),t.state.opened===!0&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){n.push(this.id)}),this._load_nodes(i,e.proxy(function(e){this.open_node(n,!1,0),this.select_node(this._data.core.selected),this.trigger("refresh_node",{node:t,nodes:e})},this))},set_id:function(t,n){if(t=this.get_node(t),!t||"#"===t.id)return!1;var i,r,o=this._model.data;for(n=n.toString(),o[t.parent].children[e.inArray(t.id,o[t.parent].children)]=n,i=0,r=t.parents.length;r>i;i++)o[t.parents[i]].children_d[e.inArray(t.id,o[t.parents[i]].children_d)]=n;for(i=0,r=t.children.length;r>i;i++)o[t.children[i]].parent=n;for(i=0,r=t.children_d.length;r>i;i++)o[t.children_d[i]].parents[e.inArray(t.id,o[t.children_d[i]].parents)]=n;return i=e.inArray(t.id,this._data.core.selected),-1!==i&&(this._data.core.selected[i]=n),i=this.get_node(t.id,!0),i&&(i.attr("id",n).children(".jstree-anchor").attr("id",n+"_anchor").end().attr("aria-labelledby",n+"_anchor"),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete o[t.id],t.id=n,t.li_attr.id=n,o[n]=t,!0},get_text:function(e){return e=this.get_node(e),!(!e||"#"===e.id)&&e.text},set_text:function(t,n){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.set_text(t[i],n);return!0}return t=this.get_node(t),!(!t||"#"===t.id)&&(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),!0)},get_json:function(t,n,i){if(t=this.get_node(t||"#"),!t)return!1;n&&n.flat&&!i&&(i=[]);var r,o,a={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!n||!n.no_data)&&e.extend(!0,{},t.data)};if(n&&n.flat?a.parent=t.parent:a.children=[],!n||!n.no_state)for(r in t.state)t.state.hasOwnProperty(r)&&(a.state[r]=t.state[r]);if(n&&n.no_id&&(delete a.id,a.li_attr&&a.li_attr.id&&delete a.li_attr.id,a.a_attr&&a.a_attr.id&&delete a.a_attr.id),n&&n.flat&&"#"!==t.id&&i.push(a),!n||!n.no_children)for(r=0,o=t.children.length;o>r;r++)n&&n.flat?this.get_json(t.children[r],n,i):a.children.push(this.get_json(t.children[r],n));return n&&n.flat?i:"#"===t.id?a.children:a},create_node:function(n,i,r,o,a){if(null===n&&(n="#"),n=this.get_node(n),!n)return!1;if(r=r===t?"last":r,!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(n))return this.load_node(n,function(){this.create_node(n,i,r,o,!0)});i||(i={text:this.get_string("New node")}),"string"==typeof i&&(i={text:i}),i.text===t&&(i.text=this.get_string("New node"));var s,l,c,d;switch("#"===n.id&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":s=this.get_node(n.parent),r=e.inArray(n.id,s.children),n=s;break;case"after":s=this.get_node(n.parent),r=e.inArray(n.id,s.children)+1,n=s;break;case"inside":case"first":r=0;break;case"last":r=n.children.length;break;default:r||(r=0)}if(r>n.children.length&&(r=n.children.length),i.id||(i.id=!0),!this.check("create_node",i,n,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.id===!0&&delete i.id,i=this._parse_model_from_json(i,n.id,n.parents.concat()),!i)return!1;for(s=this.get_node(i),l=[],l.push(i),l=l.concat(s.children_d),this.trigger("model",{nodes:l,parent:n.id}),n.children_d=n.children_d.concat(l),c=0,d=n.parents.length;d>c;c++)this._model.data[n.parents[c]].children_d=this._model.data[n.parents[c]].children_d.concat(l);for(i=s,s=[],c=0,d=n.children.length;d>c;c++)s[c>=r?c+1:c]=n.children[c];return s[r]=i.id,n.children=s,this.redraw_node(n,!0),o&&o.call(this,this.get_node(i)),this.trigger("create_node",{node:this.get_node(i),parent:n.id,position:r}),i.id},rename_node:function(t,n){var i,r,o;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.rename_node(t[i],n);return!0}return t=this.get_node(t),!(!t||"#"===t.id)&&(o=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:o}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var n,i,r,o,a,s,l,c,d,u;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.delete_node(t[n]);return!0}if(t=this.get_node(t),!t||"#"===t.id)return!1;if(r=this.get_node(t.parent),o=e.inArray(t.id,r.children),u=!1,!this.check("delete_node",t,r,o))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==o&&(r.children=e.vakata.array_remove(r.children,o)),a=t.children_d.concat([]),a.push(t.id),c=0,d=a.length;d>c;c++){for(s=0,l=t.parents.length;l>s;s++)o=e.inArray(a[c],this._model.data[t.parents[s]].children_d),-1!==o&&(this._model.data[t.parents[s]].children_d=e.vakata.array_remove(this._model.data[t.parents[s]].children_d,o));this._model.data[a[c]].state.selected&&(u=!0,o=e.inArray(a[c],this._data.core.selected),-1!==o&&(this._data.core.selected=e.vakata.array_remove(this._data.core.selected,o)))}for(this.trigger("delete_node",{node:t,parent:r.id}),u&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:r.id}),c=0,d=a.length;d>c;c++)delete this._model.data[a[c]];return this.redraw_node(r,!0),!0},check:function(t,n,i,r,o){n=n&&n.id?n:this.get_node(n),i=i&&i.id?i:this.get_node(i);var a=t.match(/^move_node|copy_node|create_node$/i)?i:n,s=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||o&&o.is_multi||n.id!==i.id&&e.inArray(n.id,i.children)!==r&&-1===e.inArray(i.id,n.children_d)?(a&&a.data&&(a=a.data),a&&a.functions&&(a.functions[t]===!1||a.functions[t]===!0)?(a.functions[t]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),a.functions[t]):!(s===!1||e.isFunction(s)&&s.call(this,t,n,i,r,o)===!1||s&&s[t]===!1)||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,i,r,o,a,s,l){var c,d,u,h,f,p,g,m,v,y,b,_,w,x;if(i=this.get_node(i),r=r===t?0:r,!i)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.move_node(n,i,r,o,!0,!1,l)});if(e.isArray(n)){if(1!==n.length){for(c=0,d=n.length;d>c;c++)(v=this.move_node(n[c],i,r,o,a,!1,l))&&(i=v,r="after");return this.redraw(),!0}n=n[0]}if(n=n&&n.id?n:this.get_node(n),!n||"#"===n.id)return!1;if(u=(n.parent||"#").toString(),f=r.toString().match(/^(before|after)$/)&&"#"!==i.id?this.get_node(i.parent):i,p=l?l:this._model.data[n.id]?this:e.jstree.reference(n.id),g=!p||!p._id||this._id!==p._id,h=p&&p._id&&u&&p._model.data[u]&&p._model.data[u].children?e.inArray(n.id,p._model.data[u].children):-1,p&&p._id&&(n=p._model.data[n.id]),g)return!!(v=this.copy_node(n,i,r,o,a,!1,l))&&(p&&p.delete_node(n),v);switch("#"===i.id&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(i.id,f.children);break;case"after":r=e.inArray(i.id,f.children)+1;break;case"inside":case"first":r=0;break;case"last":r=f.children.length;break;default:r||(r=0)}if(r>f.children.length&&(r=f.children.length),!this.check("move_node",n,f,r,{core:!0,origin:l,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===f.id){for(m=f.children.concat(),v=e.inArray(n.id,m),-1!==v&&(m=e.vakata.array_remove(m,v),r>v&&r--),v=[],y=0,b=m.length;b>y;y++)v[y>=r?y+1:y]=m[y];v[r]=n.id,f.children=v,this._node_changed(f.id),this.redraw("#"===f.id)}else{for(v=n.children_d.concat(),v.push(n.id),y=0,b=n.parents.length;b>y;y++){for(m=[],x=p._model.data[n.parents[y]].children_d,_=0,w=x.length;w>_;_++)-1===e.inArray(x[_],v)&&m.push(x[_]);p._model.data[n.parents[y]].children_d=m}for(p._model.data[u].children=e.vakata.array_remove_item(p._model.data[u].children,n.id),y=0,b=f.parents.length;b>y;y++)this._model.data[f.parents[y]].children_d=this._model.data[f.parents[y]].children_d.concat(v);for(m=[],y=0,b=f.children.length;b>y;y++)m[y>=r?y+1:y]=f.children[y];for(m[r]=n.id,f.children=m,f.children_d.push(n.id),f.children_d=f.children_d.concat(n.children_d),n.parent=f.id,v=f.parents.concat(),v.unshift(f.id),x=n.parents.length,n.parents=v,v=v.concat(),y=0,b=n.children_d.length;b>y;y++)this._model.data[n.children_d[y]].parents=this._model.data[n.children_d[y]].parents.slice(0,-1*x),Array.prototype.push.apply(this._model.data[n.children_d[y]].parents,v);("#"===u||"#"===f.id)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(u),this._node_changed(f.id)),s||this.redraw()}return o&&o.call(this,n,f,r),this.trigger("move_node",{node:n,parent:f.id,position:r,old_parent:u,old_position:h,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),n.id},copy_node:function(n,i,r,o,a,s,l){var c,d,u,h,f,p,g,m,v,y,b;if(i=this.get_node(i),r=r===t?0:r,!i)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.copy_node(n,i,r,o,!0,!1,l)});if(e.isArray(n)){if(1!==n.length){for(c=0,d=n.length;d>c;c++)(h=this.copy_node(n[c],i,r,o,a,!0,l))&&(i=h,r="after");return this.redraw(),!0}n=n[0]}if(n=n&&n.id?n:this.get_node(n),!n||"#"===n.id)return!1;switch(m=(n.parent||"#").toString(),v=r.toString().match(/^(before|after)$/)&&"#"!==i.id?this.get_node(i.parent):i,y=l?l:this._model.data[n.id]?this:e.jstree.reference(n.id),b=!y||!y._id||this._id!==y._id,y&&y._id&&(n=y._model.data[n.id]),"#"===i.id&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(i.id,v.children);break;case"after":r=e.inArray(i.id,v.children)+1;break;case"inside":case"first":r=0;break;case"last":r=v.children.length;break;default:r||(r=0)}if(r>v.children.length&&(r=v.children.length),!this.check("copy_node",n,v,r,{core:!0,origin:l,is_multi:y&&y._id&&y._id!==this._id,is_foreign:!y||!y._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(g=y?y.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n,!g)return!1;if(g.id===!0&&delete g.id,g=this._parse_model_from_json(g,v.id,v.parents.concat()),!g)return!1;for(h=this.get_node(g),n&&n.state&&n.state.loaded===!1&&(h.state.loaded=!1),u=[],u.push(g),u=u.concat(h.children_d),this.trigger("model",{nodes:u,parent:v.id}),f=0,p=v.parents.length;p>f;f++)this._model.data[v.parents[f]].children_d=this._model.data[v.parents[f]].children_d.concat(u);for(u=[],f=0,p=v.children.length;p>f;f++)u[f>=r?f+1:f]=v.children[f];return u[r]=h.id,v.children=u,v.children_d.push(h.id),v.children_d=v.children_d.concat(h.children_d),"#"===v.id&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(v.id),s||this.redraw("#"===v.id),o&&o.call(this,h,v,r),this.trigger("copy_node",{node:h,original:n,parent:v.id,position:r,old_parent:m,old_position:y&&y._id&&m&&y._model.data[m]&&y._model.data[m].children?e.inArray(n.id,y._model.data[m].children):-1,is_multi:y&&y._id&&y._id!==this._id,is_foreign:!y||!y._id,old_instance:y,new_instance:this}),h.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,i,r,l=[];for(i=0,r=t.length;r>i;i++)n=this.get_node(t[i]),n&&n.id&&"#"!==n.id&&l.push(n);return!!l.length&&(o=l,s=this,a="move_node",void this.trigger("cut",{node:t}))},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,i,r,l=[];for(i=0,r=t.length;r>i;i++)n=this.get_node(t[i]),n&&n.id&&"#"!==n.id&&l.push(n);return!!l.length&&(o=l,s=this,a="copy_node",void this.trigger("copy",{node:t}))},get_buffer:function(){return{mode:a,node:o,inst:s}},can_paste:function(){return a!==!1&&o!==!1},paste:function(e,t){return e=this.get_node(e),!!(e&&a&&a.match(/^(copy_node|move_node)$/)&&o)&&(this[a](o,e,t,!1,!1,!1,s)&&this.trigger("paste",{parent:e.id,node:o,mode:a}),o=!1,a=!1,void(s=!1))},clear_buffer:function(){o=!1,a=!1,s=!1,this.trigger("clear_buffer")},edit:function(t,n,i){var r,o,a,s,l,c,d,u,h;return!!(t=this.get_node(t))&&(this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(h=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),h.text=n,r=this._data.core.rtl,o=this.element.width(),a=t.children(".jstree-anchor"),s=e("<span>"),l=n,c=e("<div />",{css:{position:"absolute",top:"-200px",left:r?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),d=e("<input />",{value:l,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(){var n,r=s.children(".jstree-rename-input"),o=r.val(),d=this.settings.core.force_text;""===o&&(o=l),c.remove(),s.replaceWith(a),s.remove(),l=d?l:e("<div></div>").append(e.parseHTML(l)).html(),this.set_text(t,l),n=!!this.rename_node(t,d?e("<div></div>").text(o).text():e("<div></div>").append(e.parseHTML(o)).html()),n||this.set_text(t,l),i&&i.call(this,h,n)},this),keydown:function(e){var t=e.which;27===t&&(this.value=l),(27===t||13===t||37===t||38===t||39===t||40===t||32===t)&&e.stopImmediatePropagation(),(27===t||13===t)&&(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){d.width(Math.min(c.text("pW"+this.value).width(),o))},keypress:function(e){return 13!==e.which&&void 0}}),u={fontFamily:a.css("fontFamily")||"",fontSize:a.css("fontSize")||"",fontWeight:a.css("fontWeight")||"",fontStyle:a.css("fontStyle")||"",fontStretch:a.css("fontStretch")||"",fontVariant:a.css("fontVariant")||"",letterSpacing:a.css("letterSpacing")||"",wordSpacing:a.css("wordSpacing")||""},s.attr("class",a.attr("class")).append(a.contents().clone()).append(d),a.replaceWith(s),c.css(u),void d.css(u).width(Math.min(c.text("pW"+d[0].value).width(),o))[0].select()))},set_theme:function(t,n){if(!t)return!1;if(n===!0){var i=this.settings.core.themes.dir;i||(i=e.jstree.path+"/themes"),n=i+"/"+t+"/style.css"}n&&-1===e.inArray(n,l)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),l.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(n,i){var r,o,a,s;if(e.isArray(n)){for(n=n.slice(),r=0,o=n.length;o>r;r++)this.set_icon(n[r],i);return!0}return n=this.get_node(n),!(!n||"#"===n.id)&&(s=n.icon,n.icon=i===!0||null===i||i===t||""===i||i,a=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),i===!1?this.hide_icon(n):i===!0||null===i||i===t||""===i?(a.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),s===!1&&this.show_icon(n)):-1===i.indexOf("/")&&-1===i.indexOf(".")?(a.removeClass(s).css("background",""),a.addClass(i+" jstree-themeicon-custom").attr("rel",i),s===!1&&this.show_icon(n)):(a.removeClass(s).css("background",""),a.addClass("jstree-themeicon-custom").css("background","url('"+i+"') center center no-repeat").attr("rel",i),s===!1&&this.show_icon(n)),!0)},get_icon:function(e){return e=this.get_node(e),!(!e||"#"===e.id)&&e.icon},hide_icon:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.hide_icon(t[n]);return!0}return t=this.get_node(t),!(!t||"#"===t)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var n,i,r;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.show_icon(t[n]);return!0}return t=this.get_node(t),!(!t||"#"===t)&&(r=this.get_node(t,!0),t.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var i=n?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,r){-1===e.inArray(r.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==r.value&&""!==e.trim(r.value)&&(n?i[r.name]=r.value:i.push(r.name))}),i},e.vakata.array_unique=function(e){var n,i,r=[],o={};for(n=0,i=e.length;i>n;n++)o[e[n]]===t&&(r.push(e[n]),o[e[n]]=!0);return r},e.vakata.array_remove=function(e,t,n){var i=e.slice((n||t)+1||e.length);return e.length=0>t?e.length+t:t,e.push.apply(e,i),e},e.vakata.array_remove_item=function(t,n){var i=e.inArray(n,t);return-1!==i?e.vakata.array_remove(t,i):t};var h=d.createElement("I");h.className="jstree-icon jstree-checkbox",h.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},e.jstree.plugins.checkbox=function(n,i){this.bind=function(){i.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var n,i,r=this._model.data,o=(r[t.parent],t.nodes);for(n=0,i=o.length;i>n;n++)r[o[n]].state.checked=r[o[n]].original&&r[o[n]].original.state&&r[o[n]].original.state.checked,r[o[n]].state.checked&&this._data.checkbox.selected.push(o[n])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",e.proxy(function(t,n){var i,r,o,a,s,l,c=this._model.data,d=c[n.parent],u=n.nodes,h=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(d.state[p?"selected":"checked"]){for(r=0,o=u.length;o>r;r++)c[u[r]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(u)}else for(r=0,o=u.length;o>r;r++)if(c[u[r]].state[p?"selected":"checked"]){for(a=0,s=c[u[r]].children_d.length;s>a;a++)c[c[u[r]].children_d[a]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(c[u[r]].children_d)}if(-1!==f.indexOf("up")){for(r=0,o=d.children_d.length;o>r;r++)c[d.children_d[r]].children.length||h.push(c[d.children_d[r]].parent);for(h=e.vakata.array_unique(h),a=0,s=h.length;s>a;a++)for(d=c[h[a]];d&&"#"!==d.id;){for(i=0,r=0,o=d.children.length;o>r;r++)i+=c[d.children[r]].state[p?"selected":"checked"];if(i!==o)break;d.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(d.id),l=this.get_node(d,!0),l&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,n){var i,r,o,a,s=n.node,l=this._model.data,c=this.get_node(s.parent),d=this.get_node(s,!0),u=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection;if(-1!==u.indexOf("down"))for(this._data[h?"core":"checkbox"].selected=e.vakata.array_unique(this._data[h?"core":"checkbox"].selected.concat(s.children_d)),i=0,r=s.children_d.length;r>i;i++)a=l[s.children_d[i]],a.state[h?"selected":"checked"]=!0,a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1);if(-1!==u.indexOf("up"))for(;c&&"#"!==c.id;){for(o=0,i=0,r=c.children.length;r>i;i++)o+=l[c.children[i]].state[h?"selected":"checked"];if(o!==r)break;c.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(c.id),a=this.get_node(c,!0),a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}-1!==u.indexOf("down")&&d.length&&d.find(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(e,t){var n,i,r,o=this.get_node("#"),a=this._model.data;for(n=0,i=o.children_d.length;i>n;n++)r=a[o.children_d[n]],r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(t,n){var i,r,o,a=n.node,s=this.get_node(a,!0),l=this.settings.checkbox.cascade,c=this.settings.checkbox.tie_selection;if(a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1),-1!==l.indexOf("down"))for(i=0,r=a.children_d.length;r>i;i++)o=this._model.data[a.children_d[i]],o.state[c?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1);if(-1!==l.indexOf("up"))for(i=0,r=a.parents.length;r>i;i++)o=this._model.data[a.parents[i]],o.state[c?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),o=this.get_node(a.parents[i],!0),o&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked");for(o=[],i=0,r=this._data[c?"core":"checkbox"].selected.length;r>i;i++)-1!==l.indexOf("down")&&-1!==e.inArray(this._data[c?"core":"checkbox"].selected[i],a.children_d)||-1!==l.indexOf("up")&&-1!==e.inArray(this._data[c?"core":"checkbox"].selected[i],a.parents)||o.push(this._data[c?"core":"checkbox"].selected[i]);this._data[c?"core":"checkbox"].selected=e.vakata.array_unique(o),-1!==l.indexOf("down")&&s.length&&s.find(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(e,t){for(var n,i,r,o,a=this.get_node(t.parent),s=this._model.data,l=this.settings.checkbox.tie_selection;a&&"#"!==a.id;){for(r=0,n=0,i=a.children.length;i>n;n++)r+=s[a.children[n]].state[l?"selected":"checked"];if(r!==i)break;a.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(a.id),o=this.get_node(a,!0),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}},this)).on("move_node.jstree",e.proxy(function(t,n){var i,r,o,a,s,l=n.is_multi,c=n.old_parent,d=this.get_node(n.parent),u=this._model.data,h=this.settings.checkbox.tie_selection;if(!l)for(i=this.get_node(c);i&&"#"!==i.id;){for(r=0,o=0,a=i.children.length;a>o;o++)r+=u[i.children[o]].state[h?"selected":"checked"];if(r!==a)break;i.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(i.id),s=this.get_node(i,!0),s&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),i=this.get_node(i.parent)}for(i=d;i&&"#"!==i.id;){for(r=0,o=0,a=i.children.length;a>o;o++)r+=u[i.children[o]].state[h?"selected":"checked"];if(r===a)i.state[h?"selected":"checked"]||(i.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(i.id),s=this.get_node(i,!0),s&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"));else{if(!i.state[h?"selected":"checked"])break;i.state[h?"selected":"checked"]=!1,this._data[h?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[h?"core":"checkbox"].selected,i.id),s=this.get_node(i,!0),s&&s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass(h?"jstree-clicked":"jstree-checked")}i=this.get_node(i.parent)}},this))},this._undetermined=function(){if(null!==this.element){var e,n,i,r,o={},a=this._model.data,s=this.settings.checkbox.tie_selection,l=this._data[s?"core":"checkbox"].selected,c=[],d=this;for(e=0,n=l.length;n>e;e++)if(a[l[e]]&&a[l[e]].parents)for(i=0,r=a[l[e]].parents.length;r>i;i++)o[a[l[e]].parents[i]]===t&&"#"!==a[l[e]].parents[i]&&(o[a[l[e]].parents[i]]=!0,c.push(a[l[e]].parents[i]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var s,l=d.get_node(this);if(l.state.loaded){for(e=0,n=l.children_d.length;n>e;e++)if(s=a[l.children_d[e]],!s.state.loaded&&s.original&&s.original.state&&s.original.state.undetermined&&s.original.state.undetermined===!0)for(o[s.id]===t&&"#"!==s.id&&(o[s.id]=!0,c.push(s.id)),i=0,r=s.parents.length;r>i;i++)o[s.parents[i]]===t&&"#"!==s.parents[i]&&(o[s.parents[i]]=!0,c.push(s.parents[i]))}else if(l.original&&l.original.state&&l.original.state.undetermined&&l.original.state.undetermined===!0)for(o[l.id]===t&&"#"!==l.id&&(o[l.id]=!0,c.push(l.id)),i=0,r=l.parents.length;r>i;i++)o[l.parents[i]]===t&&"#"!==l.parents[i]&&(o[l.parents[i]]=!0,c.push(l.parents[i]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,n=c.length;n>e;e++)a[c[e]].state[s?"selected":"checked"]||(l=this.get_node(c[e],!0),l&&l.length&&l.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}},this.redraw_node=function(t,n,r,o){if(t=i.redraw_node.apply(this,arguments)){var a,s,l=null;for(a=0,s=t.childNodes.length;s>a;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){l=t.childNodes[a];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),l.insertBefore(h.cloneNode(!1),l.childNodes[0]))}return r||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){
this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,i,r=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection,a=this._data[o?"core":"checkbox"].selected,s=this._model.data;if(!t||t.state[o?"selected":"checked"]===!0||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&t.original.state.undetermined===!0)return!0;for(n=0,i=t.children_d.length;i>n;n++)if(-1!==e.inArray(t.children_d[n],a)||!s[t.children_d[n]].state.loaded&&s[t.children_d[n]].original.state.undetermined)return!0;return!1},this.activate_node=function(t,n){return this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?i.activate_node.call(this,t,n):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)}))},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var i,r,o;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;o>r;r++)this.check_node(t[r],n);return!0}return t=this.get_node(t),!(!t||"#"===t.id)&&(i=this.get_node(t,!0),void(t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),i&&i.length&&i.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var i,r,o;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.uncheck_node(t[i],n);return!0}return t=this.get_node(t),!(!t||"#"===t.id)&&(o=this.get_node(t,!0),void(t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),o.length&&o.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var e,t;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data["#"].children_d.concat(),e=0,t=this._data.checkbox.selected.length;t>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;t>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(e){return this.settings.checkbox.tie_selection?this.is_selected(e):(e=this.get_node(e),!(!e||"#"===e.id)&&e.state.checked)},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,i,r,o,a=this.get_checked(!0),s={};for(n=0,i=a.length;i>n;n++)s[a[n].id]=a[n];for(n=0,i=a.length;i>n;n++)for(r=0,o=a[n].children_d.length;o>r;r++)s[a[n].children_d[r]]&&delete s[a[n].children_d[r]];a=[];for(n in s)s.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,i,r=this.get_checked(!0),o=[];for(n=0,i=r.length;i>n;n++)r[n].children.length||o.push(r[n].id);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},this.load_node=function(t,n){var r,o,a,s;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(s=this.get_node(t),s&&s.state.loaded))for(r=0,o=s.children_d.length;o>r;r++)this._model.data[s.children_d[r]].state.checked&&(a=!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,s.children_d[r]));return i.load_node.apply(this,arguments)},this.get_state=function(){var e=i.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,n){var r=i.set_state.apply(this,arguments);if(r&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var o=this;e.each(t.checkbox,function(e,t){o.check_node(t)})}return delete t.checkbox,this.set_state(t,n),!1}return r}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.create_node(i,{},"last",function(e){setTimeout(function(){n.edit(e)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.edit(i)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.delete_node(n.is_selected(i)?n.get_selected():i)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.cut(n.is_selected(i)?n.get_top_selected():i)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.copy(n.is_selected(i)?n.get_top_selected():i)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.paste(i)}}}}}}},e.jstree.plugins.contextmenu=function(n,i){this.bind=function(){i.bind.call(this);var t,n,r=0,o=null;this.element.on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){e.preventDefault(),r=e.ctrlKey?+new Date:0,(t||o)&&(r=+new Date+1e4),o&&clearTimeout(o),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!r||+new Date-r>250)&&e.vakata.context.hide(),r=0},this)).on("touchstart.jstree",".jstree-anchor",function(i){i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(t=i.pageX,n=i.pageY,o=setTimeout(function(){e(i.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){o&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(Math.abs(t-e.pageX)>50||Math.abs(n-e.pageY)>50)&&clearTimeout(o)}).on("touchend.vakata.jstree",function(e){o&&clearTimeout(o)}),e(d).on("context_hide.vakata.jstree",e.proxy(function(){this._data.contextmenu.visible=!1},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),i.teardown.call(this)},this.show_contextmenu=function(n,i,r,o){if(n=this.get_node(n),!n||"#"===n.id)return!1;var a=this.settings.contextmenu,s=this.get_node(n,!0),l=s.children(".jstree-anchor"),c=!1,d=!1;(a.show_at_node||i===t||r===t)&&(c=l.offset(),i=c.left,r=c.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,o),d=a.items,e.isFunction(d)&&(d=d.call(this,n,e.proxy(function(e){this._show_contextmenu(n,i,r,e)},this))),e.isPlainObject(d)&&this._show_contextmenu(n,i,r,d)},this._show_contextmenu=function(t,n,i,r){var o=this.get_node(t,!0),a=o.children(".jstree-anchor");e(d).one("context_show.vakata.jstree",e.proxy(function(t,n){var i="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(i)},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(a,{x:n,y:i},r),this.trigger("show_contextmenu",{node:t,x:n,y:i})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(d).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return t=n.items[t],!(!t||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,i){if(!t)return!1;i||(n.html="",n.items=[]);var r,o="",a=!1;return i&&(o+="<ul>"),e.each(t,function(t,i){return!i||(n.items.push(i),!a&&i.separator_before&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),a=!1,o+="<li class='"+(i._class||"")+(i._disabled===!0||e.isFunction(i._disabled)&&i._disabled({item:i,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(i.shortcut?" data-shortcut='"+i.shortcut+"' ":"")+">",o+="<a href='#' rel='"+(n.items.length-1)+"'>",e.vakata.context.settings.icons&&(o+="<i ",i.icon&&(o+=-1!==i.icon.indexOf("/")||-1!==i.icon.indexOf(".")?" style='background:url(\""+i.icon+"\") center center no-repeat' ":" class='"+i.icon+"' "),o+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),o+=(e.isFunction(i.label)?i.label({item:t,reference:n.reference,element:n.element}):i.label)+(i.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+i.shortcut+'">'+(i.shortcut_label||"")+"</span>":"")+"</a>",i.submenu&&(r=e.vakata.context._parse(i.submenu,!0),r&&(o+=r)),o+="</li>",void(i.separator_after&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",a=!0)))}),o=o.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),i&&(o+="</ul>"),i||(n.html=o,e.vakata.context._trigger("parse")),o.length>10&&o},_show_submenu:function(n){if(n=e(n),n.length&&n.children("ul").length){var i=n.children("ul"),r=n.offset().left+n.outerWidth(),o=n.offset().top,a=i.width(),s=i.height(),l=e(window).width()+e(window).scrollLeft(),c=e(window).height()+e(window).scrollTop();t?n[r-(a+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[r+a+10>l?"addClass":"removeClass"]("vakata-context-right"),o+s+10>c&&i.css("bottom","-1px"),i.show()}},show:function(i,r,o){var a,s,l,c,d,u,h,f,p=!0;switch(n.element&&n.element.length&&n.element.width(""),p){case!r&&!i:return!1;case!!r&&!!i:n.reference=i,n.position_x=r.x,n.position_y=r.y;break;case!r&&!!i:n.reference=i,a=i.offset(),n.position_x=a.left+i.outerHeight(),n.position_y=a.top;break;case!!r&&!i:n.position_x=r.x,n.position_y=r.y}i&&!o&&e(i).data("vakata_contextmenu")&&(o=e(i).data("vakata_contextmenu")),e.vakata.context._parse(o)&&n.element.html(n.html),n.items.length&&(n.element.appendTo("body"),s=n.element,l=n.position_x,c=n.position_y,d=s.width(),u=s.height(),h=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(l-=s.outerWidth()-e(i).outerWidth(),l<e(window).scrollLeft()+20&&(l=e(window).scrollLeft()+20)),l+d+20>h&&(l=h-(d+20)),c+u+20>f&&(c=f-(u+20)),n.element.css({left:l,top:c}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var i=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(i&&clearTimeout(i),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(i=setTimeout(function(t){return function(){e.vakata.context.hide()}}(this),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||e.vakata.context._execute(e(this).attr("rel"))===!1||e.vakata.context.hide()}).on("keydown","a",function(t){var i=null;switch(t.which){case 13:case 32:t.type="mouseup",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&(i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),i.length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&(i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),i.length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(d).on("mousedown.vakata.jstree",function(t){n.is_visible&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,i){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1},e.jstree.plugins.dnd=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),i=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,r=i>1?i+" "+this.get_string("nodes"):this.get_text(t.currentTarget);return this.settings.core.force_text&&(r=e.vakata.html.escape(r)),n&&n.id&&"#"!==n.id&&(1===t.which||"touchstart"===t.type)&&(this.settings.dnd.is_draggable===!0||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,i>1?this.get_top_selected(!0):[n]))?(this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,{jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:i>1?this.get_top_selected():[n.id]},'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+r+'<ins class="jstree-copy" style="display:none;">+</ins></div>')):void 0},this))}},e(function(){var t=!1,n=!1,i=!1,r=e('<div id="jstree-marker">&#160;</div>').hide();e(d).on("dnd_start.vakata.jstree",function(e,n){t=!1,n&&n.data&&n.data.jstree&&r.appendTo("body")}).on("dnd_move.vakata.jstree",function(o,a){if(i&&clearTimeout(i),a&&a.data&&a.data.jstree&&(!a.event.target.id||"jstree-marker"!==a.event.target.id)){var s,l,c,d,u,h,f,p,g,m,v,y,b,_,w=e.jstree.reference(a.event.target),x=!1,C=!1,k=!1;if(w&&w._data&&w._data.dnd)if(r.attr("class","jstree-"+w.get_theme()+(w.settings.core.themes.responsive?" jstree-dnd-responsive":"")),a.helper.children().attr("class","jstree-"+w.get_theme()+" jstree-"+w.get_theme()+"-"+w.get_theme_variant()+" "+(w.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"show":"hide"](),a.event.target!==w.element[0]&&a.event.target!==w.get_container_ul()[0]||0!==w.get_container_ul().children().length){if(x=w.settings.dnd.large_drop_target?e(a.event.target).closest(".jstree-node").children(".jstree-anchor"):e(a.event.target).closest(".jstree-anchor"),x&&x.length&&x.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(C=x.offset(),k=a.event.pageY-C.top,c=x.outerHeight(),h=c/3>k?["b","i","a"]:k>c-c/3?["a","i","b"]:k>c/2?["i","a","b"]:["i","b","a"],e.each(h,function(o,k){switch(k){case"b":s=C.left-6,l=C.top,d=w.get_parent(x),u=x.parent().index();break;case"i":b=w.settings.dnd.inside_pos,_=w.get_node(x.parent()),s=C.left-2,l=C.top+c/2+1,d=_.id,u="first"===b?0:"last"===b?_.children.length:Math.min(b,_.children.length);break;case"a":s=C.left-6,l=C.top+c,d=w.get_parent(x),u=x.parent().index()+1}for(f=!0,p=0,g=a.data.nodes.length;g>p;p++)if(m=a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node",v=u,"move_node"===m&&"a"===k&&a.data.origin&&a.data.origin===w&&d===w.get_parent(a.data.nodes[p])&&(y=w.get_node(d),v>e.inArray(a.data.nodes[p],y.children)&&(v-=1)),f=f&&(w&&w.settings&&w.settings.dnd&&w.settings.dnd.check_while_dragging===!1||w.check(m,a.data.origin&&a.data.origin!==w?a.data.origin.get_node(a.data.nodes[p]):a.data.nodes[p],d,v,{dnd:!0,ref:w.get_node(x.parent()),pos:k,origin:a.data.origin,is_multi:a.data.origin&&a.data.origin!==w,is_foreign:!a.data.origin})),!f){w&&w.last_error&&(n=w.last_error());break}return"i"===k&&x.parent().is(".jstree-closed")&&w.settings.dnd.open_timeout&&(i=setTimeout(function(e,t){return function(){e.open_node(t)}}(w,x),w.settings.dnd.open_timeout)),f?(t={ins:w,par:d,pos:"i"!==k||"last"!==b||0!==u||w.is_loaded(_)?u:"last"},r.css({left:s+"px",top:l+"px"}).show(),a.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),n={},h=!0,!1):void 0}),h===!0))return}else{for(f=!0,p=0,g=a.data.nodes.length;g>p&&(f=f&&w.check(a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node",a.data.origin&&a.data.origin!==w?a.data.origin.get_node(a.data.nodes[p]):a.data.nodes[p],"#","last",{dnd:!0,ref:w.get_node("#"),pos:"i",origin:a.data.origin,is_multi:a.data.origin&&a.data.origin!==w,is_foreign:!a.data.origin}),f);p++);if(f)return t={ins:w,par:"#",pos:"last"},r.hide(),void a.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok")}t=!1,a.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),r.hide()}}).on("dnd_scroll.vakata.jstree",function(e,n){n&&n.data&&n.data.jstree&&(r.hide(),t=!1,n.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(o,a){if(i&&clearTimeout(i),a&&a.data&&a.data.jstree){r.hide().detach();var s,l,c=[];if(t){for(s=0,l=a.data.nodes.length;l>s;s++)c[s]=a.data.origin?a.data.origin.get_node(a.data.nodes[s]):a.data.nodes[s];t.ins[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node"](c,t.par,t.pos,!1,!1,!1,a.data.origin)}else s=e(a.event.target).closest(".jstree"),s.length&&n&&n.error&&"check"===n.error&&(s=s.jstree(!0),s&&s.settings.core.error.call(this,n))}}).on("keyup.jstree keydown.jstree",function(t,n){n=e.vakata.dnd._get(),n&&n.data&&n.data.jstree&&n.helper.find(".jstree-copy").first()[n.data.origin&&(n.data.origin.settings.dnd.always_copy||n.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"]()})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var t={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(t,n){var i=e.vakata.dnd._get();i.event=n,e(d).triggerHandler("dnd_"+t+".vakata",i)},_get:function(){return{data:t.data,element:t.element,helper:t.helper}},_clean:function(){t.helper&&t.helper.remove(),t.scroll_i&&(clearInterval(t.scroll_i),t.scroll_i=!1),t={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(d).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(d).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(n){if(!t.scroll_e||!t.scroll_l&&!t.scroll_t)return t.scroll_i&&(clearInterval(t.scroll_i),t.scroll_i=!1),!1;if(!t.scroll_i)return t.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(n===!0)return!1;var i=t.scroll_e.scrollTop(),r=t.scroll_e.scrollLeft();t.scroll_e.scrollTop(i+t.scroll_t*e.vakata.dnd.settings.scroll_speed),t.scroll_e.scrollLeft(r+t.scroll_l*e.vakata.dnd.settings.scroll_speed),(i!==t.scroll_e.scrollTop()||r!==t.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",t.scroll_e)},start:function(n,i,r){"touchstart"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=d.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_drag&&e.vakata.dnd.stop({});try{n.currentTarget.unselectable="on",n.currentTarget.onselectstart=function(){return!1},n.currentTarget.style&&(n.currentTarget.style.MozUserSelect="none")}catch(o){}return t.init_x=n.pageX,t.init_y=n.pageY,t.data=i,t.is_down=!0,t.element=n.currentTarget,t.target=n.target,t.is_touch="touchstart"===n.type,r!==!1&&(t.helper=e("<div id='vakata-dnd'></div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(d).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(d).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(n){if("touchmove"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=d.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_down){if(!t.is_drag){if(!(Math.abs(n.pageX-t.init_x)>(t.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(n.pageY-t.init_y)>(t.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;t.helper&&(t.helper.appendTo("body"),t.helper_w=t.helper.outerWidth()),t.is_drag=!0,e.vakata.dnd._trigger("start",n)}var i=!1,r=!1,o=!1,a=!1,s=!1,l=!1,c=!1,u=!1,h=!1,f=!1;return t.scroll_t=0,t.scroll_l=0,t.scroll_e=!1,e(e(n.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var i=e(this),r=i.offset();return this.scrollHeight>this.offsetHeight&&(r.top+i.height()-n.pageY<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=1),n.pageY-r.top<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(r.left+i.width()-n.pageX<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=1),n.pageX-r.left<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=-1)),t.scroll_t||t.scroll_l?(t.scroll_e=e(this),!1):void 0}),t.scroll_e||(i=e(d),r=e(window),o=i.height(),a=r.height(),s=i.width(),l=r.width(),c=i.scrollTop(),u=i.scrollLeft(),o>a&&n.pageY-c<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=-1),o>a&&a-(n.pageY-c)<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=1),s>l&&n.pageX-u<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=-1),s>l&&l-(n.pageX-u)<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=1),(t.scroll_t||t.scroll_l)&&(t.scroll_e=i)),t.scroll_e&&e.vakata.dnd._scroll(!0),t.helper&&(h=parseInt(n.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(n.pageX+e.vakata.dnd.settings.helper_left,10),o&&h+25>o&&(h=o-50),s&&f+t.helper_w>s&&(f=s-(t.helper_w+2)),t.helper.css({left:f+"px",top:h+"px"})),e.vakata.dnd._trigger("move",n),!1}},stop:function(n){if("touchend"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=d.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_drag)e.vakata.dnd._trigger("stop",n);else if("touchend"===n.type&&n.target===t.target){var i=setTimeout(function(){e(n.target).click()},100);e(n.target).one("click",function(){i&&clearTimeout(i)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this._data.massload={}},this._load_nodes=function(t,i,r){var o=this.settings.massload;return r&&!e.isEmptyObject(this._data.massload)?n._load_nodes.call(this,t,i,r):e.isFunction(o)?o.call(this,t,e.proxy(function(e){if(e)for(var o in e)e.hasOwnProperty(o)&&(this._data.massload[o]=e[o]);n._load_nodes.call(this,t,i,r)},this)):"object"==typeof o&&o&&o.url?(o=e.extend(!0,{},o),e.isFunction(o.url)&&(o.url=o.url.call(this,t)),e.isFunction(o.data)&&(o.data=o.data.call(this,t)),e.ajax(o).done(e.proxy(function(e,o,a){if(e)for(var s in e)e.hasOwnProperty(s)&&(this._data.massload[s]=e[s]);n._load_nodes.call(this,t,i,r)},this)).fail(e.proxy(function(e){n._load_nodes.call(this,t,i,r)},this))):n._load_nodes.call(this,t,i,r)},this._load_node=function(t,i){var r=this._data.massload[t.id];return r?this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(e.parseHTML(r)).filter(function(){return 3!==this.nodeType}):r,function(e){i.call(this,e),delete this._data.massload[t.id]}):n._load_node.call(this,t,i)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,i){this.bind=function(){i.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this.element.on("before_open.jstree",e.proxy(function(t,n){var i,r,o=this._data.search.res,a=[],s=e();if(o&&o.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(o,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search"),this._data.search.som&&this._data.search.res.length)){for(i=0,r=o.length;r>i;i++)a=a.concat(this.get_node(o[i]).parents);a=e.vakata.array_remove_item(e.vakata.array_unique(a),"#"),s=a.length?e(this.element[0].querySelectorAll("#"+e.map(a,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))):e(),this.element.find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),s=s.add(this._data.search.dom),this._data.search.smc&&this._data.search.dom.children(".jstree-children").find(".jstree-node").show(),s.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){e(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")})}},this)).on("search.jstree",e.proxy(function(t,n){this._data.search.som&&n.nodes.length&&(this.element.find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),this._data.search.smc&&n.nodes.children(".jstree-children").find(".jstree-node").show(),n.nodes.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){e(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")}))},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.nodes.length&&this.element.find(".jstree-node").css("display","").filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last")},this))},this.search=function(n,i,r,o,a,s){if(n===!1||""===e.trim(n.toString()))return this.clear_search();o=this.get_node(o),o=o&&o.id?o.id:null,n=n.toString();var l=this.settings.search,c=!!l.ajax&&l.ajax,d=this._model.data,u=null,h=[],f=[];return this._data.search.res.length&&!a&&this.clear_search(),r===t&&(r=l.show_only_matches),s===t&&(s=l.show_only_matches_children),i||c===!1?(a||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=r,this._data.search.smc=s),u=new e.vakata.search(n,(!0),{caseSensitive:l.case_sensitive,fuzzy:l.fuzzy}),e.each(d[o?o:"#"].children_d,function(e,t){var i=d[t];i.text&&(l.search_callback&&l.search_callback.call(this,n,i)||!l.search_callback&&u.search(i.text).isMatch)&&(!l.search_leaves_only||i.state.loaded&&0===i.children.length)&&(h.push(t),f=f.concat(i.parents))}),h.length&&(f=e.vakata.array_unique(f),this._search_open(f),a?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(h,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&");
}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(h))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(h,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=h),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")),void this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:r})):e.isFunction(c)?c.call(this,n,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,r,o,a)},!0)},this),o):(c=e.extend({},c),c.data||(c.data={}),c.data.str=n,o&&(c.data.inside=o),e.ajax(c).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(c)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,r,o,a)},!0)},this)))},this.clear_search=function(){this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search"),this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this._search_open=function(t){var n=this;e.each(t.concat([]),function(i,r){if("#"===r)return!0;try{r=e("#"+r.replace(e.jstree.idregex,"\\$&"),n.element)}catch(o){}r&&r.length&&n.is_closed(r)&&(n._data.search.opn.push(r[0].id),n.open_node(r,function(){n._search_open(t)},0))})}},function(e){e.vakata.search=function(t,n,i){i=i||{},i=e.extend({},e.vakata.search.defaults,i),i.fuzzy!==!1&&(i.fuzzy=!0),t=i.caseSensitive?t:t.toLowerCase();var r,o,a,s,l=i.location,c=i.distance,d=i.threshold,u=t.length;return u>32&&(i.fuzzy=!1),i.fuzzy&&(r=1<<u-1,o=function(){var e={},n=0;for(n=0;u>n;n++)e[t.charAt(n)]=0;for(n=0;u>n;n++)e[t.charAt(n)]|=1<<u-n-1;return e}(),a=function(e,t){var n=e/u,i=Math.abs(l-t);return c?n+i/c:i?1:n}),s=function(e){if(e=i.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!i.fuzzy)return{isMatch:!1,score:1};var n,s,c,h,f,p,g,m,v,y=e.length,b=d,_=e.indexOf(t,l),w=u+y,x=1,C=[];for(-1!==_&&(b=Math.min(a(0,_),b),_=e.lastIndexOf(t,l+u),-1!==_&&(b=Math.min(a(0,_),b))),_=-1,n=0;u>n;n++){for(c=0,h=w;h>c;)a(n,l+h)<=b?c=h:w=h,h=Math.floor((w-c)/2+c);for(w=h,p=Math.max(1,l-h+1),g=Math.min(l+h,y)+u,m=new Array(g+2),m[g+1]=(1<<n)-1,s=g;s>=p;s--)if(v=o[e.charAt(s-1)],m[s]=0===n?(m[s+1]<<1|1)&v:(m[s+1]<<1|1)&v|((f[s+1]|f[s])<<1|1)|f[s+1],m[s]&r&&(x=a(n,s-1),b>=x)){if(b=x,_=s-1,C.push(_),!(_>l))break;p=Math.max(1,2*l-_)}if(a(n+1,l)>b)break;f=m}return{isMatch:_>=0,score:x}},n===!0?{search:s}:s(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,n){var i,r;if(t=this.get_node(t),t&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(i=0,r=t.children_d.length;r>i;i++)this.sort(t.children_d[i],!1)}};var f=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){f&&clearTimeout(f),f=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(n){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.element.one("set_state.jstree",function(n,i){i.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={"#":{},"default":{}},e.jstree.plugins.types=function(n,i){this.init=function(e,n){var r,o;if(n&&n.types&&n.types["default"])for(r in n.types)if("default"!==r&&"#"!==r&&n.types.hasOwnProperty(r))for(o in n.types["default"])n.types["default"].hasOwnProperty(o)&&n.types[r][o]===t&&(n.types[r][o]=n.types["default"][o]);i.init.call(this,e,n),this._model.data["#"].type="#"},this.refresh=function(e,t){i.refresh.call(this,e,t),this._model.data["#"].type="#"},this.bind=function(){this.element.on("model.jstree",e.proxy(function(e,n){var i,r,o=this._model.data,a=n.nodes,s=this.settings.types,l="default";for(i=0,r=a.length;r>i;i++)l="default",o[a[i]].original&&o[a[i]].original.type&&s[o[a[i]].original.type]&&(l=o[a[i]].original.type),o[a[i]].data&&o[a[i]].data.jstree&&o[a[i]].data.jstree.type&&s[o[a[i]].data.jstree.type]&&(l=o[a[i]].data.jstree.type),o[a[i]].type=l,o[a[i]].icon===!0&&s[l].icon!==t&&(o[a[i]].icon=s[l].icon);o["#"].type="#"},this)),i.bind.call(this)},this.get_json=function(t,n,r){var o,a,s=this._model.data,l=n?e.extend(!0,{},n,{no_id:!1}):{},c=i.get_json.call(this,t,l,r);if(c===!1)return!1;if(e.isArray(c))for(o=0,a=c.length;a>o;o++)c[o].type=c[o].id&&s[c[o].id]&&s[c[o].id].type?s[c[o].id].type:"default",n&&n.no_id&&(delete c[o].id,c[o].li_attr&&c[o].li_attr.id&&delete c[o].li_attr.id,c[o].a_attr&&c[o].a_attr.id&&delete c[o].a_attr.id);else c.type=c.id&&s[c.id]&&s[c.id].type?s[c.id].type:"default",n&&n.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,i=t.length;i>n;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,r,o,a,s){if(i.check.call(this,n,r,o,a,s)===!1)return!1;r=r&&r.id?r:this.get_node(r),o=o&&o.id?o:this.get_node(o);var l,c,d,u,h=r&&r.id?s&&s.origin?s.origin:e.jstree.reference(r.id):null;switch(h=h&&h._model&&h._model.data?h._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(r.id,o.children)){if(l=this.get_rules(o),l.max_children!==t&&-1!==l.max_children&&l.max_children===o.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(r.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})},!1;if(h&&r.children_d&&r.parents){for(c=0,d=0,u=r.children_d.length;u>d;d++)c=Math.max(c,h[r.children_d[d]].parents.length);c=c-r.parents.length+1}(0>=c||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})},!1;o=this.get_node(o.parent),l=this.get_rules(o),c++}while(o)}}return!0},this.get_rules=function(e){if(e=this.get_node(e),!e)return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return t=this.get_node(t),!!t&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,i){var r,o,a,s,l;if(e.isArray(n)){for(n=n.slice(),o=0,a=n.length;a>o;o++)this.set_type(n[o],i);return!0}return r=this.settings.types,n=this.get_node(n),!(!r[i]||!n)&&(s=n.type,l=this.get_icon(n),n.type=i,(l===!0||r[s]&&r[s].icon!==t&&l===r[s].icon)&&this.set_icon(n,r[i].icon===t||r[i].icon),!0)}},e.jstree.defaults.unique={case_sensitive:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,i){this.check=function(t,n,r,o,a){if(i.check.call(this,t,n,r,o,a)===!1)return!1;if(n=n&&n.id?n:this.get_node(n),r=r&&r.id?r:this.get_node(r),!r||!r.children)return!0;var s,l,c="rename_node"===t?o:n.text,d=[],u=this.settings.unique.case_sensitive,h=this._model.data;for(s=0,l=r.children.length;l>s;s++)d.push(u?h[r.children[s]].text:h[r.children[s]].text.toLowerCase());switch(u||(c=c.toLowerCase()),t){case"delete_node":return!0;case"rename_node":return s=-1===e.inArray(c,d)||n.text&&n.text[u?"toString":"toLowerCase"]()===c,s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s;case"create_node":return s=-1===e.inArray(c,d),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s;case"copy_node":return s=-1===e.inArray(c,d),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s;case"move_node":return s=n.parent===r.id&&(!a||!a.is_multi)||-1===e.inArray(c,d),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s}return!0},this.create_node=function(n,r,o,a,s){if(!r||r.text===t){if(null===n&&(n="#"),n=this.get_node(n),!n)return i.create_node.call(this,n,r,o,a,s);if(o=o===t?"last":o,!o.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return i.create_node.call(this,n,r,o,a,s);r||(r={});var l,c,d,u,h,f=this._model.data,p=this.settings.unique.case_sensitive,g=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),d=[],u=0,h=n.children.length;h>u;u++)d.push(p?f[n.children[u]].text:f[n.children[u]].text.toLowerCase());for(u=1;-1!==e.inArray(p?c:c.toLowerCase(),d);)c=g.call(this,l,++u).toString();r.text=c}return i.create_node.call(this,n,r,o,a,s)}};var p=d.createElement("DIV");if(p.setAttribute("unselectable","on"),p.setAttribute("role","presentation"),p.className="jstree-wholerow",p.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,i,r=!1;for(n=0,i=t.selected.length;i>n;n++)r=this.get_node(t.selected[n],!0),r&&r.length&&r.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,i,r,o){if(t=n.redraw_node.apply(this,arguments)){var a=p.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(a.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(a.className+=" jstree-wholerow-hovered"),t.insertBefore(a,t.childNodes[0])}return t}},d.registerElement&&Object&&Object.create){var g=Object.create(HTMLElement.prototype);g.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{d.registerElement("vakata-jstree",{prototype:g})}catch(m){}}}}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){Array.prototype.reduce||(Array.prototype.reduce=function(e){var t,n=Object(this),i=n.length>>>0,r=0;if(2===arguments.length)t=arguments[1];else{for(;i>r&&!(r in n);)r++;if(r>=i)throw new TypeError("Reduce of empty array with no initial value");t=n[r++]}for(;i>r;r++)r in n&&(t=e(t,n[r],r,n));return t}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(e){for(var t=Object(this),n=t.length>>>0,i=[],r=arguments.length>=2?arguments[1]:void 0,o=0;n>o;o++)if(o in t){var a=t[o];e.call(r,a,o,t)&&i.push(a)}return i}),Array.prototype.map||(Array.prototype.map=function(e,t){var n,i,r;if(null===this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=new Array(a),r=0;a>r;){var s,l;r in o&&(s=o[r],l=e.call(n,s,r,o),i[r]=l),r++}return i});var t,n="function"==typeof define&&define.amd,i=function(t){var n="Comic Sans MS"===t?"Courier New":"Comic Sans MS",i=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),r=i.css("fontFamily",n).width(),o=i.css("fontFamily",t+","+n).width();return i.remove(),r!==o},r=navigator.userAgent,o=/MSIE|Trident/i.test(r);if(o){var a=/MSIE (\d+[.]\d+)/.exec(r);a&&(t=parseFloat(a[1])),a=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(r),a&&(t=parseFloat(a[1]))}var s,l={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:o,isFF:/firefox/i.test(r),isWebkit:/webkit/i.test(r),isSafari:/safari/i.test(r),browserVersion:t,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:n,hasCodeMirror:n?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:i,isW3CRangeSupport:!!document.createRange},c=function(){var t=function(e){return function(t){return e===t}},n=function(e,t){return e===t},i=function(e){return function(t,n){return t[e]===n[e]}},r=function(){return!0},o=function(){return!1},a=function(e){return function(){return!e.apply(e,arguments)}},s=function(e,t){return function(n){return e(n)&&t(n)}},l=function(e){return e},c=0,d=function(e){var t=++c+"";return e?e+t:t},u=function(t){var n=e(document);return{top:t.top+n.scrollTop(),left:t.left+n.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},h=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},f=function(e,t){return t=t||"",t+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")};return{eq:t,eq2:n,peq2:i,ok:r,fail:o,self:l,not:a,and:s,uniqueId:d,rect2bnd:u,invertObject:h,namespaceToCamel:f}}(),d=function(){var t=function(e){return e[0]},n=function(e){return e[e.length-1]},i=function(e){return e.slice(0,e.length-1)},r=function(e){return e.slice(1)},o=function(e,t){for(var n=0,i=e.length;i>n;n++){var r=e[n];if(t(r))return r}},a=function(e,t){for(var n=0,i=e.length;i>n;n++)if(!t(e[n]))return!1;return!0},s=function(t,n){return e.inArray(n,t)},l=function(e,t){return-1!==s(e,t)},d=function(e,t){return t=t||c.self,e.reduce(function(e,n){return e+t(n)},0)},u=function(e){for(var t=[],n=-1,i=e.length;++n<i;)t[n]=e[n];return t},h=function(e,i){if(!e.length)return[];var o=r(e);return o.reduce(function(e,t){var r=n(e);return i(n(r),t)?r[r.length]=t:e[e.length]=[t],e},[[t(e)]])},f=function(e){for(var t=[],n=0,i=e.length;i>n;n++)e[n]&&t.push(e[n]);return t},p=function(e){for(var t=[],n=0,i=e.length;i>n;n++)l(t,e[n])||t.push(e[n]);return t},g=function(e,t){var n=s(e,t);return-1===n?null:e[n+1]},m=function(e,t){var n=s(e,t);return-1===n?null:e[n-1]};return{head:t,last:n,initial:i,tail:r,prev:m,next:g,find:o,contains:l,all:a,sum:d,from:u,clusterBy:h,compact:f,unique:p}}(),u=String.fromCharCode(160),h="\ufeff",f=function(){var t=function(t){return t&&e(t).hasClass("note-editable")},n=function(t){return t&&e(t).hasClass("note-control-sizing")},i=function(t){var n;if(t.hasClass("note-air-editor")){var i=d.last(t.attr("id").split("-"));return n=function(t){return function(){return e(t+i)}},{editor:function(){return t},holder:function(){return t.data("holder")},editable:function(){return t},popover:n("#note-popover-"),handle:n("#note-handle-"),dialog:n("#note-dialog-")}}n=function(e,n){return n=n||t,function(){return n.find(e)}};var r=t.data("options"),o=r&&r.dialogsInBody?e(document.body):null;return{editor:function(){return t},holder:function(){return t.data("holder")},dropzone:n(".note-dropzone"),toolbar:n(".note-toolbar"),editable:n(".note-editable"),codable:n(".note-codable"),statusbar:n(".note-statusbar"),popover:n(".note-popover"),handle:n(".note-handle"),dialog:n(".note-dialog",o)}},r=function(t){var n=e(t).closest(".note-editor, .note-air-editor, .note-air-layout");if(!n.length)return null;var r;return r=n.is(".note-editor, .note-air-editor")?n:e("#note-editor-"+d.last(n.attr("id").split("-"))),i(r)},o=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},a=function(e){return e&&3===e.nodeType},s=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(e.nodeName.toUpperCase())},p=function(e){return!t(e)&&(e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase()))},g=o("LI"),m=function(e){return p(e)&&!g(e)},v=o("TABLE"),y=function(e){return!(C(e)||b(e)||_(e)||p(e)||v(e)||x(e))},b=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},_=o("HR"),w=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},x=o("BLOCKQUOTE"),C=function(e){return w(e)||x(e)||t(e)},k=o("A"),S=function(e){return y(e)&&!!I(e,p)},T=function(e){return y(e)&&!I(e,p)},D=o("BODY"),A=function(e,t){return e.nextSibling===t||e.previousSibling===t},j=function(e,t){t=t||c.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},L=l.isMSIE&&l.browserVersion<11?"&nbsp;":"<br>",N=function(e){return a(e)?e.nodeValue.length:e.childNodes.length},E=function(e){var t=N(e);return 0===t||(!a(e)&&1===t&&e.innerHTML===L||!(!d.all(e.childNodes,a)||""!==e.innerHTML))},M=function(e){s(e)||N(e)||(e.innerHTML=L)},I=function(e,n){for(;e;){if(n(e))return e;if(t(e))break;e=e.parentNode}return null},O=function(e,n){for(e=e.parentNode;e&&1===N(e);){if(n(e))return e;if(t(e))break;e=e.parentNode}return null},P=function(e,n){n=n||c.fail;var i=[];return I(e,function(e){return t(e)||i.push(e),n(e)}),i},$=function(e,t){var n=P(e);return d.last(n.filter(t))},F=function(t,n){for(var i=P(t),r=n;r;r=r.parentNode)if(e.inArray(r,i)>-1)return r;return null},H=function(e,t){t=t||c.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},R=function(e,t){t=t||c.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n},U=function(e,t){var n=[];return t=t||c.ok,function i(r){e!==r&&t(r)&&n.push(r);for(var o=0,a=r.childNodes.length;a>o;o++)i(r.childNodes[o])}(e),n},W=function(t,n){var i=t.parentNode,r=e("<"+n+">")[0];return i.insertBefore(r,t),r.appendChild(t),r},B=function(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e},z=function(t,n){return e.each(n,function(e,n){t.appendChild(n)}),t},q=function(e){return 0===e.offset},V=function(e){return e.offset===N(e.node)},K=function(e){return q(e)||V(e)},Y=function(e,t){for(;e&&e!==t;){if(0!==Q(e))return!1;e=e.parentNode}return!0},X=function(e,t){for(;e&&e!==t;){if(Q(e)!==N(e.parentNode)-1)return!1;e=e.parentNode}return!0},G=function(e,t){return q(e)&&Y(e.node,t)},J=function(e,t){return V(e)&&X(e.node,t)},Q=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},Z=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},ee=function(e,n){var i,r;if(0===e.offset){if(t(e.node))return null;i=e.node.parentNode,r=Q(e.node)}else Z(e.node)?(i=e.node.childNodes[e.offset-1],r=N(i)):(i=e.node,r=n?0:e.offset-1);return{node:i,offset:r}},te=function(e,n){var i,r;if(N(e.node)===e.offset){if(t(e.node))return null;i=e.node.parentNode,r=Q(e.node)+1}else Z(e.node)?(i=e.node.childNodes[e.offset],r=0):(i=e.node,r=n?N(e.node):e.offset+1);return{node:i,offset:r}},ne=function(e,t){return e.node===t.node&&e.offset===t.offset},ie=function(e){if(a(e.node)||!Z(e.node)||E(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!s(t)||n&&!s(n))},re=function(e,t){for(;e;){if(t(e))return e;e=ee(e)}return null},oe=function(e,t){for(;e;){if(t(e))return e;e=te(e)}return null},ae=function(e){if(!a(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==u},se=function(e,t,n,i){for(var r=e;r&&(n(r),!ne(r,t));){var o=i&&e.node!==r.node&&t.node!==r.node;r=te(r,o)}},le=function(e,t){var n=P(t,c.eq(e));return n.map(Q).reverse()},ce=function(e,t){for(var n=e,i=0,r=t.length;r>i;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},de=function(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint;if(K(e)&&(a(e.node)||i)){if(q(e))return e.node;if(V(e))return e.node.nextSibling}if(a(e.node))return e.node.splitText(e.offset);var r=e.node.childNodes[e.offset],o=B(e.node.cloneNode(!1),e.node);return z(o,R(r)),n||(M(e.node),M(o)),o},ue=function(e,t,n){var i=P(t.node,c.eq(e));return i.length?1===i.length?de(t,n):i.reduce(function(e,i){return e===t.node&&(e=de(t,n)),de({node:i,offset:e?f.position(e):N(i)},n)}):null},he=function(e,t){var n,i,r=t?p:C,o=P(e.node,r),a=d.last(o)||e.node;r(a)?(n=o[o.length-2],i=a):(n=a,i=n.parentNode);var s=n&&ue(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return s||i!==e.node||(s=e.node.childNodes[e.offset]),{rightNode:s,container:i}},fe=function(e){return document.createElement(e)},pe=function(e){return document.createTextNode(e)},ge=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var i,r,o=[];for(i=0,r=e.childNodes.length;r>i;i++)o.push(e.childNodes[i]);for(i=0,r=o.length;r>i;i++)n.insertBefore(o[i],e)}n.removeChild(e)}},me=function(e,n){for(;e&&!t(e)&&n(e);){var i=e.parentNode;ge(e),e=i}},ve=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=fe(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),z(n,d.from(e.childNodes)),B(n,e),ge(e),n},ye=o("TEXTAREA"),be=function(e,t){var n=ye(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n},_e=function(t,n){var i=be(t);if(n){var r=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(r,function(e,t,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(i||r?"\n":"")}),i=e.trim(i)}return i};return{NBSP_CHAR:u,ZERO_WIDTH_NBSP_CHAR:h,blank:L,emptyPara:"<p>"+L+"</p>",makePredByNodeName:o,isEditable:t,isControlSizing:n,buildLayoutInfo:i,makeLayoutInfo:r,isText:a,isVoid:s,isPara:p,isPurePara:m,isInline:y,isBlock:c.not(y),isBodyInline:T,isBody:D,isParaInline:S,isList:b,isTable:v,isCell:w,isBlockquote:x,isBodyContainer:C,isAnchor:k,isDiv:o("DIV"),isLi:g,isBR:o("BR"),isSpan:o("SPAN"),isB:o("B"),isU:o("U"),isS:o("S"),isI:o("I"),isImg:o("IMG"),isTextarea:ye,isEmpty:E,isEmptyAnchor:c.and(k,E),isClosestSibling:A,withClosestSiblings:j,nodeLength:N,isLeftEdgePoint:q,isRightEdgePoint:V,isEdgePoint:K,isLeftEdgeOf:Y,isRightEdgeOf:X,isLeftEdgePointOf:G,isRightEdgePointOf:J,prevPoint:ee,nextPoint:te,isSamePoint:ne,isVisiblePoint:ie,prevPointUntil:re,nextPointUntil:oe,isCharPoint:ae,walkPoint:se,ancestor:I,singleChildAncestor:O,listAncestor:P,lastAncestor:$,listNext:R,listPrev:H,listDescendant:U,commonAncestor:F,wrap:W,insertAfter:B,appendChildNodes:z,position:Q,hasChildren:Z,makeOffsetPath:le,fromOffsetPath:ce,splitTree:ue,splitPoint:he,create:fe,createText:pe,remove:ge,removeWhile:me,replace:ve,html:_e,value:be}}(),p=function(){var t=function(e,t){var n,i,r=e.parentElement(),o=document.body.createTextRange(),a=d.from(r.childNodes);for(n=0;n<a.length;n++)if(!f.isText(a[n])){if(o.moveToElementText(a[n]),o.compareEndPoints("StartToStart",e)>=0)break;i=a[n]}if(0!==n&&f.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(i||r),s.collapse(!i),l=i?i.nextSibling:r.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&f.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),r=l,n=u}return{cont:r,offset:n}},n=function(e){var t=function(e,n){var i,r;if(f.isText(e)){var o=f.listPrev(e,c.not(f.isText)),a=d.last(o).previousSibling;i=a||e.parentNode,n+=d.sum(d.tail(o),f.nodeLength),r=!a}else{if(i=e.childNodes[n]||e,f.isText(i))return t(i,0);n=0,r=!1}return{node:i,collapseToStart:r,offset:n}},n=document.body.createTextRange(),i=t(e.node,e.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n},i=function(t,r,o,a){this.sc=t,this.so=r,this.ec=o,this.eo=a;var s=function(){if(l.isW3CRangeSupport){var e=document.createRange();return e.setStart(t,r),e.setEnd(o,a),e}var i=n({node:t,offset:r});return i.setEndPoint("EndToEnd",n({node:o,offset:a})),i};this.getPoints=function(){return{sc:t,so:r,ec:o,eo:a}},this.getStartPoint=function(){return{node:t,offset:r}},this.getEndPoint=function(){return{node:o,offset:a}},this.select=function(){var e=s();if(l.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},this.normalize=function(){var e=function(e,t){if(f.isVisiblePoint(e)&&!f.isEdgePoint(e)||f.isVisiblePoint(e)&&f.isRightEdgePoint(e)&&!t||f.isVisiblePoint(e)&&f.isLeftEdgePoint(e)&&t||f.isVisiblePoint(e)&&f.isBlock(e.node)&&f.isEmpty(e.node))return e;var n=f.ancestor(e.node,f.isBlock);if((f.isLeftEdgePointOf(e,n)||f.isVoid(f.prevPoint(e).node))&&!t||(f.isRightEdgePointOf(e,n)||f.isVoid(f.nextPoint(e).node))&&t){if(f.isVisiblePoint(e))return e;t=!t}var i=t?f.nextPointUntil(f.nextPoint(e),f.isVisiblePoint):f.prevPointUntil(f.prevPoint(e),f.isVisiblePoint);return i||e},t=e(this.getEndPoint(),!1),n=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new i(n.node,n.offset,t.node,t.offset)},this.nodes=function(e,t){e=e||c.ok;var n=t&&t.includeAncestor,i=t&&t.fullyContains,r=this.getStartPoint(),o=this.getEndPoint(),a=[],s=[];return f.walkPoint(r,o,function(t){if(!f.isEditable(t.node)){var r;i?(f.isLeftEdgePoint(t)&&s.push(t.node),f.isRightEdgePoint(t)&&d.contains(s,t.node)&&(r=t.node)):r=n?f.ancestor(t.node,e):t.node,r&&e(r)&&a.push(r)}},!0),d.unique(a)},this.commonAncestor=function(){return f.commonAncestor(t,o)},this.expand=function(e){var n=f.ancestor(t,e),s=f.ancestor(o,e);if(!n&&!s)return new i(t,r,o,a);var l=this.getPoints();return n&&(l.sc=n,l.so=0),s&&(l.ec=s,l.eo=f.nodeLength(s)),new i(l.sc,l.so,l.ec,l.eo)},this.collapse=function(e){return e?new i(t,r,t,r):new i(o,a,o,a)},this.splitText=function(){var e=t===o,n=this.getPoints();return f.isText(o)&&!f.isEdgePoint(this.getEndPoint())&&o.splitText(a),f.isText(t)&&!f.isEdgePoint(this.getStartPoint())&&(n.sc=t.splitText(r),n.so=0,e&&(n.ec=n.sc,n.eo=a-r)),new i(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),r=f.prevPointUntil(t.getStartPoint(),function(e){return!d.contains(n,e.node)}),o=[];return e.each(n,function(e,t){var n=t.parentNode;r.node!==n&&1===f.nodeLength(n)&&o.push(n),f.remove(t,!1)}),e.each(o,function(e,t){f.remove(t,!1)}),new i(r.node,r.offset,r.node,r.offset).normalize()};var u=function(e){return function(){var n=f.ancestor(t,e);return!!n&&n===f.ancestor(o,e)}};this.isOnEditable=u(f.isEditable),this.isOnList=u(f.isList),this.isOnAnchor=u(f.isAnchor),this.isOnCell=u(f.isCell),this.isLeftEdgeOf=function(e){if(!f.isLeftEdgePoint(this.getStartPoint()))return!1;var t=f.ancestor(this.sc,e);return t&&f.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return t===o&&r===a},this.wrapBodyInlineWithPara=function(){if(f.isBodyContainer(t)&&f.isEmpty(t))return t.innerHTML=f.emptyPara,new i(t.firstChild,0,t.firstChild,0);var e=this.normalize();if(f.isParaInline(t)||f.isPara(t))return e;var n;if(f.isInline(e.sc)){var r=f.listAncestor(e.sc,c.not(f.isInline));n=d.last(r),f.isInline(n)||(n=r[r.length-2]||e.sc.childNodes[e.so])}else n=e.sc.childNodes[e.so>0?e.so-1:0];var o=f.listPrev(n,f.isParaInline).reverse();if(o=o.concat(f.listNext(n.nextSibling,f.isParaInline)),o.length){var a=f.wrap(d.head(o),"p");f.appendChildNodes(a,d.tail(o))}return this.normalize()},this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=f.splitPoint(t.getStartPoint(),f.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},this.pasteHTML=function(t){var n=e("<div></div>").html(t)[0],i=d.from(n.childNodes),r=this.wrapBodyInlineWithPara().deleteContents();
return i.reverse().map(function(e){return r.insertNode(e)}).reverse()},this.toString=function(){var e=s();return l.isW3CRangeSupport?e.toString():e.text},this.getWordRange=function(e){var t=this.getEndPoint();if(!f.isCharPoint(t))return this;var n=f.prevPointUntil(t,function(e){return!f.isCharPoint(e)});return e&&(t=f.nextPointUntil(t,function(e){return!f.isCharPoint(e)})),new i(n.node,n.offset,t.node,t.offset)},this.bookmark=function(e){return{s:{path:f.makeOffsetPath(e,t),offset:r},e:{path:f.makeOffsetPath(e,o),offset:a}}},this.paraBookmark=function(e){return{s:{path:d.tail(f.makeOffsetPath(d.head(e),t)),offset:r},e:{path:d.tail(f.makeOffsetPath(d.last(e),o)),offset:a}}},this.getClientRects=function(){var e=s();return e.getClientRects()}};return{create:function(e,n,r,o){if(arguments.length)2===arguments.length&&(r=e,o=n);else if(l.isW3CRangeSupport){var a=document.getSelection();if(!a||0===a.rangeCount)return null;if(f.isBody(a.anchorNode))return null;var s=a.getRangeAt(0);e=s.startContainer,n=s.startOffset,r=s.endContainer,o=s.endOffset}else{var c=document.selection.createRange(),d=c.duplicate();d.collapse(!1);var u=c;u.collapse(!0);var h=t(u,!0),p=t(d,!1);f.isText(h.node)&&f.isLeftEdgePoint(h)&&f.isTextNode(p.node)&&f.isRightEdgePoint(p)&&p.node.nextSibling===h.node&&(h=p),e=h.cont,n=h.offset,r=p.cont,o=p.offset}return new i(e,n,r,o)},createFromNode:function(e){var t=e,n=0,i=e,r=f.nodeLength(i);return f.isVoid(t)&&(n=f.listPrev(t).length-1,t=t.parentNode),f.isBR(i)?(r=f.listPrev(i).length-1,i=i.parentNode):f.isVoid(i)&&(r=f.listPrev(i).length,i=i.parentNode),this.create(t,n,i,r)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=f.fromOffsetPath(e,t.s.path),r=t.s.offset,o=f.fromOffsetPath(e,t.e.path),a=t.e.offset;return new i(n,r,o,a)},createFromParaBookmark:function(e,t){var n=e.s.offset,r=e.e.offset,o=f.fromOffsetPath(d.head(t),e.s.path),a=f.fromOffsetPath(d.last(t),e.e.path);return new i(o,n,a,r)}}}(),g={version:"0.6.16",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,disableResizeImage:!1,shortcuts:!0,textareaAutoSync:!0,placeholder:!1,prettifyHtml:!0,iconPrefix:"fa fa-",icons:{font:{bold:"bold",italic:"italic",underline:"underline",clear:"eraser",height:"text-height",strikethrough:"strikethrough",superscript:"superscript",subscript:"subscript"},image:{image:"picture-o",floatLeft:"align-left",floatRight:"align-right",floatNone:"align-justify",shapeRounded:"square",shapeCircle:"circle-o",shapeThumbnail:"picture-o",shapeNone:"times",remove:"trash-o"},link:{link:"link",unlink:"unlink",edit:"edit"},table:{table:"table"},hr:{insert:"minus"},style:{style:"magic"},lists:{unordered:"list-ul",ordered:"list-ol"},options:{help:"question",fullscreen:"arrows-alt",codeview:"code"},paragraph:{paragraph:"align-left",outdent:"outdent",indent:"indent",left:"align-left",center:"align-center",right:"align-right",justify:"align-justify"},color:{recent:"font"},history:{undo:"undo",redo:"repeat"},misc:{check:"check"}},dialogsInBody:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],plugin:{},airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(e){return-1!==e.indexOf("@")&&-1===e.indexOf(":")&&(e="mailto:"+e),e},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}}},m=function(){var t=function(t){return e.Deferred(function(n){e.extend(new FileReader,{onload:function(e){var t=e.target.result;n.resolve(t)},onerror:function(){n.reject(this)}}).readAsDataURL(t)}).promise()},n=function(t,n){return e.Deferred(function(i){var r=e("<img>");r.one("load",function(){r.off("error abort"),i.resolve(r)}).one("error abort",function(){r.off("load").detach(),i.reject(r)}).css({display:"none"}).appendTo(document.body).attr({src:t,"data-filename":n})}).promise()};return{readFileAsDataURL:t,createImage:n}}(),v=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(e){return d.contains([8,9,13,32],e)},isMove:function(e){return d.contains([37,38,39,40],e)},nameFromCode:c.invertObject(e),code:e}}(),y=function(e){var t=[],n=-1,i=e[0],r=function(){var t=p.create(),n={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(i):n}},o=function(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&p.createFromBookmark(i,t.bookmark).select()};this.undo=function(){e.html()!==t[n].contents&&this.recordUndo(),n>0&&(n--,o(t[n]))},this.redo=function(){t.length-1>n&&(n++,o(t[n]))},this.recordUndo=function(){n++,t.length>n&&(t=t.slice(0,n)),t.push(r())},this.recordUndo()},b=function(){var t=function(t,n){if(l.jqueryVersion<1.9){var i={};return e.each(n,function(e,n){i[n]=t.css(n)}),i}return t.css.call(t,n)};this.fromNode=function(e){var n=["font-family","font-size","text-align","list-style-type","line-height"],i=t(e,n)||{};return i["font-size"]=parseInt(i["font-size"],10),i},this.stylePara=function(t,n){e.each(t.nodes(f.isPara,{includeAncestor:!0}),function(t,i){e(i).css(n)})},this.styleNodes=function(t,n){t=t.splitText();var i=n&&n.nodeName||"SPAN",r=!(!n||!n.expandClosestSibling),o=!(!n||!n.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(f.create(i))];var a=f.makePredByNodeName(i),s=t.nodes(f.isText,{fullyContains:!0}).map(function(e){return f.singleChildAncestor(e,a)||f.wrap(e,i)});if(r){if(o){var l=t.nodes();a=c.and(a,function(e){return d.contains(l,e)})}return s.map(function(t){var n=f.withClosestSiblings(t,a),i=d.head(n),r=d.tail(n);return e.each(r,function(e,t){f.appendChildNodes(i,t.childNodes),f.remove(t)}),d.head(n)})}return s},this.current=function(t){var n=e(f.isText(t.sc)?t.sc.parentNode:t.sc),i=this.fromNode(n);if(i["font-bold"]=document.queryCommandState("bold")?"bold":"normal",i["font-italic"]=document.queryCommandState("italic")?"italic":"normal",i["font-underline"]=document.queryCommandState("underline")?"underline":"normal",i["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",i["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",i["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",t.isOnList()){var r=["circle","disc","disc-leading-zero","square"],o=e.inArray(i["list-style-type"],r)>-1;i["list-style"]=o?"unordered":"ordered"}else i["list-style"]="none";var a=f.ancestor(t.sc,f.isPara);if(a&&a.style["line-height"])i["line-height"]=a.style.lineHeight;else{var s=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=s.toFixed(1)}return i.anchor=t.isOnAnchor()&&f.ancestor(t.sc,f.isAnchor),i.ancestors=f.listAncestor(t.sc,f.isEditable),i.range=t,i}},_=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var t=this,n=p.create().wrapBodyInlineWithPara(),i=n.nodes(f.isPara,{includeAncestor:!0}),r=d.clusterBy(i,c.peq2("parentNode"));e.each(r,function(n,i){var r=d.head(i);f.isLi(r)?t.wrapList(i,r.parentNode.nodeName):e.each(i,function(t,n){e(n).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()},this.outdent=function(){var t=this,n=p.create().wrapBodyInlineWithPara(),i=n.nodes(f.isPara,{includeAncestor:!0}),r=d.clusterBy(i,c.peq2("parentNode"));e.each(r,function(n,i){var r=d.head(i);f.isLi(r)?t.releaseList([i]):e.each(i,function(t,n){e(n).css("marginLeft",function(e,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),n.select()},this.toggleList=function(t){var n=this,i=p.create().wrapBodyInlineWithPara(),r=i.nodes(f.isPara,{includeAncestor:!0}),o=i.paraBookmark(r),a=d.clusterBy(r,c.peq2("parentNode"));if(d.find(r,f.isPurePara)){var s=[];e.each(a,function(e,i){s=s.concat(n.wrapList(i,t))}),r=s}else{var l=i.nodes(f.isList,{includeAncestor:!0}).filter(function(n){return!e.nodeName(n,t)});l.length?e.each(l,function(e,n){f.replace(n,t)}):r=this.releaseList(a,!0)}p.createFromParaBookmark(o,r).select()},this.wrapList=function(e,t){var n=d.head(e),i=d.last(e),r=f.isList(n.previousSibling)&&n.previousSibling,o=f.isList(i.nextSibling)&&i.nextSibling,a=r||f.insertAfter(f.create(t||"UL"),i);return e=e.map(function(e){return f.isPurePara(e)?f.replace(e,"LI"):e}),f.appendChildNodes(a,e),o&&(f.appendChildNodes(a,d.from(o.childNodes)),f.remove(o)),e},this.releaseList=function(t,n){var i=[];return e.each(t,function(t,r){var o=d.head(r),a=d.last(r),s=n?f.lastAncestor(o,f.isList):o.parentNode,l=s.childNodes.length>1?f.splitTree(s,{node:a.parentNode,offset:f.position(a)+1},{isSkipPaddingBlankHTML:!0}):null,c=f.splitTree(s,{node:o.parentNode,offset:f.position(o)},{isSkipPaddingBlankHTML:!0});r=n?f.listDescendant(c,f.isLi):d.from(c.childNodes).filter(f.isLi),(n||!f.isList(s.parentNode))&&(r=r.map(function(e){return f.replace(e,"P")})),e.each(d.from(r).reverse(),function(e,t){f.insertAfter(t,s)});var u=d.compact([s,c,l]);e.each(u,function(t,n){var i=[n].concat(f.listDescendant(n,f.isList));e.each(i.reverse(),function(e,t){f.nodeLength(t)||f.remove(t,!0)})}),i=i.concat(r)}),i}},w=function(){var t=new _;this.insertTab=function(e,t,n){var i=f.createText(new Array(n+1).join(f.NBSP_CHAR));t=t.deleteContents(),t.insertNode(i,!0),t=p.create(i,n),t.select()},this.insertParagraph=function(){var n=p.create();n=n.deleteContents(),n=n.wrapBodyInlineWithPara();var i,r=f.ancestor(n.sc,f.isPara);if(r){if(f.isEmpty(r)&&f.isLi(r))return void t.toggleList(r.parentNode.nodeName);i=f.splitTree(r,n.getStartPoint());var o=f.listDescendant(r,f.isEmptyAnchor);o=o.concat(f.listDescendant(i,f.isEmptyAnchor)),e.each(o,function(e,t){f.remove(t)})}else{var a=n.sc.childNodes[n.so];i=e(f.emptyPara)[0],a?n.sc.insertBefore(i,a):n.sc.appendChild(i)}p.create(i,0).normalize().select()}},x=function(){this.tab=function(e,t){var n=f.ancestor(e.commonAncestor(),f.isCell),i=f.ancestor(n,f.isTable),r=f.listDescendant(i,f.isCell),o=d[t?"prev":"next"](r,n);o&&p.create(o,0).select()},this.createTable=function(t,n){for(var i,r=[],o=0;t>o;o++)r.push("<td>"+f.blank+"</td>");i=r.join("");for(var a,s=[],l=0;n>l;l++)s.push("<tr>"+i+"</tr>");return a=s.join(""),e('<table class="table table-bordered">'+a+"</table>")[0]}},C="bogus",k=function(t){var n=this,i=new b,r=new x,o=new w,a=new _;this.createRange=function(e){return this.focus(e),p.create()},this.saveRange=function(e,t){this.focus(e),e.data("range",p.create()),t&&p.create().collapse().select()},this.saveNode=function(e){for(var t=[],n=0,i=e[0].childNodes.length;i>n;n++)t.push(e[0].childNodes[n]);e.data("childNodes",t)},this.restoreRange=function(e){var t=e.data("range");t&&(t.select(),this.focus(e))},this.restoreNode=function(e){e.html("");for(var t=e.data("childNodes"),n=0,i=t.length;i>n;n++)e[0].appendChild(t[n])},this.currentStyle=function(e){var t=p.create(),n=t&&t.isOnEditable()?i.current(t.normalize()):{};return f.isImg(e)&&(n.image=e),n},this.styleFromNode=function(e){return i.fromNode(e)};var s=function(e){var n=f.makeLayoutInfo(e).holder();t.bindCustomEvent(n,e.data("callbacks"),"before.command")(e.html(),e)},c=function(e){var n=f.makeLayoutInfo(e).holder();t.bindCustomEvent(n,e.data("callbacks"),"change")(e.html(),e)};this.undo=function(e){s(e),e.data("NoteHistory").undo(),c(e)},this.redo=function(e){s(e),e.data("NoteHistory").redo(),c(e)};for(var u=this.beforeCommand=function(e){s(e),n.focus(e)},h=this.afterCommand=function(e,t){e.data("NoteHistory").recordUndo(),t||c(e)},g=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],v=0,y=g.length;y>v;v++)this[g[v]]=function(e){return function(t,n){u(t),document.execCommand(e,!1,n),h(t,!0)}}(g[v]);this.tab=function(e,t){var n=this.createRange(e);n.isCollapsed()&&n.isOnCell()?r.tab(n):(u(e),o.insertTab(e,n,t.tabsize),h(e))},this.untab=function(e){var t=this.createRange(e);t.isCollapsed()&&t.isOnCell()&&r.tab(t,!0)},this.insertParagraph=function(e){u(e),o.insertParagraph(e),h(e)},this.insertOrderedList=function(e){u(e),a.insertOrderedList(e),h(e)},this.insertUnorderedList=function(e){u(e),a.insertUnorderedList(e),h(e)},this.indent=function(e){u(e),a.indent(e),h(e)},this.outdent=function(e){u(e),a.outdent(e),h(e)},this.insertImage=function(e,n,i){m.createImage(n,i).then(function(t){u(e),t.css({display:"",width:Math.min(e.width(),t.width())}),p.create().insertNode(t[0]),p.createFromNodeAfter(t[0]).select(),h(e)}).fail(function(){var n=f.makeLayoutInfo(e).holder();t.bindCustomEvent(n,e.data("callbacks"),"image.upload.error")()})},this.insertNode=function(e,t){u(e),p.create().insertNode(t),p.createFromNodeAfter(t).select(),h(e)},this.insertText=function(e,t){u(e);var n=p.create().insertNode(f.createText(t));p.create(n,f.nodeLength(n)).select(),h(e)},this.pasteHTML=function(e,t){u(e);var n=p.create().pasteHTML(t);p.createFromNodeAfter(d.last(n)).select(),h(e)},this.formatBlock=function(e,t){u(e),t=l.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),h(e)},this.formatPara=function(e){u(e),this.formatBlock(e,"P"),h(e)};for(var v=1;6>=v;v++)this["formatH"+v]=function(e){return function(t){this.formatBlock(t,"H"+e)}}(v);this.fontSize=function(t,n){var r=p.create();if(r.isCollapsed()){var o=i.styleNodes(r),a=d.head(o);e(o).css({"font-size":n+"px"}),a&&!f.nodeLength(a)&&(a.innerHTML=f.ZERO_WIDTH_NBSP_CHAR,p.createFromNodeAfter(a.firstChild).select(),t.data(C,a))}else u(t),e(i.styleNodes(r)).css({"font-size":n+"px"}),h(t)},this.insertHorizontalRule=function(t){u(t);var n=p.create(),i=n.insertNode(e("<HR/>")[0]);i.nextSibling&&p.create(i.nextSibling,0).normalize().select(),h(t)},this.removeBogus=function(e){var t=e.data(C);if(t){var n=d.find(d.from(t.childNodes),f.isText),i=n.nodeValue.indexOf(f.ZERO_WIDTH_NBSP_CHAR);-1!==i&&n.deleteData(i,1),f.isEmpty(t)&&f.remove(t),e.removeData(C)}},this.lineHeight=function(e,t){u(e),i.stylePara(p.create(),{lineHeight:t}),h(e)},this.unlink=function(e){var t=this.createRange(e);if(t.isOnAnchor()){var n=f.ancestor(t.sc,f.isAnchor);t=p.createFromNode(n),t.select(),u(e),document.execCommand("unlink"),h(e)}},this.createLink=function(t,n,r){var o=n.url,a=n.text,s=n.isNewWindow,l=n.range||this.createRange(t),c=l.toString()!==a;r=r||f.makeLayoutInfo(t).editor().data("options"),u(t),r.onCreateLink&&(o=r.onCreateLink(o));var g=[];if(c){var m=l.insertNode(e("<A>"+a+"</A>")[0]);g.push(m)}else g=i.styleNodes(l,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});e.each(g,function(t,n){e(n).attr("href",o),s?e(n).attr("target","_blank"):e(n).removeAttr("target")});var v=p.createFromNodeBefore(d.head(g)),y=v.getStartPoint(),b=p.createFromNodeAfter(d.last(g)),_=b.getEndPoint();p.create(y.node,y.offset,_.node,_.offset).select(),h(t)},this.getLinkInfo=function(t){this.focus(t);var n=p.create().expand(f.isAnchor),i=e(d.head(n.nodes(f.isAnchor)));return{range:n,text:n.toString(),isNewWindow:!!i.length&&"_blank"===i.attr("target"),url:i.length?i.attr("href"):""}},this.color=function(e,t){var n=JSON.parse(t),i=n.foreColor,r=n.backColor;u(e),i&&document.execCommand("foreColor",!1,i),r&&document.execCommand("backColor",!1,r),h(e)},this.insertTable=function(e,t){var n=t.split("x");u(e);var i=p.create().deleteContents();i.insertNode(r.createTable(n[0],n[1])),h(e)},this.floatMe=function(e,t,n){u(e),n.removeClass("pull-left pull-right"),t&&"none"!==t&&n.addClass("pull-"+t),n.css("float",t),h(e)},this.imageShape=function(e,t,n){u(e),n.removeClass("img-rounded img-circle img-thumbnail"),t&&n.addClass(t),h(e)},this.resize=function(e,t,n){u(e),n.css({width:100*t+"%",height:""}),h(e)},this.resizeTo=function(e,t,n){var i;if(n){var r=e.y/e.x,o=t.data("ratio");i={width:o>r?e.x:e.y/o,height:o>r?e.x*o:e.y}}else i={width:e.x,height:e.y};t.css(i)},this.removeMedia=function(n,i,r){u(n),r.detach(),t.bindCustomEvent(e(),n.data("callbacks"),"media.delete")(r,n),h(n)},this.focus=function(e){e.focus(),l.isFF&&!p.create().isOnEditable()&&p.createFromNode(e[0]).normalize().collapse().select()},this.isEmpty=function(e){return f.isEmpty(e[0])||f.emptyPara===e.html()}},S=function(){this.update=function(t,n){var i=function(t,n){t.find(".dropdown-menu li a").each(function(){var t=e(this).data("value")+""==n+"";this.className=t?"checked":""})},r=function(e,n){var i=t.find(e);i.toggleClass("active",n())};if(n.image){var o=e(n.image);r('button[data-event="imageShape"][data-value="img-rounded"]',function(){return o.hasClass("img-rounded")}),r('button[data-event="imageShape"][data-value="img-circle"]',function(){return o.hasClass("img-circle")}),r('button[data-event="imageShape"][data-value="img-thumbnail"]',function(){return o.hasClass("img-thumbnail")}),r('button[data-event="imageShape"]:not([data-value])',function(){return!o.is(".img-rounded, .img-circle, .img-thumbnail")});var a=o.css("float");r('button[data-event="floatMe"][data-value="left"]',function(){return"left"===a}),r('button[data-event="floatMe"][data-value="right"]',function(){return"right"===a}),r('button[data-event="floatMe"][data-value="none"]',function(){return"left"!==a&&"right"!==a});var s=o.attr("style");return r('button[data-event="resize"][data-value="1"]',function(){return!!/(^|\s)(max-)?width\s*:\s*100%/.test(s)}),r('button[data-event="resize"][data-value="0.5"]',function(){return!!/(^|\s)(max-)?width\s*:\s*50%/.test(s)}),void r('button[data-event="resize"][data-value="0.25"]',function(){return!!/(^|\s)(max-)?width\s*:\s*25%/.test(s)})}var c=t.find(".note-fontname");if(c.length){var d=n["font-family"];if(d){for(var u=d.split(","),h=0,f=u.length;f>h&&(d=u[h].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,""),!l.isFontInstalled(d));h++);c.find(".note-current-fontname").text(d),i(c,d)}}var p=t.find(".note-fontsize");p.find(".note-current-fontsize").text(n["font-size"]),i(p,parseFloat(n["font-size"]));var g=t.find(".note-height");i(g,parseFloat(n["line-height"])),r('button[data-event="bold"]',function(){return"bold"===n["font-bold"]}),r('button[data-event="italic"]',function(){return"italic"===n["font-italic"]}),r('button[data-event="underline"]',function(){return"underline"===n["font-underline"]}),r('button[data-event="strikethrough"]',function(){return"strikethrough"===n["font-strikethrough"]}),r('button[data-event="superscript"]',function(){return"superscript"===n["font-superscript"]}),r('button[data-event="subscript"]',function(){return"subscript"===n["font-subscript"]}),r('button[data-event="justifyLeft"]',function(){return"left"===n["text-align"]||"start"===n["text-align"]}),r('button[data-event="justifyCenter"]',function(){return"center"===n["text-align"]}),r('button[data-event="justifyRight"]',function(){return"right"===n["text-align"]}),r('button[data-event="justifyFull"]',function(){return"justify"===n["text-align"]}),r('button[data-event="insertUnorderedList"]',function(){return"unordered"===n["list-style"]}),r('button[data-event="insertOrderedList"]',function(){return"ordered"===n["list-style"]})},this.updateRecentColor=function(t,n,i){var r=e(t).closest(".note-color"),o=r.find(".note-recent-color"),a=JSON.parse(o.attr("data-value"));a[n]=i,o.attr("data-value",JSON.stringify(a));var s="backColor"===n?"background-color":"color";o.find("i").css(s,i)}},T=function(){var e=new S;this.update=function(t,n){e.update(t,n)},this.updateRecentColor=function(t,n,i){e.updateRecentColor(t,n,i)},this.activate=function(e){e.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(e){e.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(e,t){var n=e.find('button[data-event="fullscreen"]');n.toggleClass("active",t)},this.updateCodeview=function(e,t){var n=e.find('button[data-event="codeview"]');n.toggleClass("active",t),t?this.deactivate(e):this.activate(e)},this.get=function(e,t){var n=f.makeLayoutInfo(e).toolbar();return n.find("[data-name="+t+"]")},this.setButtonState=function(e,t,n){n=n!==!1;var i=this.get(e,t);i.toggleClass("active",n)}},D=24,A=function(){var t=e(document);this.attach=function(e,t){t.disableResizeEditor||e.statusbar().on("mousedown",n)};var n=function(e){e.preventDefault(),e.stopPropagation();var n=f.makeLayoutInfo(e.target).editable(),i=n.offset().top-t.scrollTop(),r=f.makeLayoutInfo(e.currentTarget||e.target),o=r.editor().data("options");t.on("mousemove",function(e){var t=e.clientY-(i+D);t=o.minHeight>0?Math.max(t,o.minHeight):t,t=o.maxHeight>0?Math.min(t,o.maxHeight):t,n.height(t)}).one("mouseup",function(){t.off("mousemove")})}},j=function(){var t=new S,n=function(t,n){var i=n&&n.isAirMode,r=n&&n.isLeftTop,o=e(t),a=i?o.offset():o.position(),s=r?0:o.outerHeight(!0);return{left:a.left,top:a.top+s}},i=function(e,t){e.css({display:"block",left:t.left,top:t.top})},r=20;this.update=function(o,a,s){t.update(o,a);var l=o.find(".note-link-popover");if(a.anchor){var u=l.find("a"),h=e(a.anchor).attr("href"),f=e(a.anchor).attr("target");u.attr("href",h).html(h),f?u.attr("target","_blank"):u.removeAttr("target"),i(l,n(a.anchor,{isAirMode:s}))}else l.hide();var p=o.find(".note-image-popover");a.image?i(p,n(a.image,{isAirMode:s,isLeftTop:!0})):p.hide();var g=o.find(".note-air-popover");if(s&&a.range&&!a.range.isCollapsed()){var m=d.last(a.range.getClientRects());if(m){var v=c.rect2bnd(m);i(g,{left:Math.max(v.left+v.width/2-r,0),top:v.top+v.height})}}else g.hide()},this.updateRecentColor=function(e,t,n){e.updateRecentColor(e,t,n)},this.hide=function(e){e.children().hide()}},L=function(t){var n=e(document),i=function(i){if(f.isControlSizing(i.target)){i.preventDefault(),i.stopPropagation();var r=f.makeLayoutInfo(i.target),o=r.handle(),a=r.popover(),s=r.editable(),l=r.editor(),c=o.find(".note-control-selection").data("target"),d=e(c),u=d.offset(),h=n.scrollTop(),p=l.data("options").airMode;n.on("mousemove",function(e){t.invoke("editor.resizeTo",{x:e.clientX-u.left,y:e.clientY-(u.top-h)},d,!e.shiftKey),t.invoke("handle.update",o,{image:c},p),t.invoke("popover.update",a,{image:c},p)}).one("mouseup",function(){n.off("mousemove"),t.invoke("editor.afterCommand",s)}),d.data("ratio")||d.data("ratio",d.height()/d.width())}};this.attach=function(e){e.handle().on("mousedown",i)},this.update=function(t,n,i){var r=t.find(".note-control-selection");if(n.image){var o=e(n.image),a=i?o.offset():o.position(),s={w:o.outerWidth(!0),h:o.outerHeight(!0)};r.css({display:"block",left:a.left,top:a.top,width:s.w,height:s.h}).data("target",n.image);var l=s.w+"x"+s.h;r.find(".note-control-selection-info").text(l)}else r.hide()},this.hide=function(e){e.children().hide()}},N=function(t){var n=e(window),i=e("html, body");this.toggle=function(e){var r=e.editor(),o=e.toolbar(),a=e.editable(),s=e.codable(),l=function(e){a.css("height",e.h),s.css("height",e.h),s.data("cmeditor")&&s.data("cmeditor").setsize(null,e.h)};r.toggleClass("fullscreen");var c=r.hasClass("fullscreen");c?(a.data("orgheight",a.css("height")),n.on("resize",function(){l({h:n.height()-o.outerHeight()})}).trigger("resize"),i.css("overflow","hidden")):(n.off("resize"),l({h:a.data("orgheight")}),i.css("overflow","visible")),t.invoke("toolbar.updateFullscreen",o,c)}};l.hasCodeMirror&&(l.isSupportAmd?require(["CodeMirror"],function(e){s=e}):s=window.CodeMirror);var E=function(e){this.sync=function(t){var n=e.invoke("codeview.isActivated",t);n&&l.hasCodeMirror&&t.codable().data("cmEditor").save()},this.isActivated=function(e){var t=e.editor();return t.hasClass("codeview")},this.toggle=function(e){this.isActivated(e)?this.deactivate(e):this.activate(e)},this.activate=function(t){var n=t.editor(),i=t.toolbar(),r=t.editable(),o=t.codable(),a=t.popover(),c=t.handle(),d=n.data("options");if(o.val(f.html(r,d.prettifyHtml)),o.height(r.height()),e.invoke("toolbar.updateCodeview",i,!0),e.invoke("popover.hide",a),e.invoke("handle.hide",c),n.addClass("codeview"),o.focus(),l.hasCodeMirror){var u=s.fromTextArea(o[0],d.codemirror);if(d.codemirror.tern){var h=new s.TernServer(d.codemirror.tern);u.ternServer=h,u.on("cursorActivity",function(e){h.updateArgHints(e)})}u.setSize(null,r.outerHeight()),o.data("cmEditor",u)}},this.deactivate=function(t){var n=t.holder(),i=t.editor(),r=t.toolbar(),o=t.editable(),a=t.codable(),s=i.data("options");if(l.hasCodeMirror){var c=a.data("cmEditor");a.val(c.getValue()),c.toTextArea()}var d=f.value(a,s.prettifyHtml)||f.emptyPara,u=o.html()!==d;o.html(d),o.height(s.height?a.height():"auto"),i.removeClass("codeview"),u&&e.bindCustomEvent(n,o.data("callbacks"),"change")(o.html(),o),o.focus(),e.invoke("toolbar.updateCodeview",r,!1)}},M=function(t){var n=e(document);this.attach=function(e,t){t.airMode||t.disableDragAndDrop?n.on("drop",function(e){e.preventDefault()}):this.attachDragAndDropEvent(e,t)},this.attachDragAndDropEvent=function(i,r){var o=e(),a=i.editor(),s=i.dropzone(),l=s.find(".note-dropzone-message");n.on("dragenter",function(e){var n=t.invoke("codeview.isActivated",i),c=a.width()>0&&a.height()>0;n||o.length||!c||(a.addClass("dragover"),s.width(a.width()),s.height(a.height()),l.text(r.langInfo.image.dragImageHere)),o=o.add(e.target)}).on("dragleave",function(e){o=o.not(e.target),o.length||a.removeClass("dragover")}).on("drop",function(){o=e(),a.removeClass("dragover")}),s.on("dragenter",function(){s.addClass("hover"),l.text(r.langInfo.image.dropImage)}).on("dragleave",function(){s.removeClass("hover"),l.text(r.langInfo.image.dragImageHere)}),s.on("drop",function(n){var i=n.originalEvent.dataTransfer,r=f.makeLayoutInfo(n.currentTarget||n.target);if(i&&i.files&&i.files.length)n.preventDefault(),r.editable().focus(),t.insertImages(r,i.files);else for(var o=function(){r.holder().summernote("insertNode",this)},a=0,s=i.types.length;s>a;a++){var l=i.types[a],c=i.getData(l);l.toLowerCase().indexOf("text")>-1?r.holder().summernote("pasteHTML",c):e(c).each(o)}}).on("dragover",!1)}},I=function(t){var n;this.attach=function(o){l.isMSIE&&l.browserVersion>10||l.isFF?(n=e("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),o.editable().on("keydown",function(e){e.ctrlKey&&e.keyCode===v.code.V&&(t.invoke("saveRange",o.editable()),n.focus(),setTimeout(function(){i(o)},0))}),o.editable().before(n)):o.editable().on("paste",r)};var i=function(i){var r=i.editable(),o=n[0].firstChild;if(f.isImg(o)){for(var a=o.src,s=atob(a.split(",")[1]),l=new Uint8Array(s.length),c=0;c<s.length;c++)l[c]=s.charCodeAt(c);var d=new Blob([l],{type:"image/png"});d.name="clipboard.png",t.invoke("restoreRange",r),t.invoke("focus",r),t.insertImages(i,[d])}else{var u=e("<div />").html(n.html()).html();t.invoke("restoreRange",r),t.invoke("focus",r),u&&t.invoke("pasteHTML",r,u)}n.empty()},r=function(e){var n=e.originalEvent.clipboardData,i=f.makeLayoutInfo(e.currentTarget||e.target),r=i.editable();if(n&&n.items&&n.items.length){
var o=d.head(n.items);"file"===o.kind&&-1!==o.type.indexOf("image/")&&t.insertImages(i,[o.getAsFile()]),t.invoke("editor.afterCommand",r)}}},O=function(t){var n=function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},i=function(e,t){e.on("keypress",function(e){e.keyCode===v.code.ENTER&&t.trigger("click")})};this.showLinkDialog=function(t,r,o){return e.Deferred(function(e){var t=r.find(".note-link-dialog"),a=t.find(".note-link-text"),s=t.find(".note-link-url"),l=t.find(".note-link-btn"),c=t.find("input[type=checkbox]");t.one("shown.bs.modal",function(){a.val(o.text),a.on("input",function(){n(l,a.val()&&s.val()),o.text=a.val()}),o.url||(o.url=o.text||"http://",n(l,o.text)),s.on("input",function(){n(l,a.val()&&s.val()),o.text||a.val(s.val())}).val(o.url).trigger("focus").trigger("select"),i(s,l),i(a,l),c.prop("checked",o.isNewWindow),l.one("click",function(n){n.preventDefault(),e.resolve({range:o.range,url:s.val(),text:a.val(),isNewWindow:c.is(":checked")}),t.modal("hide")})}).one("hidden.bs.modal",function(){a.off("input keypress"),s.off("input keypress"),l.off("click"),"pending"===e.state()&&e.reject()}).modal("show")}).promise()},this.show=function(e){var n=e.editor(),i=e.dialog(),r=e.editable(),o=e.popover(),a=t.invoke("editor.getLinkInfo",r),s=n.data("options");t.invoke("editor.saveRange",r),this.showLinkDialog(r,i,a).then(function(e){t.invoke("editor.restoreRange",r),t.invoke("editor.createLink",r,e,s),t.invoke("popover.hide",o)}).fail(function(){t.invoke("editor.restoreRange",r)})}},P=function(t){var n=function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},i=function(e,t){e.on("keypress",function(e){e.keyCode===v.code.ENTER&&t.trigger("click")})};this.show=function(e){var n=e.dialog(),i=e.editable();t.invoke("editor.saveRange",i),this.showImageDialog(i,n).then(function(n){t.invoke("editor.restoreRange",i),"string"==typeof n?t.invoke("editor.insertImage",i,n):t.insertImages(e,n)}).fail(function(){t.invoke("editor.restoreRange",i)})},this.showImageDialog=function(t,r){return e.Deferred(function(e){var t=r.find(".note-image-dialog"),o=r.find(".note-image-input"),a=r.find(".note-image-url"),s=r.find(".note-image-btn");t.one("shown.bs.modal",function(){o.replaceWith(o.clone().on("change",function(){e.resolve(this.files||this.value),t.modal("hide")}).val("")),s.click(function(n){n.preventDefault(),e.resolve(a.val()),t.modal("hide")}),a.on("keyup paste",function(e){var t;t="paste"===e.type?e.originalEvent.clipboardData.getData("text"):a.val(),n(s,t)}).val("").trigger("focus"),i(a,s)}).one("hidden.bs.modal",function(){o.off("change"),a.off("keyup paste keypress"),s.off("click"),"pending"===e.state()&&e.reject()}).modal("show")})}},$=function(t){this.showHelpDialog=function(t,n){return e.Deferred(function(e){var t=n.find(".note-help-dialog");t.one("hidden.bs.modal",function(){e.resolve()}).modal("show")}).promise()},this.show=function(e){var n=e.dialog(),i=e.editable();t.invoke("editor.saveRange",i,!0),this.showHelpDialog(i,n).then(function(){t.invoke("editor.restoreRange",i)})}},F=function(){var t=this,n=this.modules={editor:new k(this),toolbar:new T(this),statusbar:new A(this),popover:new j(this),handle:new L(this),fullscreen:new N(this),codeview:new E(this),dragAndDrop:new M(this),clipboard:new I(this),linkDialog:new O(this),imageDialog:new P(this),helpDialog:new $(this)};this.invoke=function(){var e=d.head(d.from(arguments)),t=d.tail(d.from(arguments)),n=e.split("."),i=n.length>1,r=i&&d.head(n),o=i?d.last(n):d.head(n),a=this.getModule(r),s=a[o];return s&&s.apply(a,t)},this.getModule=function(e){return this.modules[e]||this.modules.editor};var i=this.bindCustomEvent=function(e,t,n){return function(){var i=t[c.namespaceToCamel(n,"on")];return i&&i.apply(e[0],arguments),e.trigger("summernote."+n,arguments)}};this.insertImages=function(t,r){var o=t.editor(),a=t.editable(),s=t.holder(),l=a.data("callbacks"),c=o.data("options");l.onImageUpload?i(s,l,"image.upload")(r):e.each(r,function(e,t){var r=t.name;c.maximumImageFileSize&&c.maximumImageFileSize<t.size?i(s,l,"image.upload.error")(c.langInfo.image.maximumFileSizeError):m.readFileAsDataURL(t).then(function(e){n.editor.insertImage(a,e,r)}).fail(function(){i(s,l,"image.upload.error")(c.langInfo.image.maximumFileSizeError)})})};var r={showLinkDialog:function(e){n.linkDialog.show(e)},showImageDialog:function(e){n.imageDialog.show(e)},showHelpDialog:function(e){n.helpDialog.show(e)},fullscreen:function(e){n.fullscreen.toggle(e)},codeview:function(e){n.codeview.toggle(e)}},o=function(e){f.isImg(e.target)&&e.preventDefault()},a=function(e){var t=f.makeLayoutInfo(e.currentTarget||e.target);n.editor.removeBogus(t.editable()),s(e)};this.updateStyleInfo=function(e,t){if(e){var i=t.editor().data("options").airMode;i||n.toolbar.update(t.toolbar(),e),n.popover.update(t.popover(),e,i),n.handle.update(t.handle(),e,i)}};var s=function(e){var i=e.target;setTimeout(function(){var e=f.makeLayoutInfo(i),r=n.editor.currentStyle(i);t.updateStyleInfo(r,e)},0)},u=function(e){var t=f.makeLayoutInfo(e.currentTarget||e.target);n.popover.hide(t.popover()),n.handle.hide(t.handle())},h=function(t){var n=e(t.target).closest("[data-event]");n.length&&t.preventDefault()},p=function(t){var i=e(t.target).closest("[data-event]");if(i.length){var o,a=i.attr("data-event"),l=i.attr("data-value"),c=i.attr("data-hide"),u=f.makeLayoutInfo(t.target);if(-1!==e.inArray(a,["resize","floatMe","removeMedia","imageShape"])){var h=u.handle().find(".note-control-selection");o=e(h.data("target"))}if(c&&i.parents(".popover").hide(),e.isFunction(e.summernote.pluginEvents[a]))e.summernote.pluginEvents[a](t,n.editor,u,l);else if(n.editor[a]){var p=u.editable();p.focus(),n.editor[a](p,l,o),t.preventDefault()}else r[a]&&(r[a].call(this,u),t.preventDefault());if(-1!==e.inArray(a,["backColor","foreColor"])){var g=u.editor().data("options",g),m=g.airMode?n.popover:n.toolbar;m.updateRecentColor(d.head(i),a,l)}s(t)}},g=18,b=function(t,n){var i,r=e(t.target.parentNode),o=r.next(),a=r.find(".note-dimension-picker-mousecatcher"),s=r.find(".note-dimension-picker-highlighted"),l=r.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var c=e(t.target).offset();i={x:t.pageX-c.left,y:t.pageY-c.top}}else i={x:t.offsetX,y:t.offsetY};var d={c:Math.ceil(i.x/g)||1,r:Math.ceil(i.y/g)||1};s.css({width:d.c+"em",height:d.r+"em"}),a.attr("data-value",d.c+"x"+d.r),3<d.c&&d.c<n.insertTableMaxSize.col&&l.css({width:d.c+1+"em"}),3<d.r&&d.r<n.insertTableMaxSize.row&&l.css({height:d.r+1+"em"}),o.html(d.c+" x "+d.r)};this.bindKeyMap=function(t,i){var o=t.editor(),a=t.editable();a.on("keydown",function(s){var l=[];s.metaKey&&l.push("CMD"),s.ctrlKey&&!s.altKey&&l.push("CTRL"),s.shiftKey&&l.push("SHIFT");var c=v.nameFromCode[s.keyCode];c&&l.push(c);var d,u=l.join("+"),h=i[u];if(h){if(d=e.summernote.pluginEvents[u],e.isFunction(d)&&d(s,n.editor,t))return!1;d=e.summernote.pluginEvents[h],e.isFunction(d)?d(s,n.editor,t):n.editor[h]?(n.editor[h](a,o.data("options")),s.preventDefault()):r[h]&&(r[h].call(this,t),s.preventDefault())}else v.isEdit(s.keyCode)&&n.editor.afterCommand(a)})},this.attach=function(e,t){t.shortcuts&&this.bindKeyMap(e,t.keyMap[l.isMac?"mac":"pc"]),e.editable().on("mousedown",o),e.editable().on("keyup mouseup",a),e.editable().on("scroll",u),n.clipboard.attach(e,t),n.handle.attach(e,t),e.popover().on("click",p),e.popover().on("mousedown",h),n.dragAndDrop.attach(e,t),t.airMode||(e.toolbar().on("click",p),e.toolbar().on("mousedown",h),n.statusbar.attach(e,t));var i=t.airMode?e.popover():e.toolbar(),r=i.find(".note-dimension-picker-mousecatcher");r.css({width:t.insertTableMaxSize.col+"em",height:t.insertTableMaxSize.row+"em"}).on("mousemove",function(e){b(e,t)}),e.editor().data("options",t),l.isMSIE||setTimeout(function(){document.execCommand("styleWithCSS",0,t.styleWithSpan)},0);var s=new y(e.editable());e.editable().data("NoteHistory",s),e.editable().data("callbacks",{onInit:t.onInit,onFocus:t.onFocus,onBlur:t.onBlur,onKeydown:t.onKeydown,onKeyup:t.onKeyup,onMousedown:t.onMousedown,onEnter:t.onEnter,onPaste:t.onPaste,onBeforeCommand:t.onBeforeCommand,onChange:t.onChange,onImageUpload:t.onImageUpload,onImageUploadError:t.onImageUploadError,onMediaDelete:t.onMediaDelete,onToolbarClick:t.onToolbarClick});var c=n.editor.styleFromNode(e.editable());this.updateStyleInfo(c,e)},this.attachCustomEvent=function(t,n){var r=t.holder(),o=t.editable(),a=o.data("callbacks");o.focus(i(r,a,"focus")),o.blur(i(r,a,"blur")),o.keydown(function(e){e.keyCode===v.code.ENTER&&i(r,a,"enter").call(this,e),i(r,a,"keydown").call(this,e)}),o.keyup(i(r,a,"keyup")),o.on("mousedown",i(r,a,"mousedown")),o.on("mouseup",i(r,a,"mouseup")),o.on("scroll",i(r,a,"scroll")),o.on("paste",i(r,a,"paste"));var s=l.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";o.on(s,function(){i(r,a,"change")(o.html(),o)}),n.airMode||(t.toolbar().click(i(r,a,"toolbar.click")),t.popover().click(i(r,a,"popover.click"))),f.isTextarea(d.head(r))&&r.closest("form").submit(function(e){t.holder().val(t.holder().code()),i(r,a,"submit").call(this,e,r.code())}),f.isTextarea(d.head(r))&&n.textareaAutoSync&&r.on("summernote.change",function(){t.holder().val(t.holder().code())}),i(r,a,"init")(t);for(var c=0,u=e.summernote.plugins.length;u>c;c++)e.isFunction(e.summernote.plugins[c].init)&&e.summernote.plugins[c].init(t)},this.detach=function(e,t){e.holder().off(),e.editable().off(),e.popover().off(),e.handle().off(),e.dialog().off(),t.airMode||(e.dropzone().off(),e.toolbar().off(),e.statusbar().off())}},H=function(){var t=function(e,t){var n=t.event,i=t.value,r=t.title,o=t.className,a=t.dropdown,s=t.hide;return(a?'<div class="btn-group'+(o?" "+o:"")+'">':"")+'<button type="button" class="btn btn-default btn-sm'+(!a&&o?" "+o:"")+(a?" dropdown-toggle":"")+'"'+(a?' data-toggle="dropdown"':"")+(r?' title="'+r+'"':"")+(n?' data-event="'+n+'"':"")+(i?" data-value='"+i+"'":"")+(s?" data-hide='"+s+"'":"")+' tabindex="-1">'+e+(a?' <span class="caret"></span>':"")+"</button>"+(a||"")+(a?"</div>":"")},n=function(e,n){var i='<i class="'+e+'"></i>';return t(i,n)},i=function(t,n){var i=e('<div class="'+t+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content"></div></div>');return i.find(".popover-content").append(n),i},r=function(e,t,n,i){return'<div class="'+e+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(t?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+t+"</h4></div>":"")+'<div class="modal-body">'+n+"</div>"+(i?'<div class="modal-footer">'+i+"</div>":"")+"</div></div></div>"},o=function(e,t,n){var i="dropdown-menu"+(t?" "+t:"");return n=n||"ul",e instanceof Array&&(e=e.join("")),"<"+n+' class="'+i+'">'+e+"</"+n+">"},a={picture:function(e,t){return n(t.iconPrefix+t.icons.image.image,{event:"showImageDialog",title:e.image.image,hide:!0})},link:function(e,t){return n(t.iconPrefix+t.icons.link.link,{event:"showLinkDialog",title:e.link.link,hide:!0})},table:function(e,t){var i=['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display"> 1 x 1 </div>'];return n(t.iconPrefix+t.icons.table.table,{title:e.table.table,dropdown:o(i,"note-table")})},style:function(e,t){var i=t.styleTags.reduce(function(t,n){var i=e.style["p"===n?"normal":n];return t+'<li><a data-event="formatBlock" href="#" data-value="'+n+'">'+("p"===n||"pre"===n?i:"<"+n+">"+i+"</"+n+">")+"</a></li>"},"");return n(t.iconPrefix+t.icons.style.style,{title:e.style.style,dropdown:o(i)})},fontname:function(e,n){var i=[],r=n.fontNames.reduce(function(e,t){return l.isFontInstalled(t)||d.contains(n.fontNamesIgnoreCheck,t)?(i.push(t),e+'<li><a data-event="fontName" href="#" data-value="'+t+'" style="font-family:\''+t+'\'"><i class="'+n.iconPrefix+n.icons.misc.check+'"></i> '+t+"</a></li>"):e},""),a=l.isFontInstalled(n.defaultFontName),s=a?n.defaultFontName:i[0],c='<span class="note-current-fontname">'+s+"</span>";return t(c,{title:e.font.name,className:"note-fontname",dropdown:o(r,"note-check")})},fontsize:function(e,n){var i=n.fontSizes.reduce(function(e,t){return e+'<li><a data-event="fontSize" href="#" data-value="'+t+'"><i class="'+n.iconPrefix+n.icons.misc.check+'"></i> '+t+"</a></li>"},""),r='<span class="note-current-fontsize">11</span>';return t(r,{title:e.font.size,className:"note-fontsize",dropdown:o(i,"note-check")})},color:function(e,n){var i='<i class="'+n.iconPrefix+n.icons.color.recent+'" style="color:black;background-color:yellow;"></i>',r=t(i,{className:"note-recent-color",title:e.color.recent,event:"color",value:'{"backColor":"yellow"}'}),a=['<li><div class="btn-group">','<div class="note-palette-title">'+e.color.background+"</div>",'<div class="note-color-reset" data-event="backColor"',' data-value="inherit" title="'+e.color.transparent+'">'+e.color.setTransparent+"</div>",'<div class="note-color-palette" data-target-event="backColor"></div>','</div><div class="btn-group">','<div class="note-palette-title">'+e.color.foreground+"</div>",'<div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+e.color.reset+'">',e.color.resetToDefault,"</div>",'<div class="note-color-palette" data-target-event="foreColor"></div>',"</div></li>"],s=t("",{title:e.color.more,dropdown:o(a)});return r+s},bold:function(e,t){return n(t.iconPrefix+t.icons.font.bold,{event:"bold",title:e.font.bold})},italic:function(e,t){return n(t.iconPrefix+t.icons.font.italic,{event:"italic",title:e.font.italic})},underline:function(e,t){return n(t.iconPrefix+t.icons.font.underline,{event:"underline",title:e.font.underline})},strikethrough:function(e,t){return n(t.iconPrefix+t.icons.font.strikethrough,{event:"strikethrough",title:e.font.strikethrough})},superscript:function(e,t){return n(t.iconPrefix+t.icons.font.superscript,{event:"superscript",title:e.font.superscript})},subscript:function(e,t){return n(t.iconPrefix+t.icons.font.subscript,{event:"subscript",title:e.font.subscript})},clear:function(e,t){return n(t.iconPrefix+t.icons.font.clear,{event:"removeFormat",title:e.font.clear})},ul:function(e,t){return n(t.iconPrefix+t.icons.lists.unordered,{event:"insertUnorderedList",title:e.lists.unordered})},ol:function(e,t){return n(t.iconPrefix+t.icons.lists.ordered,{event:"insertOrderedList",title:e.lists.ordered})},paragraph:function(e,t){var i=n(t.iconPrefix+t.icons.paragraph.left,{title:e.paragraph.left,event:"justifyLeft"}),r=n(t.iconPrefix+t.icons.paragraph.center,{title:e.paragraph.center,event:"justifyCenter"}),a=n(t.iconPrefix+t.icons.paragraph.right,{title:e.paragraph.right,event:"justifyRight"}),s=n(t.iconPrefix+t.icons.paragraph.justify,{title:e.paragraph.justify,event:"justifyFull"}),l=n(t.iconPrefix+t.icons.paragraph.outdent,{title:e.paragraph.outdent,event:"outdent"}),c=n(t.iconPrefix+t.icons.paragraph.indent,{title:e.paragraph.indent,event:"indent"}),d=['<div class="note-align btn-group">',i+r+a+s,'</div><div class="note-list btn-group">',c+l,"</div>"];return n(t.iconPrefix+t.icons.paragraph.paragraph,{title:e.paragraph.paragraph,dropdown:o(d,"","div")})},height:function(e,t){var i=t.lineHeights.reduce(function(e,n){return e+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(n)+'"><i class="'+t.iconPrefix+t.icons.misc.check+'"></i> '+n+"</a></li>"},"");return n(t.iconPrefix+t.icons.font.height,{title:e.font.height,dropdown:o(i,"note-check")})},help:function(e,t){return n(t.iconPrefix+t.icons.options.help,{event:"showHelpDialog",title:e.options.help,hide:!0})},fullscreen:function(e,t){return n(t.iconPrefix+t.icons.options.fullscreen,{event:"fullscreen",title:e.options.fullscreen})},codeview:function(e,t){return n(t.iconPrefix+t.icons.options.codeview,{event:"codeview",title:e.options.codeview})},undo:function(e,t){return n(t.iconPrefix+t.icons.history.undo,{event:"undo",title:e.history.undo})},redo:function(e,t){return n(t.iconPrefix+t.icons.history.redo,{event:"redo",title:e.history.redo})},hr:function(e,t){return n(t.iconPrefix+t.icons.hr.insert,{event:"insertHorizontalRule",title:e.hr.insert})}},s=function(r,o){var s=function(){var e=n(o.iconPrefix+o.icons.link.edit,{title:r.link.edit,event:"showLinkDialog",hide:!0}),t=n(o.iconPrefix+o.icons.link.unlink,{title:r.link.unlink,event:"unlink"}),a='<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+e+t+"</div>";return i("note-link-popover",a)},l=function(){var e=t('<span class="note-fontsize-10">100%</span>',{title:r.image.resizeFull,event:"resize",value:"1"}),a=t('<span class="note-fontsize-10">50%</span>',{title:r.image.resizeHalf,event:"resize",value:"0.5"}),s=t('<span class="note-fontsize-10">25%</span>',{title:r.image.resizeQuarter,event:"resize",value:"0.25"}),l=n(o.iconPrefix+o.icons.image.floatLeft,{title:r.image.floatLeft,event:"floatMe",value:"left"}),c=n(o.iconPrefix+o.icons.image.floatRight,{title:r.image.floatRight,event:"floatMe",value:"right"}),d=n(o.iconPrefix+o.icons.image.floatNone,{title:r.image.floatNone,event:"floatMe",value:"none"}),u=n(o.iconPrefix+o.icons.image.shapeRounded,{title:r.image.shapeRounded,event:"imageShape",value:"img-rounded"}),h=n(o.iconPrefix+o.icons.image.shapeCircle,{title:r.image.shapeCircle,event:"imageShape",value:"img-circle"}),f=n(o.iconPrefix+o.icons.image.shapeThumbnail,{title:r.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"}),p=n(o.iconPrefix+o.icons.image.shapeNone,{title:r.image.shapeNone,event:"imageShape",value:""}),g=n(o.iconPrefix+o.icons.image.remove,{title:r.image.remove,event:"removeMedia",value:"none"}),m=(o.disableResizeImage?"":'<div class="btn-group">'+e+a+s+"</div>")+'<div class="btn-group">'+l+c+d+'</div><br><div class="btn-group">'+u+h+f+p+'</div><div class="btn-group">'+g+"</div>";return i("note-image-popover",m)},c=function(){for(var t=e("<div />"),n=0,s=o.airPopover.length;s>n;n++){for(var l=o.airPopover[n],c=e('<div class="note-'+l[0]+' btn-group">'),d=0,u=l[1].length;u>d;d++){var h=e(a[l[1][d]](r,o));h.attr("data-name",l[1][d]),c.append(h)}t.append(c)}return i("note-air-popover",t.children())},d=e('<div class="note-popover" />');return d.append(s()),d.append(l()),o.airMode&&d.append(c()),d},u=function(e){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="'+(e.disableResizeImage?"note-control-holder":"note-control-sizing")+' note-control-se"></div>'+(e.disableResizeImage?"":'<div class="note-control-selection-info"></div>')+"</div></div>"},h=function(e,t){var n="note-shortcut-col col-xs-6 note-shortcut-",i=[];for(var r in t)t.hasOwnProperty(r)&&i.push('<div class="'+n+'key">'+t[r].kbd+'</div><div class="'+n+'name">'+t[r].text+"</div>");return'<div class="note-shortcut-row row"><div class="'+n+'title col-xs-offset-6">'+e+'</div></div><div class="note-shortcut-row row">'+i.join('</div><div class="note-shortcut-row row">')+"</div>"},p=function(e){var t=[{kbd:" + B",text:e.font.bold},{kbd:" + I",text:e.font.italic},{kbd:" + U",text:e.font.underline},{kbd:" + \\",text:e.font.clear}];return h(e.shortcut.textFormatting,t)},g=function(e){var t=[{kbd:" + Z",text:e.history.undo},{kbd:" +  + Z",text:e.history.redo},{kbd:" + ]",text:e.paragraph.indent},{kbd:" + [",text:e.paragraph.outdent},{kbd:" + ENTER",text:e.hr.insert}];return h(e.shortcut.action,t)},m=function(e){var t=[{kbd:" +  + L",text:e.paragraph.left},{kbd:" +  + E",text:e.paragraph.center},{kbd:" +  + R",text:e.paragraph.right},{kbd:" +  + J",text:e.paragraph.justify},{kbd:" +  + NUM7",text:e.lists.ordered},{kbd:" +  + NUM8",text:e.lists.unordered}];return h(e.shortcut.paragraphFormatting,t)},v=function(e){var t=[{kbd:" + NUM0",text:e.style.normal},{kbd:" + NUM1",text:e.style.h1},{kbd:" + NUM2",text:e.style.h2},{kbd:" + NUM3",text:e.style.h3},{kbd:" + NUM4",text:e.style.h4},{kbd:" + NUM5",text:e.style.h5},{kbd:" + NUM6",text:e.style.h6}];return h(e.shortcut.documentStyle,t)},y=function(e,t){var n=t.extraKeys,i=[];for(var r in n)n.hasOwnProperty(r)&&i.push({kbd:r,text:n[r]});return h(e.shortcut.extraKeys,i)},b=function(e,t){var n='class="note-shortcut note-shortcut-col col-sm-6 col-xs-12"',i=["<div "+n+">"+g(e,t)+"</div><div "+n+">"+p(e,t)+"</div>","<div "+n+">"+v(e,t)+"</div><div "+n+">"+m(e,t)+"</div>"];return t.extraKeys&&i.push("<div "+n+">"+y(e,t)+"</div>"),'<div class="note-shortcut-row row">'+i.join('</div><div class="note-shortcut-row row">')+"</div>"},_=function(e){return e.replace(//g,"Ctrl").replace(//g,"Shift")},w={image:function(e,t){var n="";if(t.maximumImageFileSize){var i=Math.floor(Math.log(t.maximumImageFileSize)/Math.log(1024)),o=1*(t.maximumImageFileSize/Math.pow(1024,i)).toFixed(2)+" "+" KMGTP"[i]+"B";n="<small>"+e.image.maximumFileSize+" : "+o+"</small>"}var a='<div class="form-group row note-group-select-from-files"><label>'+e.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+n+'</div><div class="form-group row"><label>'+e.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',s='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+e.image.insert+"</button>";return r("note-image-dialog",e.image.insert,a,s)},link:function(e,t){var n='<div class="form-group row"><label>'+e.link.textToDisplay+'</label><input class="note-link-text form-control col-md-12" type="text" /></div><div class="form-group row"><label>'+e.link.url+'</label><input class="note-link-url form-control col-md-12" type="text" value="http://" /></div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+e.link.openInNewWindow+"</label></div>"),i='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+e.link.insert+"</button>";return r("note-link-dialog",e.link.insert,n,i)},help:function(e,t){var n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+e.shortcut.close+'</a><div class="title">'+e.shortcut.shortcuts+"</div>"+(l.isMac?b(e,t):_(b(e,t)))+'<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.6.16</a>  <a href="//github.com/summernote/summernote" target="_blank">Project</a>  <a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a></p>';return r("note-help-dialog","",n,"")}},x=function(t,n){var i="";return e.each(w,function(e,r){i+=r(t,n)}),'<div class="note-dialog">'+i+"</div>"},C=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'},k=function(e){return l.isMac&&(e=e.replace("CMD","").replace("SHIFT","")),e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")},S=function(t,n,i){var r=c.invertObject(n),o=t.find("button");o.each(function(t,n){var i=e(n),o=r[i.data("event")];o&&i.attr("title",function(e,t){return t+" ("+k(o)+")"})}).tooltip({container:"body",trigger:"hover",placement:i||"top"}).on("click",function(){e(this).tooltip("hide")})},T=function(t,n){var i=n.colors;t.find(".note-color-palette").each(function(){for(var t=e(this),n=t.attr("data-target-event"),r=[],o=0,a=i.length;a>o;o++){for(var s=i[o],l=[],c=0,d=s.length;d>c;c++){var u=s[c];l.push(['<button type="button" class="note-color-btn" style="background-color:',u,';" data-event="',n,'" data-value="',u,'" title="',u,'" data-toggle="button" tabindex="-1"></button>'].join(""))}r.push('<div class="note-color-row">'+l.join("")+"</div>")}t.html(r.join(""))})};this.createLayoutByAirMode=function(t,n){var i=n.langInfo,r=n.keyMap[l.isMac?"mac":"pc"],o=c.uniqueId();t.addClass("note-air-editor note-editable panel-body"),t.attr({id:"note-editor-"+o,contentEditable:!0});var a=document.body,d=e(s(i,n));d.addClass("note-air-layout"),d.attr("id","note-popover-"+o),d.appendTo(a),S(d,r),T(d,n);var h=e(u(n));h.addClass("note-air-layout"),h.attr("id","note-handle-"+o),h.appendTo(a);var f=e(x(i,n));f.addClass("note-air-layout"),f.attr("id","note-dialog-"+o),f.find("button.close, a.modal-close").click(function(){e(this).closest(".modal").modal("hide")}),f.appendTo(a)},this.createLayoutByFrame=function(t,n){var i=n.langInfo,r=e('<div class="note-editor panel panel-default" />');n.width&&r.width(n.width),n.height>0&&e('<div class="note-statusbar">'+(n.disableResizeEditor?"":C())+"</div>").prependTo(r);var o=e('<div class="note-editing-area" />'),c=!t.is(":disabled"),d=e('<div class="note-editable panel-body" contentEditable="'+c+'"></div>').prependTo(o);n.height&&d.height(n.height),n.direction&&d.attr("dir",n.direction);var h=t.attr("placeholder")||n.placeholder;h&&d.attr("data-placeholder",h),d.html(f.html(t)||f.emptyPara),e('<textarea class="note-codable"></textarea>').prependTo(o);var p=e(s(i,n)).prependTo(o);T(p,n),S(p,j),e(u(n)).prependTo(o),o.prependTo(r);for(var g=e('<div class="note-toolbar panel-heading" />'),m=0,v=n.toolbar.length;v>m;m++){for(var y=n.toolbar[m][0],b=n.toolbar[m][1],_=e('<div class="note-'+y+' btn-group" />'),w=0,k=b.length;k>w;w++){var D=a[b[w]];if(e.isFunction(D)){var A=e(D(i,n));A.attr("data-name",b[w]),_.append(A)}}g.append(_)}var j=n.keyMap[l.isMac?"mac":"pc"];T(g,n),S(g,j,"bottom"),g.prependTo(r),e('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(r);var L=n.dialogsInBody?e(document.body):r,N=e(x(i,n)).prependTo(L);N.find("button.close, a.modal-close").click(function(){e(this).closest(".modal").modal("hide")}),r.insertAfter(t),t.hide()},this.hasNoteEditor=function(e){return this.noteEditorFromHolder(e).length>0},this.noteEditorFromHolder=function(t){return t.hasClass("note-air-editor")?t:t.next().hasClass("note-editor")?t.next():e()},this.createLayout=function(e,t){t.airMode?this.createLayoutByAirMode(e,t):this.createLayoutByFrame(e,t)},this.layoutInfoFromHolder=function(e){var t=this.noteEditorFromHolder(e);if(t.length)return t.data("holder",e),f.buildLayoutInfo(t)},this.removeLayout=function(e,t,n){n.airMode?(e.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),t.popover().remove(),t.handle().remove(),t.dialog().remove()):(e.html(t.editable().html()),n.dialogsInBody&&t.dialog().remove(),t.editor().remove(),e.show())},this.getTemplate=function(){return{button:t,iconButton:n,dialog:r}},this.addButtonInfo=function(e,t){a[e]=t},this.addDialogInfo=function(e,t){w[e]=t}};e.summernote=e.summernote||{},e.extend(e.summernote,g);var R=new H,U=new F;e.extend(e.summernote,{renderer:R,eventHandler:U,core:{agent:l,list:d,dom:f,range:p},pluginEvents:{},plugins:[]}),e.summernote.addPlugin=function(t){e.summernote.plugins.push(t),t.buttons&&e.each(t.buttons,function(e,t){R.addButtonInfo(e,t)}),t.dialogs&&e.each(t.dialogs,function(e,t){R.addDialogInfo(e,t)}),t.events&&e.each(t.events,function(t,n){e.summernote.pluginEvents[t]=n}),t.langs&&e.each(t.langs,function(t,n){e.summernote.lang[t]&&e.extend(e.summernote.lang[t],n)}),t.options&&e.extend(e.summernote.options,t.options)},e.fn.extend({summernote:function(){var t=e.type(d.head(arguments)),n="string"===t,i="object"===t,r=i?d.head(arguments):{};if(r=e.extend({},e.summernote.options,r),r.icons=e.extend({},e.summernote.options.icons,r.icons),r.langInfo=e.extend(!0,{},e.summernote.lang["en-US"],e.summernote.lang[r.lang]),!n&&i)for(var o=0,a=e.summernote.plugins.length;a>o;o++){var s=e.summernote.plugins[o];r.plugin[s.name]&&(e.summernote.plugins[o]=e.extend(!0,s,r.plugin[s.name]))}this.each(function(t,n){var i=e(n);if(!R.hasNoteEditor(i)){R.createLayout(i,r);var o=R.layoutInfoFromHolder(i);i.data("layoutInfo",o),U.attach(o,r),U.attachCustomEvent(o,r)}});var l=this.first();if(l.length){var c=R.layoutInfoFromHolder(l);if(n){var u=d.head(d.from(arguments)),h=d.tail(d.from(arguments)),f=[u,c.editable()].concat(h);return U.invoke.apply(U,f)}r.focus&&c.editable().focus()}return this},code:function(t){if(void 0===t){var n=this.first();if(!n.length)return;var i=R.layoutInfoFromHolder(n),r=i&&i.editable();if(r&&r.length){var o=U.invoke("codeview.isActivated",i);return U.invoke("codeview.sync",i),o?i.codable().val():i.editable().html()}return f.value(n)}return this.each(function(n,i){var r=R.layoutInfoFromHolder(e(i)),o=r&&r.editable();o&&o.html(t)}),this},destroy:function(){return this.each(function(t,n){var i=e(n);if(R.hasNoteEditor(i)){var r=R.layoutInfoFromHolder(i),o=r.editor().data("options");U.detach(r,o),R.removeLayout(i,r,o)}}),this}})}),function(e){function t(e,t,r){var o=e[0],a=/er/.test(r)?_indeterminate:/bl/.test(r)?f:u,s=r==_update?{checked:o[u],disabled:o[f],indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:o[a];if(/^(ch|di|in)/.test(r)&&!s)n(e,a);else if(/^(un|en|de)/.test(r)&&s)i(e,a);else if(r==_update)for(var l in s)s[l]?n(e,l,!0):i(e,l,!0);else t&&"toggle"!=r||(t||e[_callback]("ifClicked"),s?o[_type]!==d&&i(e,a):n(e,a))}function n(t,n,r){var p=t[0],g=t.parent(),m=n==u,v=n==_indeterminate,y=n==f,b=v?_determinate:m?h:"enabled",_=o(t,b+a(p[_type])),w=o(t,n+a(p[_type]));if(!0!==p[n]){if(!r&&n==u&&p[_type]==d&&p.name){var x=t.closest("form"),C='input[name="'+p.name+'"]',C=x.length?x.find(C):e(C);C.each(function(){this!==p&&e(this).data(l)&&i(e(this),n)})}v?(p[n]=!0,p[u]&&i(t,u,"force")):(r||(p[n]=!0),m&&p[_indeterminate]&&i(t,_indeterminate,!1)),s(t,m,n,r)}p[f]&&o(t,_cursor,!0)&&g.find("."+c).css(_cursor,"default"),g[_add](w||o(t,n)||""),g.attr("role")&&!v&&g.attr("aria-"+(y?f:u),"true"),g[_remove](_||o(t,b)||"")}function i(e,t,n){var i=e[0],r=e.parent(),l=t==u,d=t==_indeterminate,p=t==f,g=d?_determinate:l?h:"enabled",m=o(e,g+a(i[_type])),v=o(e,t+a(i[_type]));!1!==i[t]&&(!d&&n&&"force"!=n||(i[t]=!1),s(e,l,g,n)),!i[f]&&o(e,_cursor,!0)&&r.find("."+c).css(_cursor,"pointer"),r[_remove](v||o(e,t)||""),r.attr("role")&&!d&&r.attr("aria-"+(p?f:u),"false"),r[_add](m||o(e,g)||"")}function r(t,n){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),n&&t[_callback](n),t.off(".i").unwrap(),e(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function o(e,t,n){if(e.data(l))return e.data(l).o[t+(n?"":"Class")]}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t,n,i){i||(t&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+a(n)))}var l="iCheck",c=l+"-helper",d="radio",u="checked",h="un"+u,f="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),e.fn[l]=function(o,a){var s='input[type="checkbox"], input[type="'+d+'"]',h=e(),p=function(t){t.each(function(){var t=e(this);h=t.is(s)?h.add(t):h.add(t.find(s))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(o))return o=o.toLowerCase(),p(this),h.each(function(){var n=e(this);"destroy"==o?r(n,"ifDestroyed"):t(n,!0,o),e.isFunction(a)&&a()});if("object"!=typeof o&&o)return this;var g=e.extend({checkedClass:u,disabledClass:f,indeterminateClass:_indeterminate,labelHover:!0},o),m=g.handle,v=g.hoverClass||"hover",y=g.focusClass||"focus",b=g.activeClass||"active",_=!!g.labelHover,w=g.labelHoverClass||"hover",x=0|(""+g.increaseArea).replace("%","");return"checkbox"!=m&&m!=d||(s='input[type="'+m+'"]'),-50>x&&(x=-50),p(this),h.each(function(){var o=e(this);r(o);var a=this,s=a.id,h=-x+"%",p=100+2*x+"%",p={position:"absolute",top:h,
left:h,display:"block",width:p,height:p,margin:0,padding:0,background:"#fff",border:0,opacity:0},h=_mobile?{position:"absolute",visibility:"hidden"}:x?p:{position:"absolute",opacity:0},m="checkbox"==a[_type]?g.checkboxClass||"icheckbox":g.radioClass||"i"+d,C=e(_label+'[for="'+s+'"]').add(o.closest(_label)),k=!!g.aria,S=l+"-"+Math.random().toString(36).substr(2,6),T='<div class="'+m+'" '+(k?'role="'+a[_type]+'" ':"");k&&C.each(function(){T+='aria-labelledby="',this.id?T+=this.id:(this.id=S,T+=S),T+='"'}),T=o.wrap(T+"/>")[_callback]("ifCreated").parent().append(g.insert),p=e('<ins class="'+c+'"/>').css(p).appendTo(T),o.data(l,{o:g,s:o.attr("style")}).css(h),g.inheritClass&&T[_add](a.className||""),g.inheritID&&s&&T.attr("id",l+"-"+s),"static"==T.css("position")&&T.css("position","relative"),t(o,!0,_update),C.length&&C.on(_click+".i mouseover.i mouseout.i "+_touch,function(n){var i=n[_type],r=e(this);if(!a[f]){if(i==_click){if(e(n.target).is("a"))return;t(o,!1,!0)}else _&&(/ut|nd/.test(i)?(T[_remove](v),r[_remove](w)):(T[_add](v),r[_add](w)));if(!_mobile)return!1;n.stopPropagation()}}),o.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[_type];return e=e.keyCode,t!=_click&&("keydown"==t&&32==e?(a[_type]==d&&a[u]||(a[u]?i(o,u):n(o,u)),!1):void("keyup"==t&&a[_type]==d?!a[u]&&n(o,u):/us|ur/.test(t)&&T["blur"==t?_remove:_add](y)))}),p.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(e){var n=e[_type],i=/wn|up/.test(n)?b:v;if(!a[f]){if(n==_click?t(o,!1,!0):(/wn|er|in/.test(n)?T[_add](i):T[_remove](i+" "+b),C.length&&_&&i==v&&C[/ut|nd/.test(n)?_remove:_add](w)),!_mobile)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),$(document).ready(function(){function e(e){return $(".sub_total_inc_tax").html(e.sub_total_inc_tax),$(".sending_method_cost_inc_tax").html(e.sending_method_cost_inc_tax),$(".payment_method_cost_inc_tax").html(e.payment_method_cost_inc_tax),$(".total_inc_tax").html(e.total_inc_tax),$(".total_ex_tax").html(e.total_ex_tax),$(".total_tax").html(e.total_tax),$(".cart-count").html(e.producttotal),$(".cart-total span").html(e.total_inc_tax),!0}if($.fn.validator.Constructor.FOCUS_OFFSET="0px",$(".counter").maxlength({alwaysShow:!0,threshold:10,warningClass:"label label-success",limitReachedClass:"label label-danger"}),$("body").on("submit",".delete-button",function(e){event.preventDefault();var t=$(this);swal({title:"Delete item: "+t.attr("data-title")+"?",text:"You will not be able to recover this iem",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1,html:!1,imageUrl:null},function(){t.submit()})}),$("body").on("change",".stats-revenue",function(e){e.preventDefault();var t=$(this),n=$(this).attr("data-url")+"/"+t.val();$.get(n,{},function(e){e&&$(".stats-revenue-container").html(e)},"html")}),$("body").on("change",".stats-totals",function(e){e.preventDefault();var t=$(this),n=$(this).attr("data-url")+"/"+t.val();$.get(n,{},function(e){e&&$(".stats-totals-container").html(e)},"html")}),$("body").on("change",".stats-average-order",function(e){e.preventDefault();var t=$(this),n=$(this).attr("data-url")+"/"+t.val();$.get(n,{},function(e){e&&$(".stats-average-container").html(e)},"html")}),$("body").on("change",".stats-browser",function(e){e.preventDefault();var t=$(this),n=$(this).attr("data-url")+"/"+t.val();$.get(n,{},function(e){e&&$(".stats-browser-container").html(e)},"html")}),$("body").on("change",".stats-payment-method",function(e){e.preventDefault();var t=$(this),n=$(this).attr("data-url")+"/"+t.val();$.get(n,{},function(e){e&&$(".stats-payment-method-container").html(e)},"html")}),$("body").on("change",".print-input-select, .print-input-date",function(e){$("body .print-form").submit()}),$("body").on("submit",".print-form",function(e){var t=$(this);e.preventDefault();var n=$(this).attr("data-url");$.post(t.attr("action"),t.serialize(),function(e){$.ajax({url:n,type:"get",dataType:"html",success:function(e){$(".selected-orders").html(e)}})})}),$(".load-order-status-template")){var t=$(".load-order-status-template"),n=t.attr("data-url");if(n){var i=$(".order_status_email_template_id");$.get(n+i.val(),{},function(e){t.html(e.content)},"json")}}if($("body").on("change",".order_status_email_template_id",function(e){var t=$(".load-order-status-template"),n=t.attr("data-url");if(n){var i=$(".order_status_email_template_id");$.get(n+i.val(),{},function(e){t.html(e.content)},"json")}}),$("body").on("click",".change-active",function(e){var t=($(this),$(this).attr("data-url"));$.get(t,{},function(e){$("#datatable").DataTable().ajax.reload()},"html")}),$("body").on("change",".change-amount",function(e){$(this);if(""==$(this).val())return!1;var t=$(this).val(),n=$(this).attr("data-url")+"/"+t;$.get(n,{},function(e){$("#datatable").DataTable().ajax.reload()},"html")}),$("body").on("change",".change-rank",function(e){$(this);if(""==$(this).val())return!1;var t=$(this).val(),n=$(this).attr("data-url")+"/"+t;$.get(n,{},function(e){$("#datatable").DataTable().ajax.reload(null,!1)},"html")}),$("body").on("change",".change-amount-product-attribute",function(e){$(this);if(""==$(this).val())return!1;var t=$(this).val(),n=$(this).attr("data-url")+"/"+t;$.get(n,{},function(e){$("#datatable").DataTable().ajax.reload()},"html")}),document.getElementById("codeeditor")){CodeMirror.fromTextArea(document.getElementById("codeeditor"),{lineNumbers:!0})}$(".summernote").summernote({height:300,minHeight:null,maxHeight:null,focus:!0}),$(".update-amount").on("change keyup paste",function(t){if(t.preventDefault(),""==$(this).val())return!1;var n=$(this).val(),i=$(this).attr("data-url")+"/"+n;$this=$(this),$.get(i,{},function(t){t.totals?(t.product||$($this).parents(".product-block").remove(),$(".total_price_inc_tax_"+t.product.id).html(t.product.cart.total_price_inc_tax),e(t.totals)):$(".cart-details").html('<div  class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><p>Winkelwagen is leeg.</p></div>')},"json")}),$(".update-address").on("ifChecked",function(e){if(e.preventDefault(),""==$(this).val())return!1;var t=$(this).val(),n=$(this).attr("data-url")+"/"+t;$.get(n,{},function(e){},"json")}),$(".change-product-combination").on("change",function(t){var n=$(this),i=$(this).attr("data-url")+"/"+n.val();$.get(i,{},function(t){t.totals&&(t.product||$(n).parents(".product-block").remove(),n.attr("data-url","/order/change-product-combination/"+t.product.id),$(".update-amount-"+t.oldproductid).attr("data-url","/order/update-amount-product/"+t.product.id),$(".delete-product-"+t.oldproductid).attr("href","/order/delete-product/"+t.product.id),$(".total_price_inc_tax_"+t.oldproductid).html(t.product.cart.total_price_inc_tax),$(".total_price_inc_tax_"+t.oldproductid).removeClass().addClass("total_price_inc_tax_"+t.product.id),$(".update-amount-"+t.oldproductid).removeClass().addClass(".update-amount-"+t.product.id),$(".delete-product-"+t.oldproductid).removeClass().addClass(".delete-product-"+t.product.id+" btn btn-danger"),e(t.totals))},"json")}),$(".sending_method_id").on("change",function(t){var n=$(this),i=$(this).attr("data-url")+"/"+n.val();$.get(i,{},function(t){if(t)if(e(t.totals),"undefined"==typeof t.sending_method.related_payment_methods_list)$(".payment_method_row").html('<select class="custom-selectbox payment_method_id form-control" disabled="disabled"><option value="0">Please select one option</option></select>');else{var n='<option value="0">Please select one option</option>';$.each(t.sending_method.related_payment_methods_list,function(e,t){n+='<option value="'+e+'">'+t+"</option>"}),$(".payment_method_row").html('<select data-url="/order/update-payment-method" class="custom-selectbox payment_method_id form-control" enabled="enabled">'+n+"</select>")}},"json")}),$("body").on("change",".payment_method_id",function(t){var n=$(this),i=$(this).attr("data-url")+"/"+n.val();$.get(i,{},function(t){t&&e(t.totals)},"json"),t.preventDefault()}),$(".price, .price_inc_tax, .tax-rate").keyup(function(){recalculate(this)}),$(".tax-rate").change(function(){$(".price").trigger("keyup")}),$(".price").trigger("keyup"),$(".select2").select2(),$(".datepicker").datepicker({format:"dd/mm/yyyy"}),$(".colorpicker").colorpicker({})}),function(e,t,n){var i=function(e,n){"use strict";e.extend(!0,n.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),e.extend(n.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),n.ext.renderer.pageButton.bootstrap=function(i,r,o,a,s,l){var c,d,u,h=new n.Api(i),f=i.oClasses,p=i.oLanguage.oPaginate,g=0,m=function(t,n){var r,a,u,v,y=function(t){t.preventDefault(),e(t.currentTarget).hasClass("disabled")||h.page(t.data.action).draw(!1)};for(r=0,a=n.length;r<a;r++)if(v=n[r],e.isArray(v))m(t,v);else{switch(c="",d="",v){case"ellipsis":c="&hellip;",d="disabled";break;case"first":c=p.sFirst,d=v+(s>0?"":" disabled");break;case"previous":c=p.sPrevious,d=v+(s>0?"":" disabled");break;case"next":c=p.sNext,d=v+(s<l-1?"":" disabled");break;case"last":c=p.sLast,d=v+(s<l-1?"":" disabled");break;default:c=v+1,d=s===v?"active":""}c&&(u=e("<li>",{"class":f.sPageButton+" "+d,id:0===o&&"string"==typeof v?i.sTableId+"_"+v:null}).append(e("<a>",{href:"#","aria-controls":i.sTableId,"data-dt-idx":g,tabindex:i.iTabIndex}).html(c)).appendTo(t),i.oApi._fnBindAction(u,{action:v},y),g++)}};try{u=e(t.activeElement).data("dt-idx")}catch(v){}m(e(r).empty().html('<ul class="pagination"/>').children("ul"),a),u&&e(r).find("[data-dt-idx="+u+"]").focus()},n.TableTools&&(e.extend(!0,n.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),e.extend(!0,n.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],i):"object"==typeof exports?i(require("jquery"),require("datatables")):jQuery&&i(jQuery,jQuery.fn.dataTable)}(window,document),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function i(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function r(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function o(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function a(t,n){var i=t.className;e(n).test(i)||(t.className+=(i?" ":"")+n)}function s(t,n){for(var i=t.split(" "),r=0;r<i.length;r++)i[r]&&!e(i[r]).test(n)&&(n+=" "+i[r]);return n}function l(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function d(e,t,n,i,r){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=i||0,a=r||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}function u(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function h(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);o==-1&&(o=e.length);var a=o-i;if(o==e.length||r+a>=t)return i+Math.min(a,t-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=t)return i}}function f(e){for(;ka.length<=e;)ka.push(p(ka)+" ");return ka[e]}function p(e){return e[e.length-1]}function g(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function m(e,t,n){for(var i=0,r=n(t);i<e.length&&n(e[i])<=r;)i++;e.splice(i,0,t)}function v(){}function y(e,t){var n;return Object.create?n=Object.create(e):(v.prototype=e,n=new v),t&&c(t,n),n}function b(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Sa.test(e))}function _(e,t){return t?!!(t.source.indexOf("\\w")>-1&&b(e))||t.test(e):b(e)}function w(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function x(e){return e.charCodeAt(0)>=768&&Ta.test(e)}function C(e,t,n){for(;(n<0?t>0:t<e.length)&&x(e.charAt(t));)t+=n;return t}function k(e,t,n){for(;;){if(Math.abs(t-n)<=1)return e(t)?t:n;var i=Math.floor((t+n)/2);e(i)?n=i:t=i}}function S(e,t,n){var r=this;this.input=n,r.scrollbarFiller=i("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=i("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=i("div",null,"CodeMirror-code"),r.selectionDiv=i("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=i("div",null,"CodeMirror-cursors"),r.measure=i("div",null,"CodeMirror-measure"),r.lineMeasure=i("div",null,"CodeMirror-measure"),r.lineSpace=i("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=i("div",[i("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=i("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=i("div",null,null,"position: absolute; height: "+ba+"px; width: 1px;"),r.gutters=i("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=i("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=i("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),Go&&Jo<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),Qo||Vo&&aa||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function T(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function D(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function A(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function j(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function L(e){if(null==e.parent)return null;for(var t=e.parent,n=u(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function N(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],l=s.height;if(t<l)break;t-=l}return n+a}function E(e,t){return t>=e.first&&t<e.first+e.size}function M(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function I(e,t,n){return void 0===n&&(n=null),this instanceof I?(this.line=e,this.ch=t,void(this.sticky=n)):new I(e,t,n)}function O(e,t){return e.line-t.line||e.ch-t.ch}function P(e,t){return e.sticky==t.sticky&&0==O(e,t)}function $(e){return I(e.line,e.ch)}function F(e,t){return O(e,t)<0?t:e}function H(e,t){return O(e,t)<0?e:t}function R(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function U(e,t){if(t.line<e.first)return I(e.first,0);var n=e.first+e.size-1;return t.line>n?I(n,T(e,n).text.length):W(t,T(e,t.line).text.length)}function W(e,t){var n=e.ch;return null==n||n>t?I(e.line,t):n<0?I(e.line,0):e}function B(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=U(e,t[i]);return n}function z(){Da=!0}function q(){Aa=!0}function V(e,t,n){this.marker=e,this.from=t,this.to=n}function K(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function Y(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function X(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function G(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new V(a,o.from,l?null:o.to))}}return i}function J(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new V(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return i}function Q(e,t){if(t.full)return null;var n=E(e,t.from.line)&&T(e,t.from.line).markedSpans,i=E(e,t.to.line)&&T(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,a=0==O(t.from,t.to),s=G(n,r,a),l=J(i,o,a),c=1==t.text.length,d=p(t.text).length+(c?r:0);if(s)for(var u=0;u<s.length;++u){var h=s[u];if(null==h.to){var f=K(l,h.marker);f?c&&(h.to=null==f.to?null:f.to+d):h.to=r}}if(l)for(var g=0;g<l.length;++g){var m=l[g];if(null!=m.to&&(m.to+=d),null==m.from){var v=K(s,m.marker);v||(m.from=d,c&&(s||(s=[])).push(m))}else m.from+=d,c&&(s||(s=[])).push(m)}s&&(s=Z(s)),l&&l!=s&&(l=Z(l));var y=[s];if(!c){var b,_=t.text.length-2;if(_>0&&s)for(var w=0;w<s.length;++w)null==s[w].to&&(b||(b=[])).push(new V(s[w].marker,null,null));for(var x=0;x<_;++x)y.push(b);y.push(l)}return y}function Z(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ee(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&u(i,n)!=-1||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var a=i[o],s=a.find(0),l=0;l<r.length;++l){var c=r[l];if(!(O(c.to,s.from)<0||O(c.from,s.to)>0)){var d=[l,1],h=O(c.from,s.from),f=O(c.to,s.to);(h<0||!a.inclusiveLeft&&!h)&&d.push({from:c.from,to:s.from}),(f>0||!a.inclusiveRight&&!f)&&d.push({from:s.to,to:c.to}),r.splice.apply(r,d),l+=d.length-3}}return r}function te(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ne(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function ie(e){return e.inclusiveLeft?-1:0}function re(e){return e.inclusiveRight?1:0}function oe(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=O(i.from,r.from)||ie(e)-ie(t);if(o)return-o;var a=O(i.to,r.to)||re(e)-re(t);return a?a:t.id-e.id}function ae(e,t){var n,i=Aa&&e.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||oe(n,r.marker)<0)&&(n=r.marker);return n}function se(e){return ae(e,!0)}function le(e){return ae(e,!1)}function ce(e,t,n,i,r){var o=T(e,t),a=Aa&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),d=O(c.from,n)||ie(l.marker)-ie(r),u=O(c.to,i)||re(l.marker)-re(r);if(!(d>=0&&u<=0||d<=0&&u>=0)&&(d<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?O(c.to,n)>=0:O(c.to,n)>0)||d>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?O(c.from,i)<=0:O(c.from,i)<0)))return!0}}}function de(e){for(var t;t=se(e);)e=t.find(-1,!0).line;return e}function ue(e){for(var t;t=le(e);)e=t.find(1,!0).line;return e}function he(e){for(var t,n;t=le(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function fe(e,t){var n=T(e,t),i=de(n);return n==i?t:L(i)}function pe(e,t){if(t>e.lastLine())return t;var n,i=T(e,t);if(!ge(e,i))return t;for(;n=le(i);)i=n.find(1,!0).line;return L(i)+1}function ge(e,t){var n=Aa&&t.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&me(e,t,i))return!0}}function me(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return me(e,i.line,K(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if(r=t.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&me(e,t,r))return!0}function ve(e){e=de(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function ye(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=se(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=le(i);){var o=t.find(0,!0);n-=i.text.length-o.from.ch,i=o.to.line,n+=i.text.length-o.to.ch}return n}function be(e){var t=e.display,n=e.doc;t.maxLine=T(n,n.first),t.maxLineLength=ye(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=ye(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function _e(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(i(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}function we(e,t,n){var i;ja=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==n?i=r:ja=r),o.from==t&&(o.from!=o.to&&"before"!=n?i=r:ja=r)}return null!=i?i:ja}function xe(e){var t=e.order;return null==t&&(t=e.order=La(e.text)),t}function Ce(e,t,n){var i=C(e.text,t+n,n);return i<0||i>e.text.length?null:i}function ke(e,t,n){var i=Ce(e,t.ch,n);return null==i?null:new I(t.line,i,n<0?"after":"before")}function Se(e,t,n,i,r){if(e){var o=xe(n);if(o){var a,s=r<0?p(o):o[0],l=r<0==(1==s.level),c=l?"after":"before";if(s.level>0){var d=Xt(t,n);a=r<0?n.text.length-1:0;var u=Gt(t,d,a).top;a=k(function(e){return Gt(t,d,e).top==u},r<0==(1==s.level)?s.from:s.to-1,a),"before"==c&&(a=Ce(n,a,1,!0))}else a=r<0?s.to:s.from;return new I(i,a,c)}}return new I(i,r<0?n.text.length:0,r<0?"before":"after")}function Te(e,t,n,i){var r=xe(t);if(!r)return ke(t,n,i);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=we(r,n.ch,n.sticky),a=r[o];if(a.level%2==0&&(i>0?a.to>n.ch:a.from<n.ch))return ke(t,n,i);var s,l=function(e,n){return Ce(t,e instanceof I?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(s=s||Xt(e,t),gn(e,t,s,n)):{begin:0,end:t.text.length}},d=c("before"==n.sticky?l(n,-1):n.ch);if(a.level%2==1){var u=l(n,-i);if(null!=u&&(i>0?u>=a.from&&u>=d.begin:u<=a.to&&u<=d.end)){var h=i<0?"before":"after";return new I(n.line,u,h)}}var f=function(e,t,i){for(var o=function(e,t){return t?new I(n.line,l(e,1),"before"):new I(n.line,e,"after")};e>=0&&e<r.length;e+=t){var a=r[e],s=t>0==(1!=a.level),c=s?i.begin:l(i.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),i.begin<=c&&c<i.end)return o(c,s)}},p=f(o+i,i,d);if(p)return p;var g=i>0?d.end:l(d.begin,-1);return null==g||i>0&&g==t.text.length||!(p=f(i>0?0:r.length-1,i,c(g)))?null:p}function De(e,t){return e._handlers&&e._handlers[t]||Na}function Ae(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers,r=i&&i[t];if(r){var o=u(r,n);o>-1&&(i[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function je(e,t){var n=De(e,t);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function Le(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),je(e,n||t.type,e,t),Pe(t)||t.codemirrorIgnore}function Ne(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)u(n,t[i])==-1&&n.push(t[i])}function Ee(e,t){return De(e,t).length>0}function Me(e){e.prototype.on=function(e,t){Ea(this,e,t)},e.prototype.off=function(e,t){Ae(this,e,t)}}function Ie(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Oe(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Pe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function $e(e){Ie(e),Oe(e)}function Fe(e){return e.target||e.srcElement}function He(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),sa&&e.ctrlKey&&1==t&&(t=3),t}function Re(e){if(null==va){var t=i("span","");n(e,i("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(va=t.offsetWidth<=1&&t.offsetHeight>2&&!(Go&&Jo<8))}var r=va?i("span",""):i("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Ue(e){if(null!=ya)return ya;var i=n(e,document.createTextNode("AA")),r=ua(i,0,1).getBoundingClientRect(),o=ua(i,1,2).getBoundingClientRect();return t(e),!(!r||r.left==r.right)&&(ya=o.right-r.right<3)}function We(e){if(null!=$a)return $a;var t=n(e,i("span","x")),r=t.getBoundingClientRect(),o=ua(t,0,1).getBoundingClientRect();return $a=Math.abs(r.left-o.left)>1}function Be(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Fa[e]=t}function ze(e,t){Ha[e]=t}function qe(e){if("string"==typeof e&&Ha.hasOwnProperty(e))e=Ha[e];else if(e&&"string"==typeof e.name&&Ha.hasOwnProperty(e.name)){var t=Ha[e.name];"string"==typeof t&&(t={name:t}),e=y(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return qe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return qe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=qe(t);var n=Fa[t.name];if(!n)return Ve(e,"text/plain");var i=n(e,t);if(Ra.hasOwnProperty(t.name)){var r=Ra[t.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)i[a]=t.modeProps[a];return i}function Ke(e,t){var n=Ra.hasOwnProperty(e)?Ra[e]:Ra[e]={};c(t,n)}function Ye(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Xe(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),n&&n.mode!=e);)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ge(e,t,n){return!e.startState||e.startState(t,n)}function Je(e,t,n,i){var r=[e.state.modeGen],o={};ot(e,t.text,e.doc.mode,n,function(e,t){return r.push(e,t)},o,i);for(var a=function(n){var i=e.state.overlays[n],a=1,s=0;ot(e,t.text,i.mode,!0,function(e,t){for(var n=a;s<e;){var o=r[a];o>e&&r.splice(a,1,e,r[a+1],o),a+=2,s=Math.min(e,o)}if(t)if(i.opaque)r.splice(n,a-n,e,"overlay "+t),a=n+2;else for(;n<a;n+=2){var l=r[n+1];r[n+1]=(l?l+" ":"")+"overlay "+t}},o)},s=0;s<e.state.overlays.length;++s)a(s);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Qe(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Ze(e,L(t)),r=Je(e,t,t.text.length>e.options.maxHighlightLength?Ye(e.doc.mode,i):i);t.stateAfter=i,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Ze(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var o=at(e,t,n),a=o>i.first&&T(i,o-1).stateAfter;return a=a?Ye(i.mode,a):Ge(i.mode),i.iter(o,t,function(n){et(e,n.text,a);var s=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=s?Ye(i.mode,a):null,++o}),n&&(i.frontier=o),a}function et(e,t,n,i){var r=e.doc.mode,o=new Ua(t,e.options.tabSize);for(o.start=o.pos=i||0,""==t&&tt(r,n);!o.eol();)nt(r,o,n),o.start=o.pos}function tt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Xe(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function nt(e,t,n,i){for(var r=0;r<10;r++){i&&(i[0]=Xe(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function it(e,t,n,i){var r,o=function(e){return{start:u.start,end:u.pos,string:u.current(),type:r||null,state:e?Ye(a.mode,d):d}},a=e.doc,s=a.mode;t=U(a,t);var l,c=T(a,t.line),d=Ze(e,t.line,n),u=new Ua(c.text,e.options.tabSize);for(i&&(l=[]);(i||u.pos<t.ch)&&!u.eol();)u.start=u.pos,r=nt(s,u,d),i&&l.push(o(!0));return i?l:o()}function rt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function ot(e,t,n,i,r,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,d=null,u=new Ua(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&rt(tt(n,i),o);!u.eol();){if(u.pos>e.options.maxHighlightLength?(s=!1,a&&et(e,t,i,u.pos),u.pos=t.length,l=null):l=rt(nt(n,u,i,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||d!=l){for(;c<u.start;)c=Math.min(u.start,c+5e3),r(c,d);d=l}u.start=u.pos}for(;c<u.pos;){var p=Math.min(u.pos,c+5e3);r(p,d),c=p}}function at(e,t,n){for(var i,r,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=T(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var c=d(l.text,null,e.options.tabSize);(null==r||i>c)&&(r=s-1,i=c)}return r}function st(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),te(e),ne(e,n);var r=i?i(e):1;r!=e.height&&j(e,r)}function lt(e){e.parent=null,te(e)}function ct(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?qa:za;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function dt(e,t){var n=i("span",null,null,Qo?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(Go||Qo)&&e.getOption("lineWrapping")};n.setAttribute("role","presentation"),r.pre.setAttribute("role","presentation"),t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a=o?t.rest[o-1]:t.line,l=void 0;r.pos=0,r.addToken=ht,Ue(e.display.measure)&&(l=xe(a))&&(r.addToken=pt(r.addToken,l)),r.map=[];var c=t!=e.display.externalMeasured&&L(a);mt(a,r,Qe(e,a,c)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=s(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=s(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Re(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Qo){var d=r.content.lastChild;(/\bcm-tab\b/.test(d.className)||d.querySelector&&d.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return je(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=s(r.pre.className,r.textClass||"")),r}function ut(e){var t=i("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ht(e,t,n,r,o,a,s){if(t){var l,c=e.splitSpaces?ft(t,e.trailingSpace):t,d=e.cm.state.specialChars,u=!1;if(d.test(t)){l=document.createDocumentFragment();for(var h=0;;){d.lastIndex=h;var p=d.exec(t),g=p?p.index-h:t.length-h;
if(g){var m=document.createTextNode(c.slice(h,h+g));Go&&Jo<9?l.appendChild(i("span",[m])):l.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!p)break;h+=g+1;var v=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;v=l.appendChild(i("span",f(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?(v=l.appendChild(i("span","\r"==p[0]?"":"","cm-invalidchar")),v.setAttribute("cm-text",p[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(p[0]),v.setAttribute("cm-text",p[0]),Go&&Jo<9?l.appendChild(i("span",[v])):l.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,l=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,l),Go&&Jo<9&&(u=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||o||u||s){var _=n||"";r&&(_+=r),o&&(_+=o);var w=i("span",[l],_,s);return a&&(w.title=a),e.content.appendChild(w)}e.content.appendChild(l)}}function ft(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=""),i+=o,n=" "==o}return i}function pt(e,t){return function(n,i,r,o,a,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,d=c+i.length;;){for(var u=void 0,h=0;h<t.length&&(u=t[h],!(u.to>c&&u.from<=c));h++);if(u.to>=d)return e(n,i,r,o,a,s,l);e(n,i.slice(0,u.to-c),r,o,null,s,l),o=null,i=i.slice(u.to-c),c=u.to}}}function gt(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function mt(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var a,s,l,c,d,u,h,f=r.length,p=0,g=1,m="",v=0;;){if(v==p){l=c=d=u=s="",h=null,v=1/0;for(var y=[],b=void 0,_=0;_<i.length;++_){var w=i[_],x=w.marker;"bookmark"==x.type&&w.from==p&&x.widgetNode?y.push(x):w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&w.from==p&&(d+=" "+x.startStyle),x.endStyle&&w.to==v&&(b||(b=[])).push(x.endStyle,w.to),x.title&&!u&&(u=x.title),x.collapsed&&(!h||oe(h.marker,x)<0)&&(h=w)):w.from>p&&v>w.from&&(v=w.from)}if(b)for(var C=0;C<b.length;C+=2)b[C+1]==v&&(c+=" "+b[C]);if(!h||h.from==p)for(var k=0;k<y.length;++k)gt(t,0,y[k]);if(h&&(h.from||0)==p){if(gt(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var S=Math.min(f,v);;){if(m){var T=p+m.length;if(!h){var D=T>S?m.slice(0,S-p):m;t.addToken(t,D,a?a+l:l,d,p+D.length==v?c:"",u,s)}if(T>=S){m=m.slice(S-p),p=S;break}p=T,d=""}m=r.slice(o,o=n[g++]),a=ct(n[g++],t.cm.options)}}else for(var A=1;A<n.length;A+=2)t.addToken(t,r.slice(o,o=n[A]),ct(n[A+1],t.cm.options))}function vt(e,t,n){this.line=t,this.rest=he(t),this.size=this.rest?L(p(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ge(e,t)}function yt(e,t,n){for(var i,r=[],o=t;o<n;o=i){var a=new vt(e.doc,T(e.doc,o),o);i=o+a.size,r.push(a)}return r}function bt(e){Va?Va.ops.push(e):e.ownsGroup=Va={ops:[e],delayedCallbacks:[]}}function _t(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}function wt(e,t){var n=e.ownsGroup;if(n)try{_t(n)}finally{Va=null,t(n)}}function xt(e,t){var n=De(e,t);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);Va?i=Va.delayedCallbacks:Ka?i=Ka:(i=Ka=[],setTimeout(Ct,0));for(var o=function(e){i.push(function(){return n[e].apply(null,r)})},a=0;a<n.length;++a)o(a)}}function Ct(){var e=Ka;Ka=null;for(var t=0;t<e.length;++t)e[t]()}function kt(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?At(e,t):"gutter"==o?Lt(e,t,n,i):"class"==o?jt(t):"widget"==o&&Nt(e,t,i)}t.changes=null}function St(e){return e.node==e.text&&(e.node=i("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Go&&Jo<8&&(e.node.style.zIndex=2)),e.node}function Tt(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=St(e);e.background=n.insertBefore(i("div",null,t),n.firstChild)}}function Dt(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):dt(e,t)}function At(e,t){var n=t.text.className,i=Dt(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,jt(t)):n&&(t.text.className=n)}function jt(e){Tt(e),e.line.wrapClass?St(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function Lt(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=St(t);t.gutterBackground=i("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),o.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var s=St(t),l=t.gutter=i("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),s.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(i("div",M(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var c=0;c<e.options.gutters.length;++c){var d=e.options.gutters[c],u=a.hasOwnProperty(d)&&a[d];u&&l.appendChild(i("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[d]+"px; width: "+r.gutterWidth[d]+"px"))}}}function Nt(e,t,n){t.alignable&&(t.alignable=null);for(var i=t.node.firstChild,r=void 0;i;i=r)r=i.nextSibling,"CodeMirror-linewidget"==i.className&&t.node.removeChild(i);Mt(e,t,n)}function Et(e,t,n,i){var r=Dt(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),jt(t),Lt(e,t,n,i),Mt(e,t,i),t.node}function Mt(e,t,n){if(It(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)It(e,t.rest[i],t,n,!1)}function It(e,t,n,r,o){if(t.widgets)for(var a=St(n),s=0,l=t.widgets;s<l.length;++s){var c=l[s],d=i("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||d.setAttribute("cm-ignore-events","true"),Ot(c,d,n,r),e.display.input.setUneditable(d),o&&c.above?a.insertBefore(d,n.gutter||n.text):a.appendChild(d),xt(c,"redraw")}}function Ot(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function Pt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!r(document.body,e.node)){var o="position: relative;";e.coverGutter&&(o+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(o+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,i("div",[e.node],null,o))}return e.height=e.node.parentNode.offsetHeight}function $t(e,t){for(var n=Fe(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Ft(e){return e.lineSpace.offsetTop}function Ht(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Rt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,i("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Ut(e){return ba-e.display.nativeBarWidth}function Wt(e){return e.display.scroller.clientWidth-Ut(e)-e.display.barWidth}function Bt(e){return e.display.scroller.clientHeight-Ut(e)-e.display.barHeight}function zt(e,t,n){var i=e.options.lineWrapping,r=i&&Wt(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function qt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var r=0;r<e.rest.length;r++)if(L(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Vt(e,t){t=de(t);var i=L(t),r=e.display.externalMeasured=new vt(e.doc,t,i);r.lineN=i;var o=r.built=dt(e,r);return r.text=o.pre,n(e.display.lineMeasure,o.pre),r}function Kt(e,t,n,i){return Gt(e,Xt(e,t),n,i)}function Yt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[kn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Xt(e,t){var n=L(t),i=Yt(e,n);i&&!i.text?i=null:i&&i.changes&&(kt(e,i,n,bn(e)),e.curOp.forceUpdate=!0),i||(i=Vt(e,t));var r=qt(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Gt(e,t,n,i,r){t.before&&(n=-1);var o,a=n+(i||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(zt(e,t.view,t.rect),t.hasHeights=!0),o=Zt(e,t,n,i),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function Jt(e,t,n){for(var i,r,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(r=0,o=1,a="left"):t<l?(r=t-s,o=r+1):(c==e.length-3||t==l&&e[c+3]>t)&&(o=l-s,r=o-1,t>=l&&(a="right")),null!=r){if(i=e[c+2],s==l&&n==(i.insertLeft?"left":"right")&&(a=n),"left"==n&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)i=e[(c-=3)+2],a="left";if("right"==n&&r==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)i=e[(c+=3)+2],a="right";break}return{node:i,start:r,end:o,collapse:a,coverStart:s,coverEnd:l}}function Qt(e,t){var n=Ya;if("left"==t)for(var i=0;i<e.length&&(n=e[i]).left==n.right;i++);else for(var r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function Zt(e,t,n,i){var r,o=Jt(t.map,n,i),a=o.node,s=o.start,l=o.end,c=o.collapse;if(3==a.nodeType){for(var d=0;d<4;d++){for(;s&&x(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&x(t.line.text.charAt(o.coverStart+l));)++l;if(r=Go&&Jo<9&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Qt(ua(a,s,l).getClientRects(),i),r.left||r.right||0==s)break;l=s,s-=1,c="right"}Go&&Jo<11&&(r=en(e.display.measure,r))}else{s>0&&(c=i="right");var u;r=e.options.lineWrapping&&(u=a.getClientRects()).length>1?u["right"==i?u.length-1:0]:a.getBoundingClientRect()}if(Go&&Jo<9&&!s&&(!r||!r.left&&!r.right)){var h=a.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+yn(e.display),top:h.top,bottom:h.bottom}:Ya}for(var f=r.top-t.rect.top,p=r.bottom-t.rect.top,g=(f+p)/2,m=t.view.measure.heights,v=0;v<m.length-1&&!(g<m[v]);v++);var y=v?m[v-1]:0,b=m[v],_={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:y,bottom:b};return r.left||r.right||(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=f,_.rbottom=p),_}function en(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!We(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function tn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function nn(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)tn(e.display.view[n])}function rn(e){nn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function on(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function an(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function sn(e,t,n,i,r){if(!r&&t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var a=Pt(t.widgets[o]);n.top+=a,n.bottom+=a}if("line"==i)return n;i||(i="local");var s=ve(t);if("local"==i?s+=Ft(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var l=e.display.lineSpace.getBoundingClientRect();s+=l.top+("window"==i?0:an());var c=l.left+("window"==i?0:on());n.left+=c,n.right+=c}return n.top+=s,n.bottom+=s,n}function ln(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=on(),r-=an();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:i-a.left,top:r-a.top}}function cn(e,t,n,i,r){return i||(i=T(e.doc,t.line)),sn(e,i,Kt(e,i,t.ch,r),n)}function dn(e,t,n,i,r,o){function a(t,a){var s=Gt(e,r,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,sn(e,i,s,n)}function s(e,t,n){var i=l[t],r=i.level%2!=0;return a(n?e-1:e,r!=n)}i=i||T(e.doc,t.line),r||(r=Xt(e,i));var l=xe(i),c=t.ch,d=t.sticky;if(c>=i.text.length?(c=i.text.length,d="before"):c<=0&&(c=0,d="after"),!l)return a("before"==d?c-1:c,"before"==d);var u=we(l,c,d),h=ja,f=s(c,u,"before"==d);return null!=h&&(f.other=s(c,h,"before"!=d)),f}function un(e,t){var n=0;t=U(e.doc,t),e.options.lineWrapping||(n=yn(e.display)*t.ch);var i=T(e.doc,t.line),r=ve(i)+Ft(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function hn(e,t,n,i,r){var o=I(e,t,n);return o.xRel=r,i&&(o.outside=!0),o}function fn(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,n<0)return hn(i.first,0,null,!0,-1);var r=N(i,n),o=i.first+i.size-1;if(r>o)return hn(i.first+i.size-1,T(i,o).text.length,null,!0,1);t<0&&(t=0);for(var a=T(i,r);;){var s=mn(e,a,r,t,n),l=le(a),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;r=L(a=c.to.line)}}function pn(e,t,n,i){var r=function(i){return sn(e,t,Gt(e,n,i),"line")},o=t.text.length,a=k(function(e){return r(e-1).bottom<=i},o,0);return o=k(function(e){return r(e).top>i},a,o),{begin:a,end:o}}function gn(e,t,n,i){var r=sn(e,t,Gt(e,n,i),"line").top;return pn(e,t,n,r)}function mn(e,t,n,i,r){r-=ve(t);var o,a=0,s=t.text.length,l=Xt(e,t),c=xe(t);if(c){if(e.options.lineWrapping){var d;d=pn(e,t,l,r),a=d.begin,s=d.end,d}o=new I(n,a);var u,h,f=dn(e,o,"line",t,l).left,p=f<i?1:-1,g=f-i;do{if(u=g,h=o,o=Te(e,t,o,p),null==o||o.ch<a||s<=("before"==o.sticky?o.ch-1:o.ch)){o=h;break}g=dn(e,o,"line",t,l).left-i}while(p<0!=g<0&&Math.abs(g)<=Math.abs(u));if(Math.abs(g)>Math.abs(u)){if(g<0==u<0)throw new Error("Broke out of infinite loop in coordsCharInner");o=h}}else{var m=k(function(n){var o=sn(e,t,Gt(e,l,n),"line");return o.top>r?(s=Math.min(n,s),!0):!(o.bottom<=r)&&(o.left>i||!(o.right<i)&&i-o.left<o.right-i)},a,s);m=C(t.text,m,1),o=new I(n,m,m==s?"before":"after")}var v=dn(e,o,"line",t,l);return(r<v.top||v.bottom<r)&&(o.outside=!0),o.xRel=i<v.left?-1:i>v.right?1:0,o}function vn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ba){Ba=i("pre");for(var r=0;r<49;++r)Ba.appendChild(document.createTextNode("x")),Ba.appendChild(i("br"));Ba.appendChild(document.createTextNode("x"))}n(e.measure,Ba);var o=Ba.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function yn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=i("span","xxxxxxxxxx"),r=i("pre",[t]);n(e.measure,r);var o=t.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function bn(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[a]]=o.clientWidth;return{fixedPos:_n(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function _n(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function wn(e){var t=vn(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/yn(e.display)-3);return function(r){if(ge(e.doc,r))return 0;var o=0;if(r.widgets)for(var a=0;a<r.widgets.length;a++)r.widgets[a].height&&(o+=r.widgets[a].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function xn(e){var t=e.doc,n=wn(e);t.iter(function(e){var t=n(e);t!=e.height&&j(e,t)})}function Cn(e,t,n,i){var r=e.display;if(!n&&"true"==Fe(t).getAttribute("cm-not-content"))return null;var o,a,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,c=fn(e,o,a);if(i&&1==c.xRel&&(l=T(e.doc,c.line).text).length==c.ch){var u=d(l,l.length,e.options.tabSize)-l.length;c=I(c.line,Math.max(0,Math.round((o-Rt(e.display).left)/yn(e.display))-u))}return c}function kn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,t<0)return i}function Sn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Tn(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t!==!1||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Dn(e,s.head,r),l||An(e,s,o)}}return i}function Dn(e,t,n){var r=dn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(i("div","","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var a=n.appendChild(i("div","","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function An(e,t,n){function r(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),l.appendChild(i("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?u-e:n)+"px;\n                             height: "+(r-t)+"px"))}function o(t,n,i){function o(n,i){return cn(e,I(t,n),"div",c,i)}var a,l,c=T(s,t),h=c.text.length;return _e(xe(c),n||0,null==i?h:i,function(e,t,s){var c,f,p,g=o(e,"left");if(e==t)c=g,f=p=g.left;else{if(c=o(t-1,"right"),"rtl"==s){var m=g;g=c,c=m}f=g.left,p=c.right}null==n&&0==e&&(f=d),c.top-g.top>3&&(r(f,g.top,null,g.bottom),f=d,g.bottom<c.top&&r(f,g.bottom,null,c.top)),null==i&&t==h&&(p=u),(!a||g.top<a.top||g.top==a.top&&g.left<a.left)&&(a=g),(!l||c.bottom>l.bottom||c.bottom==l.bottom&&c.right>l.right)&&(l=c),f<d+1&&(f=d),r(f,c.top,p-f,c.bottom)}),{start:a,end:l}}var a=e.display,s=e.doc,l=document.createDocumentFragment(),c=Rt(e.display),d=c.left,u=Math.max(a.sizerWidth,Wt(e)-a.sizer.offsetLeft)-c.right,h=t.from(),f=t.to();if(h.line==f.line)o(h.line,h.ch,f.ch);else{var p=T(s,h.line),g=T(s,f.line),m=de(p)==de(g),v=o(h.line,h.ch,m?p.text.length+1:null).end,y=o(f.line,m?0:null,f.ch).start;m&&(v.top<y.top-2?(r(v.right,v.top,null,v.bottom),r(d,y.top,y.left,y.bottom)):r(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&r(d,v.bottom,null,y.top)}n.appendChild(l)}function jn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ln(e){e.state.focused||(e.display.input.focus(),En(e))}function Nn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Mn(e))},100)}function En(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(je(e,"focus",e,t),e.state.focused=!0,a(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Qo&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),jn(e))}function Mn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(je(e,"blur",e,t),e.state.focused=!1,pa(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function In(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=_n(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function On(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=M(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(i("div",[i("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,s=o.offsetWidth-a;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(a,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ti(e),!0}return!1}function Pn(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r=t.view[i],o=void 0;if(!r.hidden){if(Go&&Jo<8){var a=r.node.offsetTop+r.node.offsetHeight;o=a-n,n=a}else{var s=r.node.getBoundingClientRect();o=s.bottom-s.top}var l=r.line.height-o;if(o<2&&(o=vn(t)),(l>.001||l<-.001)&&(j(r.line,o),$n(r.line),r.rest))for(var c=0;c<r.rest.length;c++)$n(r.rest[c])}}}function $n(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function Fn(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Ft(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=N(t,i),a=N(t,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=N(t,ve(T(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=N(t,ve(T(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Hn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Vo||ki(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),Vo&&ki(e),bi(e,100))}function Rn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,In(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Un(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Wn(e){var t=Un(e);return t.x*=Ga,t.y*=Ga,t}function Bn(e,t){var n=Un(t),i=n.x,r=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(i&&s||r&&l){if(r&&sa&&Qo)e:for(var c=t.target,d=o.view;c!=a;c=c.parentNode)for(var u=0;u<d.length;u++)if(d[u].node==c){e.display.currentWheelTarget=c;break e}if(i&&!Vo&&!ta&&null!=Ga)return r&&l&&Hn(e,Math.max(0,Math.min(a.scrollTop+r*Ga,a.scrollHeight-a.clientHeight))),Rn(e,Math.max(0,Math.min(a.scrollLeft+i*Ga,a.scrollWidth-a.clientWidth))),(!r||r&&l)&&Ie(t),void(o.wheelStartX=null);if(r&&null!=Ga){var h=r*Ga,f=e.doc.scrollTop,p=f+o.wrapper.clientHeight;h<0?f=Math.max(0,f+h-50):p=Math.min(e.doc.height,p+h+50),ki(e,{top:f,bottom:p})}Xa<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ga=(Ga*Xa+n)/(Xa+1),++Xa)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function zn(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Ht(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Ut(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function qn(e,t){t||(t=zn(e));var n=e.display.barWidth,i=e.display.barHeight;Vn(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&Pn(e),Vn(e,zn(e)),n=e.display.barWidth,i=e.display.barHeight}function Vn(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function Kn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&pa(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Za[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ea(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?Rn(e,t):Hn(e,t)},e),e.display.scrollbars.addClass&&a(e.display.wrapper,e.display.scrollbars.addClass)}function Yn(e,t){if(!Le(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null;if(t.top+r.top<0?o=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!ra){var a=i("div","",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Ft(e.display))+"px;\n                         height: "+(t.bottom-t.top+Ut(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function Xn(e,t,n,i){null==i&&(i=0);for(var r,o=0;o<5;o++){var a=!1;r=dn(e,t);var s=n&&n!=t?dn(e,n):r,l=Jn(e,Math.min(r.left,s.left),Math.min(r.top,s.top)-i,Math.max(r.left,s.left),Math.max(r.bottom,s.bottom)+i),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=l.scrollTop&&(Hn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(Rn(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return r}function Gn(e,t,n,i,r){var o=Jn(e,t,n,i,r);null!=o.scrollTop&&Hn(e,o.scrollTop),null!=o.scrollLeft&&Rn(e,o.scrollLeft)}function Jn(e,t,n,i,r){var o=e.display,a=vn(e.display);n<0&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Bt(e),c={};r-n>l&&(r=n+l);var d=e.doc.height+Ht(o),u=n<a,h=r>d-a;if(n<s)c.scrollTop=u?0:n;else if(r>s+l){var f=Math.min(n,(h?d:r)-l);f!=s&&(c.scrollTop=f)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=Wt(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),m=i-t>g;return m&&(i=t+g),t<10?c.scrollLeft=0:t<p?c.scrollLeft=Math.max(0,t-(m?0:10)):i>g+p-3&&(c.scrollLeft=i+(m?0:10)-g),c}function Qn(e,t,n){null==t&&null==n||ei(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Zn(e){ei(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?I(t.line,t.ch-1):t,i=I(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function ei(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=un(e,t.from),i=un(e,t.to),r=Jn(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function ti(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++es},bt(e.curOp)}function ni(e){var t=e.curOp;wt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;ii(e)})}function ii(e){for(var t=e.ops,n=0;n<t.length;n++)ri(t[n]);for(var i=0;i<t.length;i++)oi(t[i]);for(var r=0;r<t.length;r++)ai(t[r]);for(var o=0;o<t.length;o++)si(t[o]);for(var a=0;a<t.length;a++)li(t[a])}function ri(e){var t=e.cm,n=t.display;wi(t),e.updateMaxLine&&be(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ts(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function oi(e){e.updatedDisplay=e.mustUpdate&&xi(e.cm,e.update)}function ai(e){var t=e.cm,n=t.display;e.updatedDisplay&&Pn(t),e.barMeasure=zn(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Kt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ut(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Wt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function si(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Rn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==o()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&qn(t,e.barMeasure),e.updatedDisplay&&Di(t,e.barMeasure),e.selectionChanged&&jn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Ln(e.cm)}function li(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&Ci(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),
n.scroller.scrollLeft=i.scrollLeft,In(t)),e.scrollToPos){var r=Xn(t,U(i,e.scrollToPos.from),U(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Yn(t,r)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||je(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&je(a[l],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&je(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function ci(e,t){if(e.curOp)return t();ti(e);try{return t()}finally{ni(e)}}function di(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ti(e);try{return t.apply(e,arguments)}finally{ni(e)}}}function ui(e){return function(){if(this.curOp)return e.apply(this,arguments);ti(this);try{return e.apply(this,arguments)}finally{ni(this)}}}function hi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ti(t);try{return e.apply(this,arguments)}finally{ni(t)}}}function fi(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Aa&&fe(e.doc,t)<r.viewTo&&gi(e);else if(n<=r.viewFrom)Aa&&pe(e.doc,n+i)>r.viewFrom?gi(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)gi(e);else if(t<=r.viewFrom){var o=mi(e,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):gi(e)}else if(n>=r.viewTo){var a=mi(e,t,t,-1);a?(r.view=r.view.slice(0,a.index),r.viewTo=a.lineN):gi(e)}else{var s=mi(e,t,t,-1),l=mi(e,n,n+i,1);s&&l?(r.view=r.view.slice(0,s.index).concat(yt(e,s.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=i):gi(e)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=i:t<c.lineN+c.size&&(r.externalMeasured=null))}function pi(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[kn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);u(a,n)==-1&&a.push(n)}}}function gi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function mi(e,t,n,i){var r,o=kn(e,t),a=e.display.view;if(!Aa||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(i>0){if(o==a.length-1)return null;r=s+a[o].size-t,o++}else r=s-t;t+=r,n+=r}for(;fe(e.doc,n)!=n;){if(o==(i<0?0:a.length-1))return null;n+=i*a[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function vi(e,t,n){var i=e.display,r=i.view;0==r.length||t>=i.viewTo||n<=i.viewFrom?(i.view=yt(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=yt(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(kn(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(yt(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,kn(e,n)))),i.viewTo=n}function yi(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function bi(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,l(_i,e))}function _i(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=Ye(t.mode,Ze(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength,l=Je(e,o,s?Ye(t.mode,i):i,!0);o.styles=l.styles;var c=o.styleClasses,d=l.classes;d?o.styleClasses=d:c&&(o.styleClasses=null);for(var u=!a||a.length!=o.styles.length||c!=d&&(!c||!d||c.bgClass!=d.bgClass||c.textClass!=d.textClass),h=0;!u&&h<a.length;++h)u=a[h]!=o.styles[h];u&&r.push(t.frontier),o.stateAfter=s?i:Ye(t.mode,i)}else o.text.length<=e.options.maxHighlightLength&&et(e,o.text,i),o.stateAfter=t.frontier%5==0?Ye(t.mode,i):null;if(++t.frontier,+new Date>n)return bi(e,e.options.workDelay),!0}),r.length&&ci(e,function(){for(var t=0;t<r.length;t++)pi(e,r[t],"text")})}}function wi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ut(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ut(e)+"px",t.scrollbarsClipped=!0)}function xi(e,n){var i=e.display,r=e.doc;if(n.editorIsHidden)return gi(e),!1;if(!n.force&&n.visible.from>=i.viewFrom&&n.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==yi(e))return!1;On(e)&&(gi(e),n.dims=bn(e));var a=r.first+r.size,s=Math.max(n.visible.from-e.options.viewportMargin,r.first),l=Math.min(a,n.visible.to+e.options.viewportMargin);i.viewFrom<s&&s-i.viewFrom<20&&(s=Math.max(r.first,i.viewFrom)),i.viewTo>l&&i.viewTo-l<20&&(l=Math.min(a,i.viewTo)),Aa&&(s=fe(e.doc,s),l=pe(e.doc,l));var c=s!=i.viewFrom||l!=i.viewTo||i.lastWrapHeight!=n.wrapperHeight||i.lastWrapWidth!=n.wrapperWidth;vi(e,s,l),i.viewOffset=ve(T(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var d=yi(e);if(!c&&0==d&&!n.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var u=o();return d>4&&(i.lineDiv.style.display="none"),Si(e,i.updateLineNumbers,n.dims),d>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,u&&o()!=u&&u.offsetHeight&&u.focus(),t(i.cursorDiv),t(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,c&&(i.lastWrapHeight=n.wrapperHeight,i.lastWrapWidth=n.wrapperWidth,bi(e,400)),i.updateLineNumbers=null,!0}function Ci(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Wt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ht(e.display)-Bt(e),n.top)}),t.visible=Fn(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&xi(e,t);i=!1){Pn(e);var r=zn(e);Sn(e),qn(e,r),Di(e,r)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ki(e,t){var n=new ts(e,t);if(xi(e,n)){Pn(e),Ci(e,n);var i=zn(e);Sn(e),qn(e,i),Di(e,i),n.finish()}}function Si(e,n,i){function r(t){var n=t.nextSibling;return Qo&&sa&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,a=e.options.lineNumbers,s=o.lineDiv,l=s.firstChild,c=o.view,d=o.viewFrom,h=0;h<c.length;h++){var f=c[h];if(f.hidden);else if(f.node&&f.node.parentNode==s){for(;l!=f.node;)l=r(l);var p=a&&null!=n&&n<=d&&f.lineNumber;f.changes&&(u(f.changes,"gutter")>-1&&(p=!1),kt(e,f,d,i)),p&&(t(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(M(e.options,d)))),l=f.node.nextSibling}else{var g=Et(e,f,d,i);s.insertBefore(g,l)}d+=f.size}for(;l;)l=r(l)}function Ti(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Di(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ut(e)+"px"}function Ai(e){var n=e.display.gutters,r=e.options.gutters;t(n);for(var o=0;o<r.length;++o){var a=r[o],s=n.appendChild(i("div",null,"CodeMirror-gutter "+a));"CodeMirror-linenumbers"==a&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",Ti(e)}function ji(e){var t=u(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Li(e,t){var n=e[t];e.sort(function(e,t){return O(e.from(),t.from())}),t=u(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(O(o.to(),r.from())>=0){var a=H(o.from(),r.from()),s=F(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=t&&--t,e.splice(--i,2,new is(l?s:a,l?a:s))}}return new ns(e,t)}function Ni(e,t){return new ns([new is(e,t||e)],0)}function Ei(e){return e.text?I(e.from.line+e.text.length-1,p(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Mi(e,t){if(O(e,t.from)<0)return e;if(O(e,t.to)<=0)return Ei(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Ei(t).ch-t.to.ch),I(n,i)}function Ii(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new is(Mi(r.anchor,t),Mi(r.head,t)))}return Li(n,e.sel.primIndex)}function Oi(e,t,n){return e.line==t.line?I(n.line,e.ch-t.ch+n.ch):I(n.line+(e.line-t.line),e.ch)}function Pi(e,t,n){for(var i=[],r=I(e.first,0),o=r,a=0;a<t.length;a++){var s=t[a],l=Oi(s.from,r,o),c=Oi(Ei(s),r,o);if(r=s.to,o=c,"around"==n){var d=e.sel.ranges[a],u=O(d.head,d.anchor)<0;i[a]=new is(u?c:l,u?l:c)}else i[a]=new is(l,l)}return new ns(i,e.sel.primIndex)}function $i(e){e.doc.mode=Ve(e.options,e.doc.modeOption),Fi(e)}function Fi(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,bi(e,100),e.state.modeGen++,e.curOp&&fi(e)}function Hi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==p(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ri(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){st(e,n,r,i),xt(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new Wa(c[o],r(o),i));return n}var s=t.from,l=t.to,c=t.text,d=T(e,s.line),u=T(e,l.line),h=p(c),f=r(c.length-1),g=l.line-s.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(Hi(e,t)){var m=a(0,c.length-1);o(u,u.text,f),g&&e.remove(s.line,g),m.length&&e.insert(s.line,m)}else if(d==u)if(1==c.length)o(d,d.text.slice(0,s.ch)+h+d.text.slice(l.ch),f);else{var v=a(1,c.length-1);v.push(new Wa(h+d.text.slice(l.ch),f,i)),o(d,d.text.slice(0,s.ch)+c[0],r(0)),e.insert(s.line+1,v)}else if(1==c.length)o(d,d.text.slice(0,s.ch)+c[0]+u.text.slice(l.ch),r(0)),e.remove(s.line+1,g);else{o(d,d.text.slice(0,s.ch)+c[0],r(0)),o(u,h+u.text.slice(l.ch),f);var y=a(1,c.length-1);g>1&&e.remove(s.line+1,g-1),e.insert(s.line+1,y)}xt(e,"change",e,t)}function Ui(e,t,n){function i(e,r,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=r){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),i(s.doc,e,l))}}}i(e,null,!0)}function Wi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,xn(e),$i(e),e.options.lineWrapping||be(e),e.options.mode=t.modeOption,fi(e)}function Bi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function zi(e,t){var n={from:$(t.from),to:Ei(t),text:D(e,t.from,t.to)};return Ji(e,n,t.from.line,t.to.line+1),Ui(e,function(e){return Ji(e,n,t.from.line,t.to.line+1)},!0),n}function qi(e){for(;e.length;){var t=p(e);if(!t.ranges)break;e.pop()}}function Vi(e,t){return t?(qi(e.done),p(e.done)):e.done.length&&!p(e.done).ranges?p(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),p(e.done)):void 0}function Ki(e,t,n,i){var r=e.history;r.undone.length=0;var o,a,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=Vi(r,r.lastOp==i)))a=p(o.changes),0==O(t.from,t.to)&&0==O(t.from,a.to)?a.to=Ei(t):o.changes.push(zi(e,t));else{var l=p(r.done);for(l&&l.ranges||Gi(e.sel,r.done),o={changes:[zi(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||je(e,"historyAdded")}function Yi(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Xi(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||Yi(e,o,p(r.done),t))?r.done[r.done.length-1]=t:Gi(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&i.clearRedo!==!1&&qi(r.undone)}function Gi(e,t){var n=p(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ji(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Qi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Zi(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=[],r=0;r<t.text.length;++r)i.push(Qi(n[r]));return i}function er(e,t){var n=Zi(e,t),i=Q(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],a=i[r];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(n[r]=a)}return n}function tr(e,t,n){for(var i=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?ns.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],d=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(d=h.match(/^spans_(\d+)$/))&&u(t,Number(d[1]))>-1&&(p(s)[h]=c[h],delete c[h])}}}return i}function nr(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=O(n,r)<0;o!=O(i,r)<0?(r=n,n=i):o!=O(n,i)<0&&(n=i)}return new is(r,n)}return new is(i||n,n)}function ir(e,t,n,i){cr(e,new ns([nr(e,e.sel.primary(),t,n)],0),i)}function rr(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=nr(e,e.sel.ranges[r],t[r],null);var o=Li(i,e.sel.primIndex);cr(e,o,n)}function or(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,cr(e,Li(r,e.sel.primIndex),i)}function ar(e,t,n,i){cr(e,Ni(t,n),i)}function sr(e,t,n){var i={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var i=0;i<t.length;i++)n.ranges[i]=new is(U(e,t[i].anchor),U(e,t[i].head))},origin:n&&n.origin};return je(e,"beforeSelectionChange",e,i),e.cm&&je(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?Li(i.ranges,i.ranges.length-1):t}function lr(e,t,n){var i=e.history.done,r=p(i);r&&r.ranges?(i[i.length-1]=t,dr(e,t,n)):cr(e,t,n)}function cr(e,t,n){dr(e,t,n),Xi(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function dr(e,t,n){(Ee(e,"beforeSelectionChange")||e.cm&&Ee(e.cm,"beforeSelectionChange"))&&(t=sr(e,t,n));var i=n&&n.bias||(O(t.primary().head,e.sel.primary().head)<0?-1:1);ur(e,fr(e,t,i,!0)),n&&n.scroll===!1||!e.cm||Zn(e.cm)}function ur(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ne(e.cm)),xt(e,"cursorActivity",e))}function hr(e){ur(e,fr(e,e.sel,null,!1),wa)}function fr(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=gr(e,a.anchor,s&&s.anchor,n,i),c=gr(e,a.head,s&&s.head,n,i);(r||l!=a.anchor||c!=a.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new is(l,c))}return r?Li(r,t.primIndex):t}function pr(e,t,n,i,r){var o=T(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(r&&(je(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var c=l.find(i<0?1:-1),d=void 0;if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(c=mr(e,c,-i,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(d=O(c,n))&&(i<0?d<0:d>0))return pr(e,c,t,i,r)}var u=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(u=mr(e,u,i,u.line==t.line?o:null)),u?pr(e,u,t,i,r):null}}return t}function gr(e,t,n,i,r){var o=i||1,a=pr(e,t,n,o,r)||!r&&pr(e,t,n,o,!0)||pr(e,t,n,-o,r)||!r&&pr(e,t,n,-o,!0);return a?a:(e.cantEdit=!0,I(e.first,0))}function mr(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?U(e,I(t.line-1)):null:n>0&&t.ch==(i||T(e,t.line)).text.length?t.line<e.first+e.size-1?I(t.line+1,0):null:new I(t.line,t.ch+n)}function vr(e){e.setSelection(I(e.firstLine(),0),I(e.lastLine()),wa)}function yr(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(t,n,r,o){t&&(i.from=U(e,t)),n&&(i.to=U(e,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),je(e,"beforeChange",e,i),e.cm&&je(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function br(e,t,n){if(e.cm){if(!e.cm.curOp)return di(e.cm,br)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Ee(e,"beforeChange")||e.cm&&Ee(e.cm,"beforeChange"))||(t=yr(e,t,!0))){var i=Da&&!n&&ee(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)_r(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else _r(e,t)}}function _r(e,t){if(1!=t.text.length||""!=t.text[0]||0!=O(t.from,t.to)){var n=Ii(e,t);Ki(e,t,n,e.cm?e.cm.curOp.id:NaN),Cr(e,t,n,Q(e,t));var i=[];Ui(e,function(e,n){n||u(i,e.history)!=-1||(Ar(e.history,t),i.push(e.history)),Cr(e,t,null,Q(e,t))})}}function wr(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var i,r=e.history,o=e.sel,a="undo"==t?r.done:r.undone,s="undo"==t?r.undone:r.done,l=0;l<a.length&&(i=a[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=a.length){for(r.lastOrigin=r.lastSelOrigin=null;i=a.pop(),i.ranges;){if(Gi(i,s),n&&!i.equals(e.sel))return void cr(e,i,{clearRedo:!1});o=i}var c=[];Gi(o,s),s.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var d=Ee(e,"beforeChange")||e.cm&&Ee(e.cm,"beforeChange"),h=function(n){var r=i.changes[n];if(r.origin=t,d&&!yr(e,r,!1))return a.length=0,{};c.push(zi(e,r));var o=n?Ii(e,r):p(a);Cr(e,r,o,er(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Ei(r)});var s=[];Ui(e,function(e,t){t||u(s,e.history)!=-1||(Ar(e.history,r),s.push(e.history)),Cr(e,r,null,er(e,r))})},f=i.changes.length-1;f>=0;--f){var g=h(f);if(g)return g.v}}}}function xr(e,t){if(0!=t&&(e.first+=t,e.sel=new ns(g(e.sel.ranges,function(e){return new is(I(e.anchor.line+t,e.anchor.ch),I(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){fi(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)pi(e.cm,i,"gutter")}}function Cr(e,t,n,i){if(e.cm&&!e.cm.curOp)return di(e.cm,Cr)(e,t,n,i);if(t.to.line<e.first)return void xr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);xr(e,r),t={from:I(e.first,0),to:I(t.to.line+r,t.to.ch),text:[p(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:I(o,T(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=D(e,t.from,t.to),n||(n=Ii(e,t)),e.cm?kr(e.cm,t,i):Ri(e,t,i),dr(e,n,wa)}}function kr(e,t,n){var i=e.doc,r=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=L(de(T(i,o.line))),i.iter(l,a.line+1,function(e){if(e==r.maxLine)return s=!0,!0})),i.sel.contains(t.from,t.to)>-1&&Ne(e),Ri(i,t,n,wn(e)),e.options.lineWrapping||(i.iter(l,o.line+t.text.length,function(e){var t=ye(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,o.line),bi(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?fi(e):o.line!=a.line||1!=t.text.length||Hi(e.doc,t)?fi(e,o.line,a.line+1,c):pi(e,o.line,"text");var d=Ee(e,"changes"),u=Ee(e,"change");if(u||d){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};u&&xt(e,"change",e,h),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Sr(e,t,n,i,r){if(i||(i=n),O(i,n)<0){var o=i;i=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),br(e,{from:n,to:i,text:t,origin:r})}function Tr(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function Dr(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],a=!0;if(o.ranges){o.copied||(o=e[r]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)Tr(o.ranges[s].anchor,t,n,i),Tr(o.ranges[s].head,t,n,i)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=I(c.from.line+i,c.from.ch),c.to=I(c.to.line+i,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,r+1),r=0)}}}function Ar(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;Dr(e.done,n,i,r),Dr(e.undone,n,i,r)}function jr(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=T(e,R(e,t)):r=L(t),null==r?null:(i(o,r)&&e.cm&&pi(e.cm,r,n),o)}function Lr(e,t,n){ve(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Qn(e,null,n)}function Nr(e,t,n,i){var r=new as(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),jr(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!ge(e,t)){var i=ve(t)<e.scrollTop;j(t,t.height+Pt(r)),i&&Qn(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),xt(o,"lineWidgetAdded",o,r,"number"==typeof t?t:L(t)),r}function Er(e,t,n,r,o){if(r&&r.shared)return Mr(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return di(e.cm,Er)(e,t,n,r,o);var a=new ls(e,o),s=O(t,n);if(r&&c(r,a,!1),s>0||0==s&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=i("span",[a.replacedWith],"CodeMirror-widget"),a.widgetNode.setAttribute("role","presentation"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(ce(e,t.line,t,n,a)||t.line!=n.line&&ce(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");q()}a.addToHistory&&Ki(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,d=t.line,u=e.cm;if(e.iter(d,n.line+1,function(e){u&&a.collapsed&&!u.options.lineWrapping&&de(e)==u.display.maxLine&&(l=!0),a.collapsed&&d!=t.line&&j(e,0),X(e,new V(a,d==t.line?t.ch:null,d==n.line?n.ch:null)),++d}),a.collapsed&&e.iter(t.line,n.line+1,function(t){ge(e,t)&&j(t,0)}),a.clearOnEnter&&Ea(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(z(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++ss,a.atomic=!0),u){if(l&&(u.curOp.updateMaxLine=!0),a.collapsed)fi(u,t.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var h=t.line;h<=n.line;h++)pi(u,h,"text");a.atomic&&hr(u.doc),xt(u,"markerAdded",u,a)}return a}function Mr(e,t,n,i,r){i=c(i),i.shared=!1;var o=[Er(e,t,n,i,r)],a=o[0],s=i.widgetNode;return Ui(e,function(e){s&&(i.widgetNode=s.cloneNode(!0)),o.push(Er(e,U(e,t),U(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=p(o)}),new cs(o,a)}function Ir(e){return e.findMarks(I(e.first,0),e.clipPos(I(e.lastLine())),function(e){return e.parent})}function Or(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),a=e.clipPos(r.to);if(O(o,a)){var s=Er(e,o,a,i.primary,i.primary.type);i.markers.push(s),s.parent=i}}}function Pr(e){for(var t=function(t){var n=e[t],i=[n.primary.doc];Ui(n.primary.doc,function(e){return i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];u(i,o.doc)==-1&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<e.length;n++)t(n)}function $r(e){var t=this;if(Rr(t),!Le(t,e)&&!$t(t.display,e)){Ie(e),Go&&(hs=+new Date);var n=Cn(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),a=0,s=function(e,i){if(!t.options.allowDropFileTypes||u(t.options.allowDropFileTypes,e.type)!=-1){var s=new FileReader;s.onload=di(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[i]=e,++a==r){n=U(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};br(t.doc,l),lr(t.doc,Ni(n,Ei(l)))}}),s.readAsText(e)}},l=0;l<r;++l)s(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),dr(t.doc,Ni(n,n)),d)for(var h=0;h<d.length;++h)Sr(t.doc,"",d[h].anchor,d[h].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Fr(e,t){if(Go&&(!e.state.draggingText||+new Date-hs<100))return void $e(t);if(!Le(e,t)&&!$t(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!na)){var n=i("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ta&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),ta&&n.parentNode.removeChild(n)}}function Hr(e,t){var r=Cn(e,t);if(r){var o=document.createDocumentFragment();Dn(e,r,o),e.display.dragCursor||(e.display.dragCursor=i("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function Rr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ur(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Wr(){fs||(Br(),fs=!0)}function Br(){var e;Ea(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ur(zr)},100))}),Ea(window,"blur",function(){return Ur(Mn)})}function zr(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function qr(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,i,r,o,a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return n&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Vr(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=g(n.split(" "),qr),o=0;o<r.length;o++){var a=void 0,s=void 0;o==r.length-1?(s=r.join(" "),a=i):(s=r.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function Kr(e,t,n,i){t=Gr(t);var r=t.call?t.call(e,i):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Kr(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var a=Kr(e,t.fallthrough[o],n,i);if(a)return a}}}function Yr(e){var t="string"==typeof e?e:ps[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Xr(e,t){if(ta&&34==e.keyCode&&e["char"])return!1;var n=ps[e.keyCode],i=n;return null!=i&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(ha?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(ha?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)}function Gr(e){return"string"==typeof e?ys[e]:e}function Jr(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&O(o.from,p(i).to)<=0;){var a=i.pop();if(O(a.from,o.from)<0){o.from=a.from;break}}i.push(o)}ci(e,function(){for(var t=i.length-1;t>=0;t--)Sr(e.doc,"",i[t].from,i[t].to,"+delete");Zn(e)})}function Qr(e,t){var n=T(e.doc,t),i=de(n);return i!=n&&(t=L(i)),Se(!0,e,i,t,1)}function Zr(e,t){var n=T(e.doc,t),i=ue(n);return i!=n&&(t=L(i)),Se(!0,e,n,t,-1)}function eo(e,t){var n=Qr(e,t.line),i=T(e.doc,n.line),r=xe(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return I(n.line,a?0:o,n.sticky)}return n}function to(e,t,n){if("string"==typeof t&&(t=ws[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=_a}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function no(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=Kr(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&Kr(t,e.options.extraKeys,n,e)||Kr(t,e.options.keyMap,n,e)}function io(e,t,n,i){var r=e.state.keySeq;if(r){if(Yr(t))return"handled";xs.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var o=no(e,t,i);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&xt(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Ie(n),jn(e)),r&&!o&&/\'$/.test(t)?(Ie(n),!0):!!o}function ro(e,t){var n=Xr(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?io(e,"Shift-"+n,t,function(t){return to(e,t,!0)})||io(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return to(e,t)}):io(e,n,t,function(t){return to(e,t)}))}function oo(e,t,n){return io(e,"'"+n+"'",t,function(t){return to(e,t,!0)})}function ao(e){var t=this;if(t.curOp.focus=o(),!Le(t,e)){Go&&Jo<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=ro(t,e);ta&&(Cs=i?n:null,!i&&88==n&&!Pa&&(sa?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||so(t)}}function so(e){function t(e){18!=e.keyCode&&e.altKey||(pa(n,"CodeMirror-crosshair"),Ae(document,"keyup",t),Ae(document,"mouseover",t))}var n=e.display.lineDiv;a(n,"CodeMirror-crosshair"),Ea(document,"keyup",t),Ea(document,"mouseover",t)}function lo(e){16==e.keyCode&&(this.doc.sel.shift=!1),Le(this,e)}function co(e){var t=this;if(!($t(t.display,e)||Le(t,e)||e.ctrlKey&&!e.altKey||sa&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(ta&&n==Cs)return Cs=null,void Ie(e);if(!ta||e.which&&!(e.which<10)||!ro(t,e)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(oo(t,e,r)||t.display.input.onKeyPress(e))}}}function uo(e){var t=this,n=t.display;if(!(Le(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,$t(n,e))return void(Qo||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!mo(t,e)){var i=Cn(t,e);switch(window.focus(),He(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?ho(t,e,i):Fe(e)==n.scroller&&Ie(e);break;case 2:Qo&&(t.state.lastMiddleDown=+new Date),i&&ir(t.doc,i),setTimeout(function(){return n.input.focus()},20),Ie(e);break;case 3:fa?vo(t,e):Nn(t)}}}}function ho(e,t,n){Go?setTimeout(l(Ln,e),0):e.curOp.focus=o();var i,r=+new Date;_s&&_s.time>r-400&&0==O(_s.pos,n)?i="triple":bs&&bs.time>r-400&&0==O(bs.pos,n)?(i="double",_s={time:r,pos:n}):(i="single",bs={time:r,pos:n});var a,s=e.doc.sel,c=sa?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ma&&!e.isReadOnly()&&"single"==i&&(a=s.contains(n))>-1&&(O((a=s.ranges[a]).from(),n)<0||n.xRel>0)&&(O(a.to(),n)>0||n.xRel<0)?fo(e,t,n,c):po(e,t,n,i,c)}function fo(e,t,n,i){var r=e.display,o=+new Date,a=di(e,function(s){Qo&&(r.scroller.draggable=!1),e.state.draggingText=!1,Ae(document,"mouseup",a),Ae(r.scroller,"drop",a),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(Ie(s),!i&&+new Date-200<o&&ir(e.doc,n),Qo||Go&&9==Jo?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});Qo&&(r.scroller.draggable=!0),e.state.draggingText=a,a.copy=sa?t.altKey:t.ctrlKey,r.scroller.dragDrop&&r.scroller.dragDrop(),Ea(document,"mouseup",a),Ea(r.scroller,"drop",a)}function po(e,t,n,i,r){function a(t){if(0!=O(b,t))if(b=t,"rect"==i){for(var r=[],o=e.options.tabSize,a=d(T(u,n.line).text,n.ch,o),s=d(T(u,t.line).text,t.ch,o),l=Math.min(a,s),c=Math.max(a,s),m=Math.min(n.line,t.line),v=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=v;m++){var y=T(u,m).text,_=h(y,l,o);
l==c?r.push(new is(I(m,_),I(m,_))):y.length>_&&r.push(new is(I(m,_),I(m,h(y,c,o))))}r.length||r.push(new is(n,n)),cr(u,Li(g.ranges.slice(0,p).concat(r),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var w=f,x=w.anchor,C=t;if("single"!=i){var k;k="double"==i?e.findWordAt(t):new is(I(t.line,0),U(u,I(t.line+1,0))),O(k.anchor,x)>0?(C=k.head,x=H(w.from(),k.anchor)):(C=k.anchor,x=F(w.to(),k.head))}var S=g.ranges.slice(0);S[p]=new is(U(u,x),C),cr(u,Li(S,p),xa)}}function s(t){var n=++w,r=Cn(e,t,!0,"rect"==i);if(r)if(0!=O(r,b)){e.curOp.focus=o(),a(r);var l=Fn(c,u);(r.line>=l.to||r.line<l.from)&&setTimeout(di(e,function(){w==n&&s(t)}),150)}else{var d=t.clientY<_.top?-20:t.clientY>_.bottom?20:0;d&&setTimeout(di(e,function(){w==n&&(c.scroller.scrollTop+=d,s(t))}),50)}}function l(t){e.state.selectingText=!1,w=1/0,Ie(t),c.input.focus(),Ae(document,"mousemove",x),Ae(document,"mouseup",C),u.history.lastSelOrigin=null}var c=e.display,u=e.doc;Ie(t);var f,p,g=u.sel,m=g.ranges;if(r&&!t.shiftKey?(p=u.sel.contains(n),f=p>-1?m[p]:new is(n,n)):(f=u.sel.primary(),p=u.sel.primIndex),la?t.shiftKey&&t.metaKey:t.altKey)i="rect",r||(f=new is(n,n)),n=Cn(e,t,!0,!0),p=-1;else if("double"==i){var v=e.findWordAt(n);f=e.display.shift||u.extend?nr(u,f,v.anchor,v.head):v}else if("triple"==i){var y=new is(I(n.line,0),U(u,I(n.line+1,0)));f=e.display.shift||u.extend?nr(u,f,y.anchor,y.head):y}else f=nr(u,f,n);r?p==-1?(p=m.length,cr(u,Li(m.concat([f]),p),{scroll:!1,origin:"*mouse"})):m.length>1&&m[p].empty()&&"single"==i&&!t.shiftKey?(cr(u,Li(m.slice(0,p).concat(m.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),g=u.sel):or(u,p,f,xa):(p=0,cr(u,new ns([f],0),xa),g=u.sel);var b=n,_=c.wrapper.getBoundingClientRect(),w=0,x=di(e,function(e){He(e)?s(e):l(e)}),C=di(e,l);e.state.selectingText=C,Ea(document,"mousemove",x),Ea(document,"mouseup",C)}function go(e,t,n,i){var r,o;try{r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Ie(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Ee(e,n))return Pe(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var d=N(e.doc,o),u=e.options.gutters[l];return je(e,n,e,d,u,t),Pe(t)}}}function mo(e,t){return go(e,t,"gutterClick",!0)}function vo(e,t){$t(e.display,t)||yo(e,t)||Le(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function yo(e,t){return!!Ee(e,"gutterContextMenu")&&go(e,t,"gutterContextMenu",!1)}function bo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),rn(e)}function _o(e){function t(t,i,r,o){e.defaults[t]=i,r&&(n[t]=o?function(e,t,n){n!=ks&&r(e,t,n)}:r)}var n=e.optionHandlers;e.defineOption=t,e.Init=ks,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,$i(e)},!0),t("indentUnit",2,$i,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Fi(e),rn(e),fi(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(o==-1)break;r=o+t.length,n.push(I(i,o))}i++});for(var r=n.length-1;r>=0;r--)Sr(e.doc,t,n[r],I(n[r].line,n[r].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=ks&&e.refresh()}),t("specialCharPlaceholder",ut,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",aa?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!ca),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){bo(e),wo(e)},!0),t("keyMap","default",function(e,t,n){var i=Gr(t),r=n!=ks&&Gr(n);r&&r.detach&&r.detach(e,i),i.attach&&i.attach(e,r||null)}),t("extraKeys",null),t("lineWrapping",!1,Co,!0),t("gutters",[],function(e){ji(e.options),wo(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?_n(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return qn(e)},!0),t("scrollbarStyle","native",function(e){Kn(e),qn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){ji(e.options),wo(e)},!0),t("firstLineNumber",1,wo,!0),t("lineNumberFormatter",function(e){return e},wo,!0),t("showCursorWhenSelecting",!1,Sn,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("readOnly",!1,function(e,t){"nocursor"==t?(Mn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,xo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Sn,!0),t("singleCursorHeightPerLine",!0,Sn,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Fi,!0),t("addModeClass",!1,Fi,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Fi,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null)}function wo(e){Ai(e),fi(e),In(e)}function xo(e,t,n){var i=n&&n!=ks;if(!t!=!i){var r=e.display.dragFunctions,o=t?Ea:Ae;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function Co(e){e.options.lineWrapping?(a(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(pa(e.display.wrapper,"CodeMirror-wrap"),be(e)),xn(e),fi(e),rn(e),setTimeout(function(){return qn(e)},100)}function ko(e,t){var n=this;if(!(this instanceof ko))return new ko(e,t);this.options=t=t?c(t):{},c(Ss,t,!1),ji(t);var i=t.value;"string"==typeof i&&(i=new us(i,t.mode,null,t.lineSeparator)),this.doc=i;var r=new ko.inputStyles[t.inputStyle](this),o=this.display=new S(e,i,r);o.wrapper.CodeMirror=this,Ai(this),bo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Kn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ma,keySeq:null,specialChars:null},t.autofocus&&!aa&&o.input.focus(),Go&&Jo<11&&setTimeout(function(){return n.display.input.reset(!0)},20),So(this),Wr(),ti(this),this.curOp.forceUpdate=!0,Wi(this,i),t.autofocus&&!aa||this.hasFocus()?setTimeout(l(En,this),20):Mn(this);for(var a in Ts)Ts.hasOwnProperty(a)&&Ts[a](n,t[a],ks);On(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Ds.length;++s)Ds[s](n);ni(this),Qo&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function So(e){function t(){r.activeTouch&&(o=setTimeout(function(){return r.activeTouch=null},1e3),a=r.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;Ea(r.scroller,"mousedown",di(e,uo)),Go&&Jo<11?Ea(r.scroller,"dblclick",di(e,function(t){if(!Le(e,t)){var n=Cn(e,t);if(n&&!mo(e,t)&&!$t(e.display,t)){Ie(t);var i=e.findWordAt(n);ir(e.doc,i.anchor,i.head)}}})):Ea(r.scroller,"dblclick",function(t){return Le(e,t)||Ie(t)}),fa||Ea(r.scroller,"contextmenu",function(t){return vo(e,t)});var o,a={end:0};Ea(r.scroller,"touchstart",function(t){if(!Le(e,t)&&!n(t)){r.input.ensurePolled(),clearTimeout(o);var i=+new Date;r.activeTouch={start:i,moved:!1,prev:i-a.end<=300?a:null},1==t.touches.length&&(r.activeTouch.left=t.touches[0].pageX,r.activeTouch.top=t.touches[0].pageY)}}),Ea(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Ea(r.scroller,"touchend",function(n){var o=r.activeTouch;if(o&&!$t(r,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(r.activeTouch,"page");a=!o.prev||i(o,o.prev)?new is(s,s):!o.prev.prev||i(o,o.prev.prev)?e.findWordAt(s):new is(I(s.line,0),U(e.doc,I(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),Ie(n)}t()}),Ea(r.scroller,"touchcancel",t),Ea(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Hn(e,r.scroller.scrollTop),Rn(e,r.scroller.scrollLeft,!0),je(e,"scroll",e))}),Ea(r.scroller,"mousewheel",function(t){return Bn(e,t)}),Ea(r.scroller,"DOMMouseScroll",function(t){return Bn(e,t)}),Ea(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){Le(e,t)||$e(t)},over:function(t){Le(e,t)||(Hr(e,t),$e(t))},start:function(t){return Fr(e,t)},drop:di(e,$r),leave:function(t){Le(e,t)||Rr(e)}};var s=r.input.getField();Ea(s,"keyup",function(t){return lo.call(e,t)}),Ea(s,"keydown",di(e,ao)),Ea(s,"keypress",di(e,co)),Ea(s,"focus",function(t){return En(e,t)}),Ea(s,"blur",function(t){return Mn(e,t)})}function To(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Ze(e,t):n="prev");var a=e.options.tabSize,s=T(o,t),l=d(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(i||/\S/.test(s.text)){if("smart"==n&&(c=o.mode.indent(r,s.text.slice(u.length),s.text),c==_a||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?d(T(o,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",p=0;if(e.options.indentWithTabs)for(var g=Math.floor(c/a);g;--g)p+=a,h+="\t";if(p<c&&(h+=f(c-p)),h!=u)return Sr(o,h,I(t,0),I(t,u.length),"+input"),s.stateAfter=null,!0;for(var m=0;m<o.sel.ranges.length;m++){var v=o.sel.ranges[m];if(v.head.line==t&&v.head.ch<u.length){var y=I(t,u.length);or(o,m,new is(y,y));break}}}function Do(e){As=e}function Ao(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var a=e.state.pasteIncoming||"paste"==r,s=Ia(t),l=null;if(a&&i.ranges.length>1)if(As&&As.text.join("\n")==t){if(i.ranges.length%As.text.length==0){l=[];for(var c=0;c<As.text.length;c++)l.push(o.splitLines(As.text[c]))}}else s.length==i.ranges.length&&(l=g(s,function(e){return[e]}));for(var d,u=i.ranges.length-1;u>=0;u--){var h=i.ranges[u],f=h.from(),m=h.to();h.empty()&&(n&&n>0?f=I(f.line,f.ch-n):e.state.overwrite&&!a?m=I(m.line,Math.min(T(o,m.line).text.length,m.ch+p(s).length)):As&&As.lineWise&&As.text.join("\n")==t&&(f=m=I(f.line,0))),d=e.curOp.updateInput;var v={from:f,to:m,text:l?l[u%l.length]:s,origin:r||(a?"paste":e.state.cutIncoming?"cut":"+input")};br(e.doc,v),xt(e,"inputRead",e,v)}t&&!a&&Lo(e,t),Zn(e),e.curOp.updateInput=d,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function jo(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||ci(t,function(){return Ao(t,n,0,null,"paste")}),!0}function Lo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=To(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(T(e.doc,r.head.line).text.slice(0,r.head.ch))&&(a=To(e,r.head.line,"smart"));a&&xt(e,"electricInput",e,r.head.line)}}}function No(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:I(r,0),head:I(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Eo(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Mo(){var e=i("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=i("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Qo?e.style.width="1000px":e.setAttribute("wrap","off"),oa&&(e.style.border="1px solid black"),Eo(e),t}function Io(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var i=this.options,r=i[e];i[e]==n&&"mode"!=e||(i[e]=n,t.hasOwnProperty(e)&&di(this,t[e])(this,n,r),je(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Gr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ui(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:i,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,fi(this)}),removeOverlay:ui(function(e){for(var t=this,n=this.state.overlays,i=0;i<n.length;++i){var r=n[i].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return n.splice(i,1),t.state.modeGen++,void fi(t)}}),indentLine:ui(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),E(this.doc,e)&&To(this,e,t,n)}),indentSelection:ui(function(e){for(var t=this,n=this.doc.sel.ranges,i=-1,r=0;r<n.length;r++){var o=n[r];if(o.empty())o.head.line>i&&(To(t,o.head.line,e,!0),i=o.head.line,r==t.doc.sel.primIndex&&Zn(t));else{var a=o.from(),s=o.to(),l=Math.max(i,a.line);i=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var c=l;c<i;++c)To(t,c,e);var d=t.doc.sel.ranges;0==a.ch&&n.length==d.length&&d[r].from().ch>0&&or(t.doc,r,new is(a,d[r].to()),wa)}}}),getTokenAt:function(e,t){return it(this,e,t)},getLineTokens:function(e,t){return it(this,I(e),t,!0)},getTokenTypeAt:function(e){e=U(this.doc,e);var t,n=Qe(this,T(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=i+r>>1;if((a?n[2*a-1]:0)>=o)r=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}i=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=this,r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],a=this.getModeAt(e);if("string"==typeof a[t])o[a[t]]&&r.push(o[a[t]]);else if(a[t])for(var s=0;s<a[t].length;s++){var l=o[a[t][s]];l&&r.push(l)}else a.helperType&&o[a.helperType]?r.push(o[a.helperType]):o[a.name]&&r.push(o[a.name]);for(var c=0;c<o._global.length;c++){var d=o._global[c];d.pred(a,i)&&u(r,d.val)==-1&&r.push(d.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=R(n,null==e?n.first+n.size-1:e),Ze(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?U(this.doc,e):e?i.from():i.to(),dn(this,n,t||"page")},charCoords:function(e,t){return cn(this,U(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ln(this,e,t||"page"),fn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ln(this,{top:e,left:0},t||"page").top,N(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var i,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),i=T(this.doc,e)}else i=e;return sn(this,i,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-ve(i):0)},defaultTextHeight:function(){return vn(this.display)},defaultCharWidth:function(){return yn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=dn(this,U(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==i)a=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==r?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?s=0:"middle"==r&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Gn(this,s,a,s+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:ui(ao),triggerOnKeyPress:ui(co),triggerOnKeyUp:lo,execCommand:function(e){if(ws.hasOwnProperty(e))return ws[e].call(null,this)},triggerElectric:ui(function(e){Lo(this,e)}),findPosH:function(e,t,n,i){var r=this,o=1;t<0&&(o=-1,t=-t);for(var a=U(this.doc,e),s=0;s<t&&(a=Oo(r.doc,a,o,n,i),!a.hitSide);++s);return a},moveH:ui(function(e,t){var n=this;this.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Oo(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},Ca)}),deleteH:ui(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Jr(this,function(n){var r=Oo(i,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=this,o=1,a=i;t<0&&(o=-1,t=-t);for(var s=U(this.doc,e),l=0;l<t;++l){var c=dn(r,s,"div");if(null==a?a=c.left:c.left=a,s=Po(r,c,o,n),s.hitSide)break}return s},moveV:ui(function(e,t){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=dn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),r.push(s.left);var l=Po(n,s,e,t);return"page"==t&&a==i.sel.primary()&&Qn(n,null,cn(n,l,"div").top-s.top),l},Ca),r.length)for(var a=0;a<i.sel.ranges.length;a++)i.sel.ranges[a].goalColumn=r[a]}),findWordAt:function(e){var t=this.doc,n=T(t,e.line).text,i=e.ch,r=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=n.length||!i?++r:--i;for(var a=n.charAt(i),s=_(a,o)?function(e){return _(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!_(e)};i>0&&s(n.charAt(i-1));)--i;for(;r<n.length&&s(n.charAt(r));)++r}return new is(I(e.line,i),I(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?a(this.display.cursorDiv,"CodeMirror-overwrite"):pa(this.display.cursorDiv,"CodeMirror-overwrite"),je(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==o()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ui(function(e,t){null==e&&null==t||ei(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ut(this)-this.display.barHeight,width:e.scrollWidth-Ut(this)-this.display.barWidth,clientHeight:Bt(this),clientWidth:Wt(this)}},scrollIntoView:ui(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:I(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)ei(this),this.curOp.scrollToPos=e;else{var n=Jn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:ui(function(e,t){var n=this,i=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&nn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){pi(n,r,"widget");break}++r}),this.curOp.forceUpdate=!0,je(this,"refresh",this)}),operation:function(e){return ci(this,e)},refresh:ui(function(){var e=this.display.cachedTextHeight;fi(this),this.curOp.forceUpdate=!0,rn(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),Ti(this),(null==e||Math.abs(e-vn(this.display))>.5)&&xn(this),je(this,"refresh",this)}),swapDoc:ui(function(e){var t=this.doc;return t.cm=null,Wi(this,e),rn(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Me(e),e.registerHelper=function(t,i,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][i]=r},e.registerGlobalHelper=function(t,i,r,o){e.registerHelper(t,i,o),n[t]._global.push({pred:r,val:o})}}function Oo(e,t,n,i,r){function o(){var i=t.line+n;return!(i<e.first||i>=e.first+e.size)&&(t=new I(i,t.ch,t.sticky),c=T(e,i))}function a(i){var a;if(a=r?Te(e.cm,c,t,n):ke(c,t,n),null==a){if(i||!o())return!1;t=Se(r,e.cm,c,t.line,n)}else t=a;return!0}var s=t,l=n,c=T(e,t.line);if("char"==i)a();else if("column"==i)a(!0);else if("word"==i||"group"==i)for(var d=null,u="group"==i,h=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(n<0)||a(!f);f=!1){var p=c.text.charAt(t.ch)||"\n",g=_(p,h)?"w":u&&"\n"==p?"n":!u||/\s/.test(p)?null:"p";if(!u||f||g||(g="s"),d&&d!=g){n<0&&(n=1,a(),t.sticky="after");break}if(g&&(d=g),n>0&&!a(!f))break}var m=gr(e,t,s,l,!0);return P(s,m)&&(m.hitSide=!0),m}function Po(e,t,n,i){var r,o=e.doc,a=t.left;if("page"==i){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*vn(e.display),3);r=(n>0?t.bottom:t.top)+n*l}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(var c;c=fn(e,a,r),c.outside;){if(n<0?r<=0:r>=o.height){c.hitSide=!0;break}r+=5*n}return c}function $o(e,t){var n=Yt(e,t.line);if(!n||n.hidden)return null;var i=T(e.doc,t.line),r=qt(n,i,t.line),o=xe(i),a="left";if(o){var s=we(o,t.ch);a=s%2?"right":"left"}var l=Jt(r.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Fo(e,t){return t&&(e.bad=!0),e}function Ho(e,t,n,i,r){function o(e){return function(t){return t.id==e}}function a(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void(s+=""==n?t.textContent.replace(/\u200b/g,""):n);var d,u=t.getAttribute("cm-marker");if(u){var h=e.findMarks(I(i,0),I(r+1,0),o(+u));return void(h.length&&(d=h[0].find())&&(s+=D(e.doc,d.from,d.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var f=0;f<t.childNodes.length;f++)a(t.childNodes[f]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;l&&(s+=c,l=!1),s+=p}}for(var s="",l=!1,c=e.doc.lineSeparator();a(t),t!=n;)t=t.nextSibling;return s}function Ro(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return Fo(e.clipPos(I(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return Uo(o,t,n)}}function Uo(e,t,n){function i(t,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var o=r<0?d.map:u[r],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=L(r<0?e.line:e.rest[r]),c=o[a]+i;return(i<0||s!=t)&&(c=o[a+(i?1:0)]),I(l,c)}}}var o=e.text.firstChild,a=!1;if(!t||!r(o,t))return Fo(I(L(e.line),0),!0);if(t==o&&(a=!0,t=o.childNodes[n],n=0,!t)){var s=e.rest?p(e.rest):e.line;return Fo(I(L(s),s.text.length),a)}var l=3==t.nodeType?t:null,c=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));c.parentNode!=o;)c=c.parentNode;var d=e.measure,u=d.maps,h=i(l,c,n);if(h)return Fo(h,a);for(var f=c.nextSibling,g=l?l.nodeValue.length-n:0;f;f=f.nextSibling){if(h=i(f,f.firstChild,0))return Fo(I(h.line,h.ch-g),a);g+=f.textContent.length}for(var m=c.previousSibling,v=n;m;m=m.previousSibling){if(h=i(m,m.firstChild,-1))return Fo(I(h.line,h.ch+v),a);v+=m.textContent.length}}function Wo(e,t){function n(){e.value=d.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=o();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}var r;if(e.form&&(Ea(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var a=e.form;r=a.submit;try{var s=a.submit=function(){n(),a.submit=r,a.submit(),a.submit=s}}catch(l){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ae(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=r))}},e.style.display="none";var d=ko(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return d}function Bo(e){e.off=Ae,e.on=Ea,e.wheelEventPixels=Wn,e.Doc=us,e.splitLines=Ia,e.countColumn=d,e.findColumn=h,e.isWordChar=b,e.Pass=_a,e.signal=je,e.Line=Wa,e.changeEnd=Ei,e.scrollbarModel=Za,e.Pos=I,e.cmpPos=O,e.modes=Fa,e.mimeModes=Ha,e.resolveMode=qe,e.getMode=Ve,e.modeExtensions=Ra,e.extendMode=Ke,e.copyState=Ye,e.startState=Ge,e.innerMode=Xe,e.commands=ws,e.keyMap=ys,e.keyName=Xr,e.isModifierKey=Yr,e.lookupKey=Kr,e.normalizeKeyMap=Vr,e.StringStream=Ua,e.SharedTextMarker=cs,e.TextMarker=ls,e.LineWidget=as,e.e_preventDefault=Ie,e.e_stopPropagation=Oe,e.e_stop=$e,e.addClass=a,e.contains=r,e.rmClass=pa,e.keyNames=ps}var zo=navigator.userAgent,qo=navigator.platform,Vo=/gecko\/\d/i.test(zo),Ko=/MSIE \d/.test(zo),Yo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zo),Xo=/Edge\/(\d+)/.exec(zo),Go=Ko||Yo||Xo,Jo=Go&&(Ko?document.documentMode||6:+(Xo||Yo)[1]),Qo=!Xo&&/WebKit\//.test(zo),Zo=Qo&&/Qt\/\d+\.\d+/.test(zo),ea=!Xo&&/Chrome\//.test(zo),ta=/Opera\//.test(zo),na=/Apple Computer/.test(navigator.vendor),ia=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(zo),ra=/PhantomJS/.test(zo),oa=!Xo&&/AppleWebKit/.test(zo)&&/Mobile\/\w+/.test(zo),aa=oa||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(zo),sa=oa||/Mac/.test(qo),la=/\bCrOS\b/.test(zo),ca=/win/i.test(qo),da=ta&&zo.match(/Version\/(\d*\.\d*)/);da&&(da=Number(da[1])),da&&da>=15&&(ta=!1,Qo=!0);var ua,ha=sa&&(Zo||ta&&(null==da||da<12.11)),fa=Vo||Go&&Jo>=9,pa=function(t,n){var i=t.className,r=e(n).exec(i);if(r){var o=i.slice(r.index+r[0].length);t.className=i.slice(0,r.index)+(o?r[1]+o:"")}};ua=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var ga=function(e){e.select()};oa?ga=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Go&&(ga=function(e){try{e.select()}catch(t){}});var ma=function(){this.id=null};ma.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var va,ya,ba=30,_a={toString:function(){return"CodeMirror.Pass"}},wa={scroll:!1},xa={origin:"*mouse"},Ca={origin:"+move"},ka=[""],Sa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ta=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Da=!1,Aa=!1,ja=null,La=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?i.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i=n.length,d=[],u=0;u<i;++u)d.push(e(n.charCodeAt(u)));for(var h=0,f=c;h<i;++h){var g=d[h];"m"==g?d[h]=f:f=g}for(var m=0,v=c;m<i;++m){var y=d[m];"1"==y&&"r"==v?d[m]="n":a.test(y)&&(v=y,"r"==y&&(d[m]="R"))}for(var b=1,_=d[0];b<i-1;++b){var w=d[b];"+"==w&&"1"==_&&"1"==d[b+1]?d[b]="1":","!=w||_!=d[b+1]||"1"!=_&&"n"!=_||(d[b]=_),_=w}for(var x=0;x<i;++x){var C=d[x];if(","==C)d[x]="N";else if("%"==C){var k=void 0;for(k=x+1;k<i&&"%"==d[k];++k);for(var S=x&&"!"==d[x-1]||k<i&&"1"==d[k]?"1":"N",T=x;T<k;++T)d[T]=S;x=k-1}}for(var D=0,A=c;D<i;++D){var j=d[D];"L"==A&&"1"==j?d[D]="L":a.test(j)&&(A=j)}for(var L=0;L<i;++L)if(o.test(d[L])){var N=void 0;for(N=L+1;N<i&&o.test(d[N]);++N);for(var E="L"==(L?d[L-1]:c),M="L"==(N<i?d[N]:c),I=E||M?"L":"R",O=L;O<N;++O)d[O]=I;L=N-1}for(var P,$=[],F=0;F<i;)if(s.test(d[F])){var H=F;for(++F;F<i&&s.test(d[F]);++F);$.push(new t(0,H,F))}else{var R=F,U=$.length;for(++F;F<i&&"L"!=d[F];++F);for(var W=R;W<F;)if(l.test(d[W])){R<W&&$.splice(U,0,new t(1,R,W));var B=W;for(++W;W<F&&l.test(d[W]);++W);$.splice(U,0,new t(2,B,W)),R=W}else++W;R<F&&$.splice(U,0,new t(1,R,F))}return 1==$[0].level&&(P=n.match(/^\s+/))&&($[0].from=P[0].length,$.unshift(new t(0,0,P[0].length))),1==p($).level&&(P=n.match(/\s+$/))&&(p($).to-=P[0].length,$.push(new t(0,i-P[0].length,i))),$}}(),Na=[],Ea=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{
var i=e._handlers||(e._handlers={});i[t]=(i[t]||Na).concat(n)}},Ma=function(){if(Go&&Jo<9)return!1;var e=i("div");return"draggable"in e||"dragDrop"in e}(),Ia=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);r==-1&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),a=o.indexOf("\r");a!=-1?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Oa=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Pa=function(){var e=i("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),$a=null,Fa={},Ha={},Ra={},Ua=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Ua.prototype.eol=function(){return this.pos>=this.string.length},Ua.prototype.sol=function(){return this.pos==this.lineStart},Ua.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ua.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ua.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)))return++this.pos,n},Ua.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ua.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},Ua.prototype.skipToEnd=function(){this.pos=this.string.length},Ua.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ua.prototype.backUp=function(e){this.pos-=e},Ua.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=d(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},Ua.prototype.indentation=function(){return d(this.string,null,this.tabSize)-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},Ua.prototype.match=function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(r(o)==r(e))return t!==!1&&(this.pos+=e.length),!0},Ua.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ua.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}};var Wa=function(e,t,n){this.text=e,ne(this,t),this.height=n?n(this):1};Wa.prototype.lineNo=function(){return L(this)},Me(Wa);var Ba,za={},qa={},Va=null,Ka=null,Ya={left:0,right:0,top:0,bottom:0},Xa=0,Ga=null;Go?Ga=-.53:Vo?Ga=15:ea?Ga=-.7:na&&(Ga=-1/3);var Ja=function(e,t,n){this.cm=n;var r=this.vert=i("div",[i("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=i("div",[i("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(o),Ea(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),Ea(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,Go&&Jo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ja.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},Ja.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},Ja.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},Ja.prototype.zeroWidthHack=function(){var e=sa&&!ia?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ma,this.disableVert=new ma},Ja.prototype.enableZeroWidthBar=function(e,t){function n(){var i=e.getBoundingClientRect(),r=document.elementFromPoint(i.left+1,i.bottom-1);r!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},Ja.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Qa=function(){};Qa.prototype.update=function(){return{bottom:0,right:0}},Qa.prototype.setScrollLeft=function(){},Qa.prototype.setScrollTop=function(){},Qa.prototype.clear=function(){};var Za={"native":Ja,"null":Qa},es=0,ts=function(e,t,n){var i=e.display;this.viewport=t,this.visible=Fn(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Wt(e),this.force=n,this.dims=bn(e),this.events=[]};ts.prototype.signal=function(e,t){Ee(e,t)&&this.events.push(arguments)},ts.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)je.apply(null,e.events[t])};var ns=function(e,t){this.ranges=e,this.primIndex=t};ns.prototype.primary=function(){return this.ranges[this.primIndex]},ns.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var i=t.ranges[n],r=e.ranges[n];if(!P(i.anchor,r.anchor)||!P(i.head,r.head))return!1}return!0},ns.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new is($(e.ranges[n].anchor),$(e.ranges[n].head));return new ns(t,this.primIndex)},ns.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},ns.prototype.contains=function(e,t){var n=this;t||(t=e);for(var i=0;i<this.ranges.length;i++){var r=n.ranges[i];if(O(t,r.from())>=0&&O(e,r.to())<=0)return i}return-1};var is=function(e,t){this.anchor=e,this.head=t};is.prototype.from=function(){return H(this.anchor,this.head)},is.prototype.to=function(){return F(this.anchor,this.head)},is.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};var rs=function(e){var t=this;this.lines=e,this.parent=null;for(var n=0,i=0;i<e.length;++i)e[i].parent=t,n+=e[i].height;this.height=n};rs.prototype.chunkSize=function(){return this.lines.length},rs.prototype.removeInner=function(e,t){for(var n=this,i=e,r=e+t;i<r;++i){var o=n.lines[i];n.height-=o.height,lt(o),xt(o,"delete")}this.lines.splice(e,t)},rs.prototype.collapse=function(e){e.push.apply(e,this.lines)},rs.prototype.insertInner=function(e,t,n){var i=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=i},rs.prototype.iterN=function(e,t,n){for(var i=this,r=e+t;e<r;++e)if(n(i.lines[e]))return!0};var os=function(e){var t=this;this.children=e;for(var n=0,i=0,r=0;r<e.length;++r){var o=e[r];n+=o.chunkSize(),i+=o.height,o.parent=t}this.size=n,this.height=i,this.parent=null};os.prototype.chunkSize=function(){return this.size},os.prototype.removeInner=function(e,t){var n=this;this.size-=t;for(var i=0;i<this.children.length;++i){var r=n.children[i],o=r.chunkSize();if(e<o){var a=Math.min(t,o-e),s=r.height;if(r.removeInner(e,a),n.height-=s-r.height,o==a&&(n.children.splice(i--,1),r.parent=null),0==(t-=a))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof rs))){var l=[];this.collapse(l),this.children=[new rs(l)],this.children[0].parent=this}},os.prototype.collapse=function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},os.prototype.insertInner=function(e,t,n){var i=this;this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=i.children[r],a=o.chunkSize();if(e<=a){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,l=s;l<o.lines.length;){var c=new rs(o.lines.slice(l,l+=25));o.height-=c.height,i.children.splice(++r,0,c),c.parent=i}o.lines=o.lines.slice(0,s),i.maybeSpill()}break}e-=a}},os.prototype.maybeSpill=function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new os(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=u(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new os(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},os.prototype.iterN=function(e,t,n){for(var i=this,r=0;r<this.children.length;++r){var o=i.children[r],a=o.chunkSize();if(e<a){var s=Math.min(t,a-e);if(o.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}};var as=function(e,t,n){var i=this;if(n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);this.doc=e,this.node=t};as.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,i=this.line,r=L(i);if(null!=r&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(i.widgets=null);var a=Pt(this);j(i,Math.max(0,i.height-a)),t&&(ci(t,function(){Lr(t,i,-a),pi(t,r,"widget")}),xt(t,"lineWidgetCleared",t,this,r))}},as.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=Pt(this)-t;r&&(j(i,i.height+r),n&&ci(n,function(){n.curOp.forceUpdate=!0,Lr(n,i,r),xt(n,"lineWidgetChanged",n,e,L(i))}))},Me(as);var ss=0,ls=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ss};ls.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&ti(t),Ee(this,"clear")){var i=this.find();i&&xt(this,"clear",i.from,i.to)}for(var r=null,o=null,a=0;a<this.lines.length;++a){var s=e.lines[a],l=K(s.markedSpans,e);t&&!e.collapsed?pi(t,L(s),"text"):t&&(null!=l.to&&(o=L(s)),null!=l.from&&(r=L(s))),s.markedSpans=Y(s.markedSpans,l),null==l.from&&e.collapsed&&!ge(e.doc,s)&&t&&j(s,vn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var d=de(e.lines[c]),u=ye(d);u>t.display.maxLineLength&&(t.display.maxLine=d,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&fi(t,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&hr(t.doc)),t&&xt(t,"markerCleared",t,this,r,o),n&&ni(t),this.parent&&this.parent.clear()}},ls.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var i,r,o=0;o<this.lines.length;++o){var a=n.lines[o],s=K(a.markedSpans,n);if(null!=s.from&&(i=I(t?a:L(a),s.from),e==-1))return i;if(null!=s.to&&(r=I(t?a:L(a),s.to),1==e))return r}return i&&{from:i,to:r}},ls.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,i=this.doc.cm;t&&i&&ci(i,function(){var r=t.line,o=L(t.line),a=Yt(i,o);if(a&&(tn(a),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!ge(n.doc,r)&&null!=n.height){var s=n.height;n.height=null;var l=Pt(n)-s;l&&j(r,r.height+l)}xt(i,"markerChanged",i,e)})},ls.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&u(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ls.prototype.detachLine=function(e){if(this.lines.splice(u(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Me(ls);var cs=function(e,t){var n=this;this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=n};cs.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();xt(this,"clear")}},cs.prototype.find=function(e,t){return this.primary.find(e,t)},Me(cs);var ds=0,us=function(e,t,n,i){if(!(this instanceof us))return new us(e,t,n,i);null==n&&(n=0),os.call(this,[new rs([new Wa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=I(n,0);this.sel=Ni(r),this.history=new Bi(null),this.id=++ds,this.modeOption=t,this.lineSep=i,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ri(this,{from:r,to:r,text:e}),cr(this,Ni(r),wa)};us.prototype=y(os.prototype,{constructor:us,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=A(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:hi(function(e){var t=I(this.first,0),n=this.first+this.size-1;br(this,{from:t,to:I(n,T(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),cr(this,Ni(t))}),replaceRange:function(e,t,n,i){t=U(this,t),n=n?U(this,n):t,Sr(this,e,t,n,i)},getRange:function(e,t,n){var i=D(this,U(this,e),U(this,t));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(E(this,e))return T(this,e)},getLineNumber:function(e){return L(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=T(this,e)),de(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return U(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:hi(function(e,t,n){ar(this,U(this,"number"==typeof e?I(e,t||0):e),null,n)}),setSelection:hi(function(e,t,n){ar(this,U(this,e),U(this,t||e),n)}),extendSelection:hi(function(e,t,n){ir(this,U(this,e),t&&U(this,t),n)}),extendSelections:hi(function(e,t){rr(this,B(this,e),t)}),extendSelectionsBy:hi(function(e,t){var n=g(this.sel.ranges,e);rr(this,B(this,n),t)}),setSelections:hi(function(e,t,n){var i=this;if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new is(U(i,e[o].anchor),U(i,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),cr(this,Li(r,t),n)}}),addSelection:hi(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new is(U(this,e),U(this,t||e))),cr(this,Li(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this,i=this.sel.ranges,r=0;r<i.length;r++){var o=D(n,i[r].from(),i[r].to());t=t?t.concat(o):o}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],i=this.sel.ranges,r=0;r<i.length;r++){var o=D(t,i[r].from(),i[r].to());e!==!1&&(o=o.join(e||t.lineSeparator())),n[r]=o}return n},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:hi(function(e,t,n){for(var i=this,r=[],o=this.sel,a=0;a<o.ranges.length;a++){var s=o.ranges[a];r[a]={from:s.from(),to:s.to(),text:i.splitLines(e[a]),origin:n}}for(var l=t&&"end"!=t&&Pi(this,r,t),c=r.length-1;c>=0;c--)br(i,r[c]);l?lr(this,l):this.cm&&Zn(this.cm)}),undo:hi(function(){wr(this,"undo")}),redo:hi(function(){wr(this,"redo")}),undoSelection:hi(function(){wr(this,"undo",!0)}),redoSelection:hi(function(){wr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Bi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:tr(this.history.done),undone:tr(this.history.undone)}},setHistory:function(e){var t=this.history=new Bi(this.history.maxGeneration);t.done=tr(e.done.slice(0),null,!0),t.undone=tr(e.undone.slice(0),null,!0)},setGutterMarker:hi(function(e,t,n){return jr(this,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&w(i)&&(e.gutterMarkers=null),!0})}),clearGutter:hi(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&jr(t,n,"gutter",function(){return n.gutterMarkers[e]=null,w(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!E(this,e))return null;if(t=e,e=T(this,e),!e)return null}else if(t=L(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:hi(function(t,n,i){return jr(this,t,"gutter"==n?"gutter":"class",function(t){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[r]){if(e(i).test(t[r]))return!1;t[r]+=" "+i}else t[r]=i;return!0})}),removeLineClass:hi(function(t,n,i){return jr(this,t,"gutter"==n?"gutter":"class",function(t){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[r];if(!o)return!1;if(null==i)t[r]=null;else{var a=o.match(e(i));if(!a)return!1;var s=a.index+a[0].length;t[r]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:hi(function(e,t,n){return Nr(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Er(this,U(this,e),U(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=U(this,e),Er(this,e,e,n,"bookmark")},findMarksAt:function(e){e=U(this,e);var t=[],n=T(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=U(this,e),t=U(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;return o>e?(t=e,!0):(e-=o,void++n)}),U(this,I(n,t))},indexFromPos:function(e){e=U(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new us(A(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new us(A(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Or(i,Ir(this)),i},unlinkDoc:function(e){var t=this;if(e instanceof ko&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=t.linked[n];if(i.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),Pr(Ir(t));break}}if(e.history==this.history){var r=[e.id];Ui(e,function(e){return r.push(e.id)},!0),e.history=new Bi(null),e.history.done=tr(this.history.done,r),e.history.undone=tr(this.history.undone,r)}},iterLinkedDocs:function(e){Ui(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ia(e)},lineSeparator:function(){return this.lineSep||"\n"}}),us.prototype.eachLine=us.prototype.iter;for(var hs=0,fs=!1,ps={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},gs=0;gs<10;gs++)ps[gs+48]=ps[gs+96]=String(gs);for(var ms=65;ms<=90;ms++)ps[ms]=String.fromCharCode(ms);for(var vs=1;vs<=12;vs++)ps[vs+111]=ps[vs+63235]="F"+vs;var ys={};ys.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ys.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ys.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ys.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ys["default"]=sa?ys.macDefault:ys.pcDefault;var bs,_s,ws={selectAll:vr,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),wa)},killLine:function(e){return Jr(e,function(t){if(t.empty()){var n=T(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:I(t.head.line+1,0)}:{from:t.head,to:I(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Jr(e,function(t){return{from:I(t.from().line,0),to:U(e.doc,I(t.to().line+1,0))}})},delLineLeft:function(e){return Jr(e,function(e){return{from:I(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Jr(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){return Jr(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(I(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(I(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Qr(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return eo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Zr(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ca)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ca)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?eo(e,t.head):i},Ca)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),a=d(e.getLine(o.line),o.ch,i);t.push(f(i-a%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return ci(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)if(t[i].empty()){var r=t[i].head,o=T(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new I(r.line,r.ch-1)),r.ch>0)r=new I(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),I(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var a=T(e.doc,r.line-1).text;a&&(r=new I(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),I(r.line-1,a.length-1),r,"+transpose"))}n.push(new is(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){return ci(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);Zn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},xs=new ma,Cs=null,ks={toString:function(){return"CodeMirror.Init"}},Ss={},Ts={};ko.defaults=Ss,ko.optionHandlers=Ts;var Ds=[];ko.defineInitHook=function(e){return Ds.push(e)};var As=null,js=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ma,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};js.prototype.init=function(e){function t(e){if(!Le(r,e)){if(r.somethingSelected())Do({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=No(r);Do({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,wa),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=As.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var a=Mo(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=As.text.join("\n");var l=document.activeElement;ga(s),setTimeout(function(){r.display.lineSpace.removeChild(a),l.focus(),l==o&&i.showPrimarySelection()},50)}}var n=this,i=this,r=i.cm,o=i.div=e.lineDiv;Eo(o,r.options.spellcheck),Ea(o,"paste",function(e){Le(r,e)||jo(e,r)||Jo<=11&&setTimeout(di(r,function(){i.pollContent()||fi(r)}),20)}),Ea(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),Ea(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),Ea(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),Ea(o,"touchstart",function(){return i.forceCompositionEnd()}),Ea(o,"input",function(){n.composing||n.readFromDOMSoon()}),Ea(o,"copy",t),Ea(o,"cut",t)},js.prototype.prepareSelection=function(){var e=Tn(this.cm,!1);return e.focus=this.cm.state.focused,e},js.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},js.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=Ro(this.cm,e.anchorNode,e.anchorOffset),i=Ro(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=O(H(n,i),t.from())||0!=O(F(n,i),t.to())){var r=$o(this.cm,t.from()),o=$o(this.cm,t.to());if(r||o){var a=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=a[a.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:a[0].measure.map[2],offset:0};var d;try{d=ua(r.node,r.offset,o.offset,o.node)}catch(u){}d&&(!Vo&&this.cm.state.focused?(e.collapse(r.node,r.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),s&&null==e.anchorNode?e.addRange(s):Vo&&this.startGracePeriod()),this.rememberSelection()}}},js.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},js.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},js.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,
this.lastFocusOffset=e.focusOffset},js.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return r(this.div,t)},js.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},js.prototype.blur=function(){this.div.blur()},js.prototype.getField=function(){return this.div},js.prototype.supportsTouch=function(){return!0},js.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():ci(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},js.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},js.prototype.pollSelection=function(){if(!this.composing&&null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=Ro(t,e.anchorNode,e.anchorOffset),i=Ro(t,e.focusNode,e.focusOffset);n&&i&&ci(t,function(){cr(t.doc,Ni(n,i),wa),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},js.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(0==i.ch&&i.line>e.firstLine()&&(i=I(i.line-1,T(e.doc,i.line-1).length)),r.ch==T(e.doc,r.line).text.length&&r.line<e.lastLine()&&(r=I(r.line+1,0)),i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var o,a,s;i.line==t.viewFrom||0==(o=kn(e,i.line))?(a=L(t.view[0].line),s=t.view[0].node):(a=L(t.view[o].line),s=t.view[o-1].node.nextSibling);var l,c,d=kn(e,r.line);if(d==t.view.length-1?(l=t.viewTo-1,c=t.lineDiv.lastChild):(l=L(t.view[d+1].line)-1,c=t.view[d+1].node.previousSibling),!s)return!1;for(var u=e.doc.splitLines(Ho(e,s,c,a,l)),h=D(e.doc,I(a,0),I(l,T(e.doc,l).text.length));u.length>1&&h.length>1;)if(p(u)==p(h))u.pop(),h.pop(),l--;else{if(u[0]!=h[0])break;u.shift(),h.shift(),a++}for(var f=0,g=0,m=u[0],v=h[0],y=Math.min(m.length,v.length);f<y&&m.charCodeAt(f)==v.charCodeAt(f);)++f;for(var b=p(u),_=p(h),w=Math.min(b.length-(1==u.length?f:0),_.length-(1==h.length?f:0));g<w&&b.charCodeAt(b.length-g-1)==_.charCodeAt(_.length-g-1);)++g;u[u.length-1]=b.slice(0,b.length-g).replace(/^\u200b+/,""),u[0]=u[0].slice(f).replace(/\u200b+$/,"");var x=I(a,f),C=I(l,h.length?p(h).length-g:0);return u.length>1||u[0]||O(x,C)?(Sr(e.doc,u,x,C,"+input"),!0):void 0},js.prototype.ensurePolled=function(){this.forceCompositionEnd()},js.prototype.reset=function(){this.forceCompositionEnd()},js.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.pollContent()||fi(this.cm),this.div.blur(),this.div.focus())},js.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}!e.cm.isReadOnly()&&e.pollContent()||ci(e.cm,function(){return fi(e.cm)})},80))},js.prototype.setUneditable=function(e){e.contentEditable="false"},js.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||di(this.cm,Ao)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},js.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},js.prototype.onContextMenu=function(){},js.prototype.resetPosition=function(){},js.prototype.needsContentAttribute=!0;var Ls=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ma,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null};Ls.prototype.init=function(e){function t(e){if(!Le(r,e)){if(r.somethingSelected())Do({lineWise:!1,text:r.getSelections()}),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,a.value=As.text.join("\n"),ga(a));else{if(!r.options.lineWiseCopyCut)return;var t=No(r);Do({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,wa):(i.prevInput="",a.value=t.text.join("\n"),ga(a))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var n=this,i=this,r=this.cm,o=this.wrapper=Mo(),a=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),oa&&(a.style.width="0px"),Ea(a,"input",function(){Go&&Jo>=9&&n.hasSelection&&(n.hasSelection=null),i.poll()}),Ea(a,"paste",function(e){Le(r,e)||jo(e,r)||(r.state.pasteIncoming=!0,i.fastPoll())}),Ea(a,"cut",t),Ea(a,"copy",t),Ea(e.scroller,"paste",function(t){$t(e,t)||Le(r,t)||(r.state.pasteIncoming=!0,i.focus())}),Ea(e.lineSpace,"selectstart",function(t){$t(e,t)||Ie(t)}),Ea(a,"compositionstart",function(){var e=r.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Ea(a,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},Ls.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,i=Tn(e);if(e.options.moveInputWithCursor){var r=dn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+a.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+a.left-o.left))}return i},Ls.prototype.showSelection=function(e){var t=this.cm,i=t.display;n(i.cursorDiv,e.cursors),n(i.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ls.prototype.reset=function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary();t=Pa&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3);var a=t?"-":n||i.getSelection();this.textarea.value=a,i.state.focused&&ga(this.textarea),Go&&Jo>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",Go&&Jo>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},Ls.prototype.getField=function(){return this.textarea},Ls.prototype.supportsTouch=function(){return!1},Ls.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!aa||o()!=this.textarea))try{this.textarea.focus()}catch(e){}},Ls.prototype.blur=function(){this.textarea.blur()},Ls.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ls.prototype.receivedFocus=function(){this.slowPoll()},Ls.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Ls.prototype.fastPoll=function(){function e(){var i=n.poll();i||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},Ls.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||Oa(n)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==i&&!t.somethingSelected())return!1;if(Go&&Jo>=9&&this.hasSelection===r||sa&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(i.length,r.length);a<s&&i.charCodeAt(a)==r.charCodeAt(a);)++a;return ci(t,function(){Ao(t,r.slice(a),i.length-a,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ls.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ls.prototype.onKeyPress=function(){Go&&Jo>=9&&(this.hasSelection=null),this.fastPoll()},Ls.prototype.onContextMenu=function(e){function t(){if(null!=a.selectionStart){var e=r.somethingSelected(),t=""+(e?a.value:"");a.value="",a.value=t,i.prevInput=e?"":"",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=u,a.style.cssText=d,Go&&Jo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!Go||Go&&Jo<9)&&t();var e=0,n=function(){o.selForContextMenu==r.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&""==i.prevInput?di(r,vr)(r):e++<10?o.detectingSelectAll=setTimeout(n,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,a=i.textarea,s=Cn(r,e),l=o.scroller.scrollTop;if(s&&!ta){var c=r.options.resetSelectionOnContextMenu;c&&r.doc.sel.contains(s)==-1&&di(r,cr)(r.doc,Ni(s),wa);var d=a.style.cssText,u=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var h=i.wrapper.getBoundingClientRect();a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(Go?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var f;if(Qo&&(f=window.scrollY),o.input.focus(),Qo&&window.scrollTo(null,f),o.input.reset(),r.somethingSelected()||(a.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),Go&&Jo>=9&&t(),fa){$e(e);var p=function(){Ae(window,"mouseup",p),setTimeout(n,20)};Ea(window,"mouseup",p)}else setTimeout(n,50)}},Ls.prototype.readOnlyChanged=function(e){e||this.reset()},Ls.prototype.setUneditable=function(){},Ls.prototype.needsContentAttribute=!1,_o(ko),Io(ko);var Ns="iter insert remove copy getEditor constructor".split(" ");for(var Es in us.prototype)us.prototype.hasOwnProperty(Es)&&u(Ns,Es)<0&&(ko.prototype[Es]=function(e){return function(){return e.apply(this.doc,arguments)}}(us.prototype[Es]));return Me(us),ko.inputStyles={textarea:Ls,contenteditable:js},ko.defineMode=function(e){ko.defaults.mode||"null"==e||(ko.defaults.mode=e),Be.apply(this,arguments)},ko.defineMIME=ze,ko.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),ko.defineMIME("text/plain","null"),ko.defineExtension=function(e,t){ko.prototype[e]=t},ko.defineDocExtension=function(e,t){us.prototype[e]=t},ko.fromTextArea=Wo,Bo(ko),ko.version="5.24.2",ko}),!function(e,t,n){"use strict";!function i(e,t,n){function r(a,s){if(!t[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[a]={exports:{}};e[a][0].call(d.exports,function(t){var n=e[a][1][t];return r(n?n:t)},d,d.exports,i,e,t,n)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(i,r,o){var a=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(o,"__esModule",{value:!0});var s,l,c,d,u=i("./modules/handle-dom"),h=i("./modules/utils"),f=i("./modules/handle-swal-dom"),p=i("./modules/handle-click"),g=i("./modules/handle-key"),m=a(g),v=i("./modules/default-params"),y=a(v),b=i("./modules/set-params"),_=a(b);o["default"]=c=d=function(){function i(e){var t=r;return t[e]===n?y["default"][e]:t[e]}var r=arguments[0];if(u.addClass(t.body,"stop-scrolling"),f.resetInput(),r===n)return h.logStr("SweetAlert expects at least 1 attribute!"),!1;var o=h.extend({},y["default"]);switch(typeof r){case"string":o.title=r,o.text=arguments[1]||"",o.type=arguments[2]||"";break;case"object":if(r.title===n)return h.logStr('Missing "title" argument!'),!1;o.title=r.title;for(var a in y["default"])o[a]=i(a);o.confirmButtonText=o.showCancelButton?"Confirm":y["default"].confirmButtonText,o.confirmButtonText=i("confirmButtonText"),o.doneFunction=arguments[1]||null;break;default:return h.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof r),!1}_["default"](o),f.fixVerticalPosition(),f.openModal(arguments[1]);for(var c=f.getModal(),g=c.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],b=function(e){return p.handleButton(e,o,c)},w=0;w<g.length;w++)for(var x=0;x<v.length;x++){var C=v[x];g[w][C]=b}f.getOverlay().onclick=b,s=e.onkeydown;var k=function(e){return m["default"](e,o,c)};e.onkeydown=k,e.onfocus=function(){setTimeout(function(){l!==n&&(l.focus(),l=n)},0)},d.enableButtons()},c.setDefaults=d.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");h.extend(y["default"],e)},c.close=d.close=function(){var i=f.getModal();u.fadeOut(f.getOverlay(),5),u.fadeOut(i,5),u.removeClass(i,"showSweetAlert"),u.addClass(i,"hideSweetAlert"),u.removeClass(i,"visible");var r=i.querySelector(".sa-icon.sa-success");u.removeClass(r,"animate"),u.removeClass(r.querySelector(".sa-tip"),"animateSuccessTip"),u.removeClass(r.querySelector(".sa-long"),"animateSuccessLong");var o=i.querySelector(".sa-icon.sa-error");u.removeClass(o,"animateErrorIcon"),u.removeClass(o.querySelector(".sa-x-mark"),"animateXMark");var a=i.querySelector(".sa-icon.sa-warning");return u.removeClass(a,"pulseWarning"),u.removeClass(a.querySelector(".sa-body"),"pulseWarningIns"),u.removeClass(a.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=i.getAttribute("data-custom-class");u.removeClass(i,e)},300),u.removeClass(t.body,"stop-scrolling"),e.onkeydown=s,e.previousActiveElement&&e.previousActiveElement.focus(),l=n,clearTimeout(i.timeout),!0},c.showInputError=d.showInputError=function(e){var t=f.getModal(),n=t.querySelector(".sa-input-error");u.addClass(n,"show");var i=t.querySelector(".sa-error-container");u.addClass(i,"show"),i.querySelector("p").innerHTML=e,setTimeout(function(){c.enableButtons()},1),t.querySelector("input").focus()},c.resetInputError=d.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=f.getModal(),n=t.querySelector(".sa-input-error");u.removeClass(n,"show");var i=t.querySelector(".sa-error-container");u.removeClass(i,"show")},c.disableButtons=d.disableButtons=function(){var e=f.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},c.enableButtons=d.enableButtons=function(){var e=f.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!1,n.disabled=!1},"undefined"!=typeof e?e.sweetAlert=e.swal=c:h.logStr("SweetAlert is a frontend module!"),r.exports=o["default"]},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n["default"]=i,t.exports=n["default"]},{}],3:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var r=t("./utils"),o=(t("./handle-swal-dom"),t("./handle-dom")),a=function(t,n,i){function a(e){p&&n.confirmButtonColor&&(f.style.backgroundColor=e)}var c,d,u,h=t||e.event,f=h.target||h.srcElement,p=-1!==f.className.indexOf("confirm"),g=-1!==f.className.indexOf("sweet-overlay"),m=o.hasClass(i,"visible"),v=n.doneFunction&&"true"===i.getAttribute("data-has-done-function");switch(p&&n.confirmButtonColor&&(c=n.confirmButtonColor,d=r.colorLuminance(c,-.04),u=r.colorLuminance(c,-.14)),h.type){case"mouseover":a(d);break;case"mouseout":a(c);break;case"mousedown":a(u);break;case"mouseup":a(d);break;case"focus":var y=i.querySelector("button.confirm"),b=i.querySelector("button.cancel");p?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var _=i===f,w=o.isDescendant(i,f);if(!_&&!w&&m&&!n.allowOutsideClick)break;p&&v&&m?s(i,n):v&&m||g?l(i,n):o.isDescendant(i,f)&&"BUTTON"===f.tagName&&sweetAlert.close()}},s=function(e,t){var n=!0;o.hasClass(e,"show-input")&&(n=e.querySelector("input").value,n||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(e,t){var n=String(t.doneFunction).replace(/\s/g,""),i="function("===n.substring(0,9)&&")"!==n.substring(9,10);i&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};i["default"]={handleButton:a,handleConfirm:s,handleCancel:l},n.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(n,i,r){Object.defineProperty(r,"__esModule",{value:!0});var o=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},a=function(e,t){o(e,t)||(e.className+=" "+t)},s=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(o(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},l=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},c=function(e){e.style.opacity="",e.style.display="block"},d=function(e){if(e&&!e.length)return c(e);for(var t=0;t<e.length;++t)c(e[t])},u=function(e){e.style.opacity="",e.style.display="none"},h=function(e){if(e&&!e.length)return u(e);for(var t=0;t<e.length;++t)u(e[t])},f=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},p=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},g=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(i,t)});i()}e.style.display="block"},m=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(i,t):e.style.display="none"});i()},v=function(n){if("function"==typeof MouseEvent){var i=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(i)}else if(t.createEvent){var r=t.createEvent("MouseEvents");r.initEvent("click",!1,!1),n.dispatchEvent(r)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},y=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};r.hasClass=o,r.addClass=a,r.removeClass=s,r.escapeHtml=l,r._show=c,r.show=d,r._hide=u,r.hide=h,r.isDescendant=f,r.getTopMargin=p,r.fadeIn=g,r.fadeOut=m,r.fireClick=v,r.stopEventPropagation=y},{}],5:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});var o=t("./handle-dom"),a=t("./handle-swal-dom"),s=function(t,i,r){var s=t||e.event,l=s.keyCode||s.which,c=r.querySelector("button.confirm"),d=r.querySelector("button.cancel"),u=r.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var h=s.target||s.srcElement,f=-1,p=0;p<u.length;p++)if(h===u[p]){f=p;break}9===l?(h=-1===f?c:f===u.length-1?u[0]:u[f+1],o.stopEventPropagation(s),h.focus(),i.confirmButtonColor&&a.setFocusStyle(h,i.confirmButtonColor)):13===l?("INPUT"===h.tagName&&(h=c,c.focus()),h=-1===f?c:n):27===l&&i.allowEscapeKey===!0?(h=d,o.fireClick(h,s)):h=n}};r["default"]=s,i.exports=r["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,i,r){var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(r,"__esModule",{value:!0});var a=n("./utils"),s=n("./handle-dom"),l=n("./default-params"),c=o(l),d=n("./injected-html"),u=o(d),h=".sweet-alert",f=".sweet-overlay",p=function(){var e=t.createElement("div");for(e.innerHTML=u["default"];e.firstChild;)t.body.appendChild(e.firstChild)},g=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(h);return e||(p(),e=g()),e}),m=function(){var e=g();return e?e.querySelector("input"):void 0},v=function(){return t.querySelector(f)},y=function(e,t){var n=a.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(n){var i=g();s.fadeIn(v(),10),s.show(i),s.addClass(i,"showSweetAlert"),s.removeClass(i,"hideSweetAlert"),e.previousActiveElement=t.activeElement;var r=i.querySelector("button.confirm");r.focus(),setTimeout(function(){s.addClass(i,"visible")},500);var o=i.getAttribute("data-timer");if("null"!==o&&""!==o){var a=n;i.timeout=setTimeout(function(){var e=(a||null)&&"true"===i.getAttribute("data-has-done-function");e?a(null):sweetAlert.close()},o)}},_=function(){var e=g(),t=m();s.removeClass(e,"show-input"),t.value=c["default"].inputValue,t.setAttribute("type",c["default"].inputType),t.setAttribute("placeholder",c["default"].inputPlaceholder),w()},w=function(e){if(e&&13===e.keyCode)return!1;var t=g(),n=t.querySelector(".sa-input-error");s.removeClass(n,"show");var i=t.querySelector(".sa-error-container");s.removeClass(i,"show")},x=function(){var e=g();e.style.marginTop=s.getTopMargin(g())};r.sweetAlertInitialize=p,r.getModal=g,r.getOverlay=v,r.getInput=m,r.setFocusStyle=y,r.openModal=b,r.resetInput=_,r.resetInputError=w,r.fixVerticalPosition=x},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';n["default"]=i,t.exports=n["default"]},{}],8:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var r=e("./utils"),o=e("./handle-swal-dom"),a=e("./handle-dom"),s=["error","warning","info","success","input","prompt"],l=function(e){var t=o.getModal(),i=t.querySelector("h2"),l=t.querySelector("p"),c=t.querySelector("button.cancel"),d=t.querySelector("button.confirm");if(i.innerHTML=e.html?e.title:a.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:a.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&a.show(l),e.customClass)a.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var u=t.getAttribute("data-custom-class");a.removeClass(t,u),t.setAttribute("data-custom-class","")}if(a.hide(t.querySelectorAll(".sa-icon")),e.type&&!r.isIE8()){var h=function(){for(var i=!1,r=0;r<s.length;r++)if(e.type===s[r]){i=!0;break}if(!i)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],c=n;-1!==l.indexOf(e.type)&&(c=t.querySelector(".sa-icon.sa-"+e.type),a.show(c));var d=o.getInput();switch(e.type){case"success":a.addClass(c,"animate"),a.addClass(c.querySelector(".sa-tip"),"animateSuccessTip"),a.addClass(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":a.addClass(c,"animateErrorIcon"),a.addClass(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":a.addClass(c,"pulseWarning"),a.addClass(c.querySelector(".sa-body"),"pulseWarningIns"),a.addClass(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":d.setAttribute("type",e.inputType),d.value=e.inputValue,d.setAttribute("placeholder",e.inputPlaceholder),a.addClass(t,"show-input"),setTimeout(function(){d.focus(),d.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof h)return h.v}if(e.imageUrl){var f=t.querySelector(".sa-icon.sa-custom");f.style.backgroundImage="url("+e.imageUrl+")",a.show(f);var p=80,g=80;if(e.imageSize){var m=e.imageSize.toString().split("x"),v=m[0],y=m[1];v&&y?(p=v,g=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}f.setAttribute("style",f.getAttribute("style")+"width:"+p+"px; height:"+g+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?c.style.display="inline-block":a.hide(c),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?d.style.display="inline-block":a.hide(d),e.cancelButtonText&&(c.innerHTML=a.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(d.innerHTML=a.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(d.style.backgroundColor=e.confirmButtonColor,d.style.borderLeftColor=e.confirmLoadingButtonColor,d.style.borderRightColor=e.confirmLoadingButtonColor,o.setFocusStyle(d,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=!!e.doneFunction;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};i["default"]=l,t.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var r=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},o=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},a=function(){return e.attachEvent&&!e.addEventListener},s=function(t){e.console&&e.console.log("SweetAlert: "+t)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,i,r="#";for(i=0;3>i;i++)n=parseInt(e.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),r+=("00"+n).substr(n.length);return r};i.extend=r,i.hexToRgb=o,i.isIE8=a,i.logStr=s,i.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),!function(e){function t(t,n){this.$el=e(t),this.options=n,this.timeout=null,this.generate()}t.prototype={generate:function(){if(!this.$char){var t=this;this.$container=e('<div style="position:relative; display:inline-block; *display:inline; zoom:1;"></div>'),this.$el.after(this.$container).appendTo(this.$container),this.$char=e('<div class="wChar">123</div>').hide(),this.$char.appendTo(this.$container),this.setTheme(this.options.theme),this.setOpacity(this.options.opacity),this.setPosition(this.options.position),this.$el.keyup(function(e){t.onKeyup(e)})}return this.$char},onKeyup:function(){var e=this.$el.val().length,t=this.options.max-e;this.setTimeout(),0>t&&(this.$el.val(this.$el.val().substring(0,this.options.max)),t=0),this.options.showMinCount&&this.options.min>0&&e<this.options.min?(this.$char.html(e+(this.options.messageMin?" "+this.options.messageMin:"")),this.$char.addClass("wChar-min")):(0>=t?this.$char.addClass("wChar-min"):this.$char.removeClass("wChar-min"),this.$char.html(t+(this.options.message?" "+this.options.message:"")))},setTimeout:function(){var e=this;window.setTimeout(function(){e.$char.fadeIn(e.options.fadeIn)},e.options.delayIn),window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){e.$char.fadeOut(e.options.fadeOut)},e.options.delayOut)},setTheme:function(e){this.$char.attr("class",this.$char.attr("class").replace(/wChar-theme-.+\s|wChar-theme-.+$/,"")),this.$char.addClass("wChar-theme-"+e)},setOpacity:function(e){this.$char.css("opacity",e)},setPosition:function(e){var t=this.$char.outerWidth(!0),n=this.$char.outerHeight(!0),i=this.$el.outerWidth()/2-t/2,r=this.$el.outerHeight()/2-n/2;switch(this.$char.css({left:"",right:"",top:"",bottom:""}),e){case"tl":this.$char.css({left:0,top:-1*n});break;case"tc":this.$char.css({left:i,top:-1*n});break;case"tr":this.$char.css({right:0,top:-1*n});break;case"rt":this.$char.css({right:-1*t,top:0});break;case"rm":this.$char.css({right:-1*t,top:r});break;case"rb":this.$char.css({right:-1*t,bottom:0});break;case"br":this.$char.css({right:0,bottom:-1*n});break;case"bc":this.$char.css({left:i,bottom:-1*n});break;case"bl":this.$char.css({left:0,bottom:-1*n});break;case"lb":this.$char.css({left:-1*t,bottom:0});break;case"lm":this.$char.css({left:-1*t,top:r});break;case"lt":this.$char.css({left:-1*t,top:0})}}},e.fn.wChar=function(n,i){function r(i){var r=e.data(i,"wChar");if(!r){var o=e.extend(!0,{},n);o.min=e(i).attr("data-minlength")||o.min,o.max=e(i).attr("data-maxlength")||o.max,r=new t(i,o),e.data(i,"wChar",r)}return r}if("string"==typeof n){var o=[],a=this.each(function(){var t=e(this).data("wChar");if(t){var r=(i?"set":"get")+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase();t[n]?t[n].apply(t,[i]):i?(t[r]&&t[r].apply(t,[i]),t.options[n]&&(t.options[n]=i)):t[r]?o.push(t[r].apply(t,[i])):t.options[n]?o.push(t.options[n]):o.push(null)}});return 1===o.length?o[0]:o.length>0?o:a}return n=e.extend({},e.fn.wChar.defaults,n),this.each(function(){r(this)})},e.fn.wChar.defaults={theme:"classic",position:"tr",opacity:.9,showMinCount:!0,min:0,max:100,fadeIn:500,fadeOut:500,delayIn:0,delayOut:2e3,message:"",messageMin:""}}(jQuery);